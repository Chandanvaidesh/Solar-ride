(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function bb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var im={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function Sb(){if(By)return Hu;By=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(o,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var g in a)g!=="key"&&(u[g]=a[g])}else u=a;return a=u.ref,{$$typeof:s,type:o,key:d,ref:a!==void 0?a:null,props:u}}return Hu.Fragment=t,Hu.jsx=n,Hu.jsxs=n,Hu}var Hy;function Lb(){return Hy||(Hy=1,im.exports=Sb()),im.exports}var rt=Lb(),rm={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function Ab(){if(jy)return Ft;jy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function I(P){return P===null||typeof P!="object"?null:(P=M&&P[M]||P["@@iterator"],typeof P=="function"?P:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,tt={};function st(P,it,pt){this.props=P,this.context=it,this.refs=tt,this.updater=pt||$}st.prototype.isReactComponent={},st.prototype.setState=function(P,it){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,it,"setState")},st.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ct(){}ct.prototype=st.prototype;function wt(P,it,pt){this.props=P,this.context=it,this.refs=tt,this.updater=pt||$}var mt=wt.prototype=new ct;mt.constructor=wt,nt(mt,st.prototype),mt.isPureReactComponent=!0;var Ht=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},Zt=Object.prototype.hasOwnProperty;function H(P,it,pt,ft,Et,bt){return pt=bt.ref,{$$typeof:s,type:P,key:it,ref:pt!==void 0?pt:null,props:bt}}function D(P,it){return H(P.type,it,void 0,void 0,void 0,P.props)}function k(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function B(P){var it={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pt){return it[pt]})}var z=/\/+/g;function j(P,it){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):it.toString(36)}function V(){}function we(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(V,V):(P.status="pending",P.then(function(it){P.status==="pending"&&(P.status="fulfilled",P.value=it)},function(it){P.status==="pending"&&(P.status="rejected",P.reason=it)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function De(P,it,pt,ft,Et){var bt=typeof P;(bt==="undefined"||bt==="boolean")&&(P=null);var vt=!1;if(P===null)vt=!0;else switch(bt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(P.$$typeof){case s:case t:vt=!0;break;case A:return vt=P._init,De(vt(P._payload),it,pt,ft,Et)}}if(vt)return Et=Et(P),vt=ft===""?"."+j(P,0):ft,Ht(Et)?(pt="",vt!=null&&(pt=vt.replace(z,"$&/")+"/"),De(Et,it,pt,"",function(si){return si})):Et!=null&&(k(Et)&&(Et=D(Et,pt+(Et.key==null||P&&P.key===Et.key?"":(""+Et.key).replace(z,"$&/")+"/")+vt)),it.push(Et)),1;vt=0;var ge=ft===""?".":ft+":";if(Ht(P))for(var ee=0;ee<P.length;ee++)ft=P[ee],bt=ge+j(ft,ee),vt+=De(ft,it,pt,bt,Et);else if(ee=I(P),typeof ee=="function")for(P=ee.call(P),ee=0;!(ft=P.next()).done;)ft=ft.value,bt=ge+j(ft,ee++),vt+=De(ft,it,pt,bt,Et);else if(bt==="object"){if(typeof P.then=="function")return De(we(P),it,pt,ft,Et);throw it=String(P),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return vt}function et(P,it,pt){if(P==null)return P;var ft=[],Et=0;return De(P,ft,"","",function(bt){return it.call(pt,bt,Et++)}),ft}function yt(P){if(P._status===-1){var it=P._result;it=it(),it.then(function(pt){(P._status===0||P._status===-1)&&(P._status=1,P._result=pt)},function(pt){(P._status===0||P._status===-1)&&(P._status=2,P._result=pt)}),P._status===-1&&(P._status=0,P._result=it)}if(P._status===1)return P._result.default;throw P._result}var dt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ie(){}return Ft.Children={map:et,forEach:function(P,it,pt){et(P,function(){it.apply(this,arguments)},pt)},count:function(P){var it=0;return et(P,function(){it++}),it},toArray:function(P){return et(P,function(it){return it})||[]},only:function(P){if(!k(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ft.Component=st,Ft.Fragment=n,Ft.Profiler=a,Ft.PureComponent=wt,Ft.StrictMode=o,Ft.Suspense=v,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Rt.H.useMemoCache(P)}},Ft.cache=function(P){return function(){return P.apply(null,arguments)}},Ft.cloneElement=function(P,it,pt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ft=nt({},P.props),Et=P.key,bt=void 0;if(it!=null)for(vt in it.ref!==void 0&&(bt=void 0),it.key!==void 0&&(Et=""+it.key),it)!Zt.call(it,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&it.ref===void 0||(ft[vt]=it[vt]);var vt=arguments.length-2;if(vt===1)ft.children=pt;else if(1<vt){for(var ge=Array(vt),ee=0;ee<vt;ee++)ge[ee]=arguments[ee+2];ft.children=ge}return H(P.type,Et,void 0,void 0,bt,ft)},Ft.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ft.createElement=function(P,it,pt){var ft,Et={},bt=null;if(it!=null)for(ft in it.key!==void 0&&(bt=""+it.key),it)Zt.call(it,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(Et[ft]=it[ft]);var vt=arguments.length-2;if(vt===1)Et.children=pt;else if(1<vt){for(var ge=Array(vt),ee=0;ee<vt;ee++)ge[ee]=arguments[ee+2];Et.children=ge}if(P&&P.defaultProps)for(ft in vt=P.defaultProps,vt)Et[ft]===void 0&&(Et[ft]=vt[ft]);return H(P,bt,void 0,void 0,null,Et)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(P){return{$$typeof:g,render:P}},Ft.isValidElement=k,Ft.lazy=function(P){return{$$typeof:A,_payload:{_status:-1,_result:P},_init:yt}},Ft.memo=function(P,it){return{$$typeof:T,type:P,compare:it===void 0?null:it}},Ft.startTransition=function(P){var it=Rt.T,pt={};Rt.T=pt;try{var ft=P(),Et=Rt.S;Et!==null&&Et(pt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ie,dt)}catch(bt){dt(bt)}finally{Rt.T=it}},Ft.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()},Ft.use=function(P){return Rt.H.use(P)},Ft.useActionState=function(P,it,pt){return Rt.H.useActionState(P,it,pt)},Ft.useCallback=function(P,it){return Rt.H.useCallback(P,it)},Ft.useContext=function(P){return Rt.H.useContext(P)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(P,it){return Rt.H.useDeferredValue(P,it)},Ft.useEffect=function(P,it,pt){var ft=Rt.H;if(typeof pt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ft.useEffect(P,it)},Ft.useId=function(){return Rt.H.useId()},Ft.useImperativeHandle=function(P,it,pt){return Rt.H.useImperativeHandle(P,it,pt)},Ft.useInsertionEffect=function(P,it){return Rt.H.useInsertionEffect(P,it)},Ft.useLayoutEffect=function(P,it){return Rt.H.useLayoutEffect(P,it)},Ft.useMemo=function(P,it){return Rt.H.useMemo(P,it)},Ft.useOptimistic=function(P,it){return Rt.H.useOptimistic(P,it)},Ft.useReducer=function(P,it,pt){return Rt.H.useReducer(P,it,pt)},Ft.useRef=function(P){return Rt.H.useRef(P)},Ft.useState=function(P){return Rt.H.useState(P)},Ft.useSyncExternalStore=function(P,it,pt){return Rt.H.useSyncExternalStore(P,it,pt)},Ft.useTransition=function(){return Rt.H.useTransition()},Ft.version="19.1.0",Ft}var qy;function ep(){return qy||(qy=1,rm.exports=Ab()),rm.exports}var K=ep();const Sm=bb(K);var sm={exports:{}},ju={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function Cb(){return Gy||(Gy=1,function(s){function t(et,yt){var dt=et.length;et.push(yt);t:for(;0<dt;){var ie=dt-1>>>1,P=et[ie];if(0<a(P,yt))et[ie]=yt,et[dt]=P,dt=ie;else break t}}function n(et){return et.length===0?null:et[0]}function o(et){if(et.length===0)return null;var yt=et[0],dt=et.pop();if(dt!==yt){et[0]=dt;t:for(var ie=0,P=et.length,it=P>>>1;ie<it;){var pt=2*(ie+1)-1,ft=et[pt],Et=pt+1,bt=et[Et];if(0>a(ft,dt))Et<P&&0>a(bt,ft)?(et[ie]=bt,et[Et]=dt,ie=Et):(et[ie]=ft,et[pt]=dt,ie=pt);else if(Et<P&&0>a(bt,dt))et[ie]=bt,et[Et]=dt,ie=Et;else break t}}return yt}function a(et,yt){var dt=et.sortIndex-yt.sortIndex;return dt!==0?dt:et.id-yt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],T=[],A=1,M=null,I=3,$=!1,nt=!1,tt=!1,st=!1,ct=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ht(et){for(var yt=n(T);yt!==null;){if(yt.callback===null)o(T);else if(yt.startTime<=et)o(T),yt.sortIndex=yt.expirationTime,t(v,yt);else break;yt=n(T)}}function Rt(et){if(tt=!1,Ht(et),!nt)if(n(v)!==null)nt=!0,Zt||(Zt=!0,j());else{var yt=n(T);yt!==null&&De(Rt,yt.startTime-et)}}var Zt=!1,H=-1,D=5,k=-1;function B(){return st?!0:!(s.unstable_now()-k<D)}function z(){if(st=!1,Zt){var et=s.unstable_now();k=et;var yt=!0;try{t:{nt=!1,tt&&(tt=!1,wt(H),H=-1),$=!0;var dt=I;try{e:{for(Ht(et),M=n(v);M!==null&&!(M.expirationTime>et&&B());){var ie=M.callback;if(typeof ie=="function"){M.callback=null,I=M.priorityLevel;var P=ie(M.expirationTime<=et);if(et=s.unstable_now(),typeof P=="function"){M.callback=P,Ht(et),yt=!0;break e}M===n(v)&&o(v),Ht(et)}else o(v);M=n(v)}if(M!==null)yt=!0;else{var it=n(T);it!==null&&De(Rt,it.startTime-et),yt=!1}}break t}finally{M=null,I=dt,$=!1}yt=void 0}}finally{yt?j():Zt=!1}}}var j;if(typeof mt=="function")j=function(){mt(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,we=V.port2;V.port1.onmessage=z,j=function(){we.postMessage(null)}}else j=function(){ct(z,0)};function De(et,yt){H=ct(function(){et(s.unstable_now())},yt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(et){et.callback=null},s.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<et?Math.floor(1e3/et):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(et){switch(I){case 1:case 2:case 3:var yt=3;break;default:yt=I}var dt=I;I=yt;try{return et()}finally{I=dt}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(et,yt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var dt=I;I=et;try{return yt()}finally{I=dt}},s.unstable_scheduleCallback=function(et,yt,dt){var ie=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?ie+dt:ie):dt=ie,et){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=dt+P,et={id:A++,callback:yt,priorityLevel:et,startTime:dt,expirationTime:P,sortIndex:-1},dt>ie?(et.sortIndex=dt,t(T,et),n(v)===null&&et===n(T)&&(tt?(wt(H),H=-1):tt=!0,De(Rt,dt-ie))):(et.sortIndex=P,t(v,et),nt||$||(nt=!0,Zt||(Zt=!0,j()))),et},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(et){var yt=I;return function(){var dt=I;I=yt;try{return et.apply(this,arguments)}finally{I=dt}}}}(om)),om}var Fy;function xb(){return Fy||(Fy=1,am.exports=Cb()),am.exports}var lm={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function Rb(){if(Zy)return Nn;Zy=1;var s=ep();function t(v){var T="https://react.dev/errors/"+v;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)T+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(v,T,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:M==null?null:""+M,children:v,containerInfo:T,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,T){if(v==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Nn.createPortal=function(v,T){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return u(v,T,null,A)},Nn.flushSync=function(v){var T=d.T,A=o.p;try{if(d.T=null,o.p=2,v)return v()}finally{d.T=T,o.p=A,o.d.f()}},Nn.preconnect=function(v,T){typeof v=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,o.d.C(v,T))},Nn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Nn.preinit=function(v,T){if(typeof v=="string"&&T&&typeof T.as=="string"){var A=T.as,M=g(A,T.crossOrigin),I=typeof T.integrity=="string"?T.integrity:void 0,$=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;A==="style"?o.d.S(v,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:M,integrity:I,fetchPriority:$}):A==="script"&&o.d.X(v,{crossOrigin:M,integrity:I,fetchPriority:$,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Nn.preinitModule=function(v,T){if(typeof v=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var A=g(T.as,T.crossOrigin);o.d.M(v,{crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&o.d.M(v)},Nn.preload=function(v,T){if(typeof v=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var A=T.as,M=g(A,T.crossOrigin);o.d.L(v,A,{crossOrigin:M,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Nn.preloadModule=function(v,T){if(typeof v=="string")if(T){var A=g(T.as,T.crossOrigin);o.d.m(v,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else o.d.m(v)},Nn.requestFormReset=function(v){o.d.r(v)},Nn.unstable_batchedUpdates=function(v,T){return v(T)},Nn.useFormState=function(v,T,A){return d.H.useFormState(v,T,A)},Nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Nn.version="19.1.0",Nn}var Yy;function M0(){if(Yy)return lm.exports;Yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),lm.exports=Rb(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function Mb(){if(Ky)return ju;Ky=1;var s=xb(),t=ep(),n=M0();function o(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(o(188))}function v(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(o(188));return i!==e?null:e}for(var l=e,h=i;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return g(p),e;if(_===h)return g(p),i;_=_.sibling}throw Error(o(188))}if(l.return!==h.return)l=p,h=_;else{for(var S=!1,x=p.child;x;){if(x===l){S=!0,l=p,h=_;break}if(x===h){S=!0,h=p,l=_;break}x=x.sibling}if(!S){for(x=_.child;x;){if(x===l){S=!0,l=_,h=p;break}if(x===h){S=!0,h=_,l=p;break}x=x.sibling}if(!S)throw Error(o(189))}}if(l.alternate!==h)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),wt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Zt=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case st:return"Profiler";case tt:return"StrictMode";case Rt:return"Suspense";case Zt:return"SuspenseList";case k:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case mt:return(e.displayName||"Context")+".Provider";case wt:return(e._context.displayName||"Context")+".Consumer";case Ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return i=e.displayName||null,i!==null?i:we(e.type)||"Memo";case D:i=e._payload,e=e._init;try{return we(e(i))}catch{}}return null}var De=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},ie=[],P=-1;function it(e){return{current:e}}function pt(e){0>P||(e.current=ie[P],ie[P]=null,P--)}function ft(e,i){P++,ie[P]=e.current,e.current=i}var Et=it(null),bt=it(null),vt=it(null),ge=it(null);function ee(e,i){switch(ft(vt,i),ft(bt,e),ft(Et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?my(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=my(i),e=py(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(Et),ft(Et,e)}function si(){pt(Et),pt(bt),pt(vt)}function Ci(e){e.memoizedState!==null&&ft(ge,e);var i=Et.current,l=py(i,e.type);i!==l&&(ft(bt,e),ft(Et,l))}function ai(e){bt.current===e&&(pt(Et),pt(bt)),ge.current===e&&(pt(ge),Nu._currentValue=dt)}var oi=Object.prototype.hasOwnProperty,Ki=s.unstable_scheduleCallback,Kr=s.unstable_cancelCallback,Is=s.unstable_shouldYield,Ha=s.unstable_requestPaint,xn=s.unstable_now,Ds=s.unstable_getCurrentPriorityLevel,ja=s.unstable_ImmediatePriority,Qr=s.unstable_UserBlockingPriority,Qi=s.unstable_NormalPriority,No=s.unstable_LowPriority,Xr=s.unstable_IdlePriority,qa=s.log,Vo=s.unstable_setDisableYieldValue,Le=null,ue=null;function Rn(e){if(typeof qa=="function"&&Vo(e),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(Le,e)}catch{}}var cn=Math.clz32?Math.clz32:$r,Ga=Math.log,zo=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-(Ga(e)/zo|0)|0}var yr=256,Xi=4194304;function Xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ps(e,i,l){var h=e.pendingLanes;if(h===0)return 0;var p=0,_=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var x=h&134217727;return x!==0?(h=x&~_,h!==0?p=Xn(h):(S&=x,S!==0?p=Xn(S):l||(l=x&~e,l!==0&&(p=Xn(l))))):(x=h&~_,x!==0?p=Xn(x):S!==0?p=Xn(S):l||(l=h&~e,l!==0&&(p=Xn(l)))),p===0?0:i!==0&&i!==p&&(i&_)===0&&(_=p&-p,l=i&-i,_>=l||_===32&&(l&4194048)!==0)?i:p}function li(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Fa(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(){var e=yr;return yr<<=1,(yr&4194048)===0&&(yr=256),e}function ks(){var e=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),e}function xi(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function Ri(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ya(e,i,l,h,p,_){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,N=e.expirationTimes,Y=e.hiddenUpdates;for(l=S&~l;0<l;){var at=31-cn(l),lt=1<<at;x[at]=0,N[at]=-1;var Q=Y[at];if(Q!==null)for(Y[at]=null,at=0;at<Q.length;at++){var X=Q[at];X!==null&&(X.lane&=-536870913)}l&=~lt}h!==0&&Mi(e,h,0),_!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=_&~(S&~i))}function Mi(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var h=31-cn(i);e.entangledLanes|=i,e.entanglements[h]=e.entanglements[h]|1073741824|l&4194090}function Ka(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var h=31-cn(l),p=1<<h;p&i|e[h]&i&&(e[h]|=i),l&=~p}}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function Ns(e,i){var l=yt.p;try{return yt.p=e,i()}finally{yt.p=l}}var Ae=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ae,je="__reactProps$"+Ae,$n="__reactContainer$"+Ae,Mn="__reactEvents$"+Ae,Mt="__reactListeners$"+Ae,$i="__reactHandles$"+Ae,Qa="__reactResources$"+Ae,Tr="__reactMarker$"+Ae;function Wi(e){delete e[Fe],delete e[je],delete e[Mn],delete e[Mt],delete e[$i]}function ui(e){var i=e[Fe];if(i)return i;for(var l=e.parentNode;l;){if(i=l[$n]||l[Fe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=vy(e);e!==null;){if(l=e[Fe])return l;e=vy(e)}return i}e=l,l=e.parentNode}return null}function ci(e){if(e=e[Fe]||e[$n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function En(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(o(33))}function hn(e){var i=e[Qa];return i||(i=e[Qa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(e){e[Tr]=!0}var Xa=new Set,Vs={};function hi(e,i){Ii(e,i),Ii(e+"Capture",i)}function Ii(e,i){for(Vs[e]=i,e=0;e<i.length;e++)Xa.add(i[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},Jr={};function Bo(e){return oi.call(Jr,e)?!0:oi.call(Wr,e)?!1:Uo.test(e)?Jr[e]=!0:(Wr[e]=!0,!1)}function wr(e,i,l){if(Bo(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function Di(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function sn(e,i,l,h){if(h===null)e.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+h)}}var Ji,br;function Pi(e){if(Ji===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ji=i&&i[1]||"",br=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+e+br}var ts=!1;function ki(e,i){if(!e||ts)return"";ts=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(X){var Q=X}Reflect.construct(e,[],lt)}else{try{lt.call()}catch(X){Q=X}e.call(lt.prototype)}}else{try{throw Error()}catch(X){Q=X}(lt=e())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),S=_[0],x=_[1];if(S&&x){var N=S.split(`
`),Y=x.split(`
`);for(p=h=0;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(h===N.length||p===Y.length)for(h=N.length-1,p=Y.length-1;1<=h&&0<=p&&N[h]!==Y[p];)p--;for(;1<=h&&0<=p;h--,p--)if(N[h]!==Y[p]){if(h!==1||p!==1)do if(h--,p--,0>p||N[h]!==Y[p]){var at=`
`+N[h].replace(" at new "," at ");return e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",e.displayName)),at}while(1<=h&&0<=p);break}}}finally{ts=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Pi(l):""}function Kt(e){switch(e.tag){case 26:case 27:case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return ki(e.type,!1);case 11:return ki(e.type.render,!1);case 1:return ki(e.type,!0);case 31:return Pi("Activity");default:return""}}function fe(e){try{var i="";do i+=Kt(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oi(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sr(e){var i=Oi(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),h=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,_=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Lr(e){e._valueTracker||(e._valueTracker=Sr(e))}function Bt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return e&&(h=Oi(e)?e.checked?"true":"false":e.value),e=h,e!==l?(i.setValue(e),!0):!1}function me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $a=/[\n"\\]/g;function Ie(e){return e.replace($a,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ce(e,i,l,h,p,_,S,x){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?fi(e,S,$e(i)):l!=null?fi(e,S,$e(l)):h!=null&&e.removeAttribute("value"),p==null&&_!=null&&(e.defaultChecked=!!_),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+$e(x):e.removeAttribute("name")}function es(e,i,l,h,p,_,S,x){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;l=l!=null?""+$e(l):"",i=i!=null?""+$e(i):l,x||i===e.value||(e.value=i),e.defaultValue=i}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,e.checked=x?e.checked:!!h,e.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function fi(e,i,l){i==="number"&&me(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Tn(e,i,l,h){if(e=e.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=i.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&h&&(e[l].defaultSelected=!0)}else{for(l=""+$e(l),i=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,h&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Nt(e,i,l){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+$e(l):""}function jn(e,i,l,h){if(i==null){if(h!=null){if(l!=null)throw Error(o(92));if(De(h)){if(1<h.length)throw Error(o(93));h=h[0]}l=h}l==null&&(l=""),i=l}l=$e(i),e.defaultValue=l,h=e.textContent,h===l&&h!==""&&h!==null&&(e.value=h)}function fn(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(e,i,l){var h=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":h?e.setProperty(i,l):typeof l!="number"||l===0||di.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function tr(e,i,l){if(i!=null&&typeof i!="object")throw Error(o(62));if(e=e.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?e.setProperty(h,""):h==="float"?e.cssFloat="":e[h]="");for(var p in i)h=i[p],i.hasOwnProperty(p)&&l[p]!==h&&zs(e,p,h)}else for(var _ in i)i.hasOwnProperty(_)&&zs(e,_,i[_])}function ns(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ar(e){return Us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mi=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,pi=null;function Ja(e){var i=ci(e);if(i&&(e=i.stateNode)){var l=e[je]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ce(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ie(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==e&&h.form===e.form){var p=h[je]||null;if(!p)throw Error(o(90));Ce(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)h=l[i],h.form===e.form&&Bt(h)}break t;case"textarea":Nt(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&Tn(e,!!l.multiple,i,!1)}}}var Dt=!1;function qn(e,i,l){if(Dt)return e(i,l);Dt=!0;try{var h=e(i);return h}finally{if(Dt=!1,(Ni!==null||pi!==null)&&(nh(),Ni&&(i=Ni,e=pi,pi=Ni=null,Ja(i),e)))for(i=0;i<e.length;i++)Ja(e[i])}}function re(e,i){var l=e.stateNode;if(l===null)return null;var h=l[je]||null;if(h===null)return null;l=h[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,i,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Wn)try{var er={};Object.defineProperty(er,"passive",{get:function(){In=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{In=!1}var Jn=null,Dn=null,_i=null;function nr(){if(_i)return _i;var e,i=Dn,l=i.length,h,p="value"in Jn?Jn.value:Jn.textContent,_=p.length;for(e=0;e<l&&i[e]===p[e];e++);var S=l-e;for(h=1;h<=S&&i[l-h]===p[_-h];h++);return _i=p.slice(e,1<h?1-h:void 0)}function ye(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function dn(){return!0}function Bs(){return!1}function Ze(e){function i(l,h,p,_,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(_):_[x]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?dn:Bs,this.isPropagationStopped=Bs,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),i}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Ze(ce),ir=A({},ce,{view:0,detail:0}),Ho=Ze(ir),rs,Gt,Vi,an=A({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(rs=e.screenX-Vi.screenX,Gt=e.screenY-Vi.screenY):Gt=rs=0,Vi=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:Gt}}),mn=Ze(an),to=A({},an,{dataTransfer:0}),Jl=Ze(to),rr=A({},ir,{relatedTarget:0}),Hs=Ze(rr),js=A({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),qs=Ze(js),jo=A({},ce,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cr=Ze(jo),tu=A({},ce,{data:0}),Pn=Ze(tu),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=gi[e])?!!i[e]:!1}function xr(){return Gs}var Fs=A({},ir,{key:function(e){if(e.key){var i=ss[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ye(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?ye(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ye(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zs=Ze(Fs),no=A({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Ze(no),sr=A({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),qo=Ze(sr),Ks=A({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),Go=Ze(Ks),io=A({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),as=Ze(io),We=A({},ce,{newState:0,oldState:0}),zi=Ze(We),Fo=[9,13,27,32],kn=Wn&&"CompositionEvent"in window,f=null;Wn&&"documentMode"in document&&(f=document.documentMode);var E=Wn&&"TextEvent"in window&&!f,b=Wn&&(!kn||f&&8<f&&11>=f),R=" ",G=!1;function J(e,i){switch(e){case"keyup":return Fo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wt=!1;function qe(e,i){switch(e){case"compositionend":return gt(i);case"keypress":return i.which!==32?null:(G=!0,R);case"textInput":return e=i.data,e===R&&G?null:e;default:return null}}function Jt(e,i){if(Wt)return e==="compositionend"||!kn&&J(e,i)?(e=nr(),_i=Dn=Jn=null,Wt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!de[e.type]:i==="textarea"}function ar(e,i,l,h){Ni?pi?pi.push(h):pi=[h]:Ni=h,i=lh(i,"onChange"),0<i.length&&(l=new is("onChange","change",null,l,h),e.push({event:l,listeners:i}))}var be=null,Ui=null;function Bi(e){uy(e,0)}function Zo(e){var i=En(e);if(Bt(i))return e}function Qs(e,i){if(e==="change")return i}var eu=!1;if(Wn){var Xs;if(Wn){var nu="oninput"in document;if(!nu){var or=document.createElement("div");or.setAttribute("oninput","return;"),nu=typeof or.oninput=="function"}Xs=nu}else Xs=!1;eu=Xs&&(!document.documentMode||9<document.documentMode)}function ro(){be&&(be.detachEvent("onpropertychange",Tc),Ui=be=null)}function Tc(e){if(e.propertyName==="value"&&Zo(Ui)){var i=[];ar(i,Ui,e,wn(e)),qn(Bi,i)}}function iu(e,i,l){e==="focusin"?(ro(),be=i,Ui=l,be.attachEvent("onpropertychange",Tc)):e==="focusout"&&ro()}function Cf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(Ui)}function lr(e,i){if(e==="click")return Zo(i)}function xf(e,i){if(e==="input"||e==="change")return Zo(i)}function $s(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Gn=typeof Object.is=="function"?Object.is:$s;function Fn(e,i){if(Gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!oi.call(i,p)||!Gn(e[p],i[p]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,i){var l=so(e);e=0;for(var h;l;){if(l.nodeType===3){if(h=e+l.textContent.length,e<=i&&h>=i)return{node:l,offset:i-e};e=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=so(l)}}function Yo(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Yo(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ao(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=me(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=me(e.document)}return i}function oo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ko=Wn&&"documentMode"in document&&11>=document.documentMode,yi=null,Ws=null,os=null,Qo=!1;function wc(e,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qo||yi==null||yi!==me(h)||(h=yi,"selectionStart"in h&&oo(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),os&&Fn(os,h)||(os=h,h=lh(Ws,"onSelect"),0<h.length&&(i=new is("onSelect","select",null,i,l),e.push({event:i,listeners:h}),i.target=yi)))}function Hi(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var Js={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},Xo={},bc={};Wn&&(bc=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Rr(e){if(Xo[e])return Xo[e];if(!Js[e])return e;var i=Js[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in bc)return Xo[e]=i[l];return e}var Sc=Rr("animationend"),vi=Rr("animationiteration"),lo=Rr("animationstart"),Rf=Rr("transitionrun"),$o=Rr("transitionstart"),Mf=Rr("transitioncancel"),su=Rr("transitionend"),Lc=new Map,ls="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ls.push("scrollEnd");function Ei(e,i){Lc.set(e,i),hi(i,[e])}var us=new WeakMap;function Zn(e,i){if(typeof e=="object"&&e!==null){var l=us.get(e);return l!==void 0?l:(i={value:e,source:i,stack:fe(i)},us.set(e,i),i)}return{value:e,source:i,stack:fe(i)}}var Yn=[],ta=0,Ti=0;function uo(){for(var e=ta,i=Ti=ta=0;i<e;){var l=Yn[i];Yn[i++]=null;var h=Yn[i];Yn[i++]=null;var p=Yn[i];Yn[i++]=null;var _=Yn[i];if(Yn[i++]=null,h!==null&&p!==null){var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}_!==0&&ho(l,p,_)}}function co(e,i,l,h){Yn[ta++]=e,Yn[ta++]=i,Yn[ta++]=l,Yn[ta++]=h,Ti|=h,e.lanes|=h,e=e.alternate,e!==null&&(e.lanes|=h)}function cs(e,i,l,h){return co(e,i,l,h),Mr(e)}function ea(e,i){return co(e,null,null,i),Mr(e)}function ho(e,i,l){e.lanes|=l;var h=e.alternate;h!==null&&(h.lanes|=l);for(var p=!1,_=e.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(p=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,p&&i!==null&&(p=31-cn(l),e=_.hiddenUpdates,h=e[p],h===null?e[p]=[i]:h.push(i),i.lane=l|536870912),_):null}function Mr(e){if(50<xu)throw xu=0,Cd=null,Error(o(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var hs={};function Ac(e,i,l,h){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,i,l,h){return new Ac(e,i,l,h)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var l=e.alternate;return l===null?(l=Kn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function au(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function fo(e,i,l,h,p,_){var S=0;if(h=e,typeof e=="function")Wo(e)&&(S=1);else if(typeof e=="string")S=cb(e,l,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case k:return e=Kn(31,l,i,p),e.elementType=k,e.lanes=_,e;case nt:return Ir(l.children,p,_,i);case tt:S=8,p|=24;break;case st:return e=Kn(12,l,i,p|2),e.elementType=st,e.lanes=_,e;case Rt:return e=Kn(13,l,i,p),e.elementType=Rt,e.lanes=_,e;case Zt:return e=Kn(19,l,i,p),e.elementType=Zt,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:case mt:S=10;break t;case wt:S=9;break t;case Ht:S=11;break t;case H:S=14;break t;case D:S=16,h=null;break t}S=29,l=Error(o(130,e===null?"null":typeof e,"")),h=null}return i=Kn(S,l,i,p),i.elementType=e,i.type=h,i.lanes=_,i}function Ir(e,i,l,h){return e=Kn(7,e,h,i),e.lanes=l,e}function ou(e,i,l){return e=Kn(6,e,null,i),e.lanes=l,e}function Jo(e,i,l){return i=Kn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var fs=[],na=0,r=null,c=0,m=[],y=0,w=null,C=1,O="";function F(e,i){fs[na++]=c,fs[na++]=r,r=e,c=i}function W(e,i,l){m[y++]=C,m[y++]=O,m[y++]=w,w=e;var h=C;e=O;var p=32-cn(h)-1;h&=~(1<<p),l+=1;var _=32-cn(i)+p;if(30<_){var S=p-p%5;_=(h&(1<<S)-1).toString(32),h>>=S,p-=S,C=1<<32-cn(i)+p|l<<p|h,O=_+e}else C=1<<_|l<<p|h,O=e}function ht(e){e.return!==null&&(F(e,1),W(e,1,0))}function Tt(e){for(;e===r;)r=fs[--na],fs[na]=null,c=fs[--na],fs[na]=null;for(;e===w;)w=m[--y],m[y]=null,O=m[--y],m[y]=null,C=m[--y],m[y]=null}var Lt=null,xt=null,zt=!1,Re=null,ze=!1,pn=Error(o(519));function ti(e){var i=Error(o(418,""));throw ra(Zn(i,e)),pn}function Cc(e){var i=e.stateNode,l=e.type,h=e.memoizedProps;switch(i[Fe]=e,i[je]=h,l){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(l=0;l<Mu.length;l++)$t(Mu[l],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),es(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Lr(i);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),jn(i,h.value,h.defaultValue,h.children),Lr(i)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||h.suppressHydrationWarning===!0||dy(i.textContent,l)?(h.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),h.onScroll!=null&&$t("scroll",i),h.onScrollEnd!=null&&$t("scrollend",i),h.onClick!=null&&(i.onclick=uh),i=!0):i=!1,i||ti(e)}function xc(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:ze=!1;return;case 27:case 3:ze=!0;return;default:Lt=Lt.return}}function mo(e){if(e!==Lt)return!1;if(!zt)return xc(e),zt=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||qd(e.type,e.memoizedProps)),l=!l),l&&xt&&ti(e),xc(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){xt=fr(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}xt=null}}else i===27?(i=xt,va(e.type)?(e=Yd,Yd=null,xt=e):xt=i):xt=Lt?fr(e.stateNode.nextSibling):null;return!0}function ia(){xt=Lt=null,zt=!1}function Rc(){var e=Re;return e!==null&&(ii===null?ii=e:ii.push.apply(ii,e),Re=null),e}function ra(e){Re===null?Re=[e]:Re.push(e)}var Pe=it(null),qi=null,ur=null;function Dr(e,i,l){ft(Pe,i._currentValue),i._currentValue=l}function cr(e){e._currentValue=Pe.current,pt(Pe)}function po(e,i,l){for(;e!==null;){var h=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),e===l)break;e=e.return}}function tl(e,i,l,h){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var _=p.dependencies;if(_!==null){var S=p.child;_=_.firstContext;t:for(;_!==null;){var x=_;_=p;for(var N=0;N<i.length;N++)if(x.context===i[N]){_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),po(_.return,l,e),h||(S=null);break t}_=x.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(o(341));S.lanes|=l,_=S.alternate,_!==null&&(_.lanes|=l),po(S,l,e),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===e){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function _o(e,i,l,h){e=null;for(var p=i,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var x=p.type;Gn(p.pendingProps.value,S.value)||(e!==null?e.push(x):e=[x])}}else if(p===ge.current){if(S=p.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Nu):e=[Nu])}p=p.return}e!==null&&tl(i,e,l,h),i.flags|=262144}function Mc(e){for(e=e.firstContext;e!==null;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function go(e){qi=e,ur=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function On(e){return Jp(qi,e)}function Ic(e,i){return qi===null&&go(e),Jp(e,i)}function Jp(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ur===null){if(e===null)throw Error(o(308));ur=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ur=ur.next=i;return l}var uw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,h){e.push(h)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},cw=s.unstable_scheduleCallback,hw=s.unstable_NormalPriority,on={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new uw,data:new Map,refCount:0}}function lu(e){e.refCount--,e.refCount===0&&cw(hw,function(){e.controller.abort()})}var uu=null,Df=0,el=0,nl=null;function fw(e,i){if(uu===null){var l=uu=[];Df=0,el=kd(),nl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Df++,i.then(t_,t_),i}function t_(){if(--Df===0&&uu!==null){nl!==null&&(nl.status="fulfilled");var e=uu;uu=null,el=0,nl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function dw(e,i){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){h.status="fulfilled",h.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var e_=et.S;et.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fw(e,i),e_!==null&&e_(e,i)};var yo=it(null);function Pf(){var e=yo.current;return e!==null?e:Me.pooledCache}function Dc(e,i){i===null?ft(yo,yo.current):ft(yo,i.pool)}function n_(){var e=Pf();return e===null?null:{parent:on._currentValue,pool:e}}var cu=Error(o(460)),i_=Error(o(474)),Pc=Error(o(542)),kf={then:function(){}};function r_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kc(){}function s_(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(kc,kc),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,o_(e),e;default:if(typeof i.status=="string")i.then(kc,kc);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=i,e.status="pending",e.then(function(h){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=h}},function(h){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,o_(e),e}throw hu=i,cu}}var hu=null;function a_(){if(hu===null)throw Error(o(459));var e=hu;return hu=null,e}function o_(e){if(e===cu||e===Pc)throw Error(o(483))}var sa=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,i,l){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(pe&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,i=Mr(e),ho(e,null,l),i}return co(e,h,i,l),Mr(e)}function fu(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var h=i.lanes;h&=e.pendingLanes,l|=h,i.lanes=l,Ka(e,l)}}function Vf(e,i){var l=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=S:_=_.next=S,l=l.next}while(l!==null);_===null?p=_=i:_=_.next=i}else p=_=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var zf=!1;function du(){if(zf){var e=nl;if(e!==null)throw e}}function mu(e,i,l,h){zf=!1;var p=e.updateQueue;sa=!1;var _=p.firstBaseUpdate,S=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var N=x,Y=N.next;N.next=null,S===null?_=Y:S.next=Y,S=N;var at=e.alternate;at!==null&&(at=at.updateQueue,x=at.lastBaseUpdate,x!==S&&(x===null?at.firstBaseUpdate=Y:x.next=Y,at.lastBaseUpdate=N))}if(_!==null){var lt=p.baseState;S=0,at=Y=N=null,x=_;do{var Q=x.lane&-536870913,X=Q!==x.lane;if(X?(se&Q)===Q:(h&Q)===Q){Q!==0&&Q===el&&(zf=!0),at!==null&&(at=at.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Vt=e,Pt=x;Q=i;var Te=l;switch(Pt.tag){case 1:if(Vt=Pt.payload,typeof Vt=="function"){lt=Vt.call(Te,lt,Q);break t}lt=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Pt.payload,Q=typeof Vt=="function"?Vt.call(Te,lt,Q):Vt,Q==null)break t;lt=A({},lt,Q);break t;case 2:sa=!0}}Q=x.callback,Q!==null&&(e.flags|=64,X&&(e.flags|=8192),X=p.callbacks,X===null?p.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},at===null?(Y=at=X,N=lt):at=at.next=X,S|=Q;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;X=x,x=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);at===null&&(N=lt),p.baseState=N,p.firstBaseUpdate=Y,p.lastBaseUpdate=at,_===null&&(p.shared.lanes=0),pa|=S,e.lanes=S,e.memoizedState=lt}}function l_(e,i){if(typeof e!="function")throw Error(o(191,e));e.call(i)}function u_(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)l_(l[e],i)}var il=it(null),Oc=it(0);function c_(e,i){e=vs,ft(Oc,e),ft(il,i),vs=e|i.baseLanes}function Uf(){ft(Oc,vs),ft(il,il.current)}function Bf(){vs=Oc.current,pt(il),pt(Oc)}var la=0,Yt=null,ve=null,Je=null,Nc=!1,rl=!1,vo=!1,Vc=0,pu=0,sl=null,mw=0;function Ye(){throw Error(o(321))}function Hf(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!Gn(e[l],i[l]))return!1;return!0}function jf(e,i,l,h,p,_){return la=_,Yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,et.H=e===null||e.memoizedState===null?Y_:K_,vo=!1,_=l(h,p),vo=!1,rl&&(_=f_(i,l,h,p)),h_(e),_}function h_(e){et.H=qc;var i=ve!==null&&ve.next!==null;if(la=0,Je=ve=Yt=null,Nc=!1,pu=0,sl=null,i)throw Error(o(300));e===null||_n||(e=e.dependencies,e!==null&&Mc(e)&&(_n=!0))}function f_(e,i,l,h){Yt=e;var p=0;do{if(rl&&(sl=null),pu=0,rl=!1,25<=p)throw Error(o(301));if(p+=1,Je=ve=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}et.H=Tw,_=i(l,h)}while(rl);return _}function pw(){var e=et.H,i=e.useState()[0];return i=typeof i.then=="function"?_u(i):i,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(Yt.flags|=1024),i}function qf(){var e=Vc!==0;return Vc=0,e}function Gf(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function Ff(e){if(Nc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Nc=!1}la=0,Je=ve=Yt=null,rl=!1,pu=Vc=0,sl=null}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Yt.memoizedState=Je=e:Je=Je.next=e,Je}function tn(){if(ve===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var i=Je===null?Yt.memoizedState:Je.next;if(i!==null)Je=i,ve=e;else{if(e===null)throw Yt.alternate===null?Error(o(467)):Error(o(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Je===null?Yt.memoizedState=Je=e:Je=Je.next=e}return Je}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _u(e){var i=pu;return pu+=1,sl===null&&(sl=[]),e=s_(sl,e,i),i=Yt,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,et.H=i===null||i.memoizedState===null?Y_:K_),e}function zc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _u(e);if(e.$$typeof===mt)return On(e)}throw Error(o(438,String(e)))}function Yf(e){var i=null,l=Yt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var h=Yt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Zf(),Yt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),h=0;h<e;h++)l[h]=B;return i.index++,l}function ds(e,i){return typeof i=="function"?i(e):i}function Uc(e){var i=tn();return Kf(i,ve,e)}function Kf(e,i,l){var h=e.queue;if(h===null)throw Error(o(311));h.lastRenderedReducer=l;var p=e.baseQueue,_=h.pending;if(_!==null){if(p!==null){var S=p.next;p.next=_.next,_.next=S}i.baseQueue=p=_,h.pending=null}if(_=e.baseState,p===null)e.memoizedState=_;else{i=p.next;var x=S=null,N=null,Y=i,at=!1;do{var lt=Y.lane&-536870913;if(lt!==Y.lane?(se&lt)===lt:(la&lt)===lt){var Q=Y.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),lt===el&&(at=!0);else if((la&Q)===Q){Y=Y.next,Q===el&&(at=!0);continue}else lt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(x=N=lt,S=_):N=N.next=lt,Yt.lanes|=Q,pa|=Q;lt=Y.action,vo&&l(_,lt),_=Y.hasEagerState?Y.eagerState:l(_,lt)}else Q={lane:lt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(x=N=Q,S=_):N=N.next=Q,Yt.lanes|=lt,pa|=lt;Y=Y.next}while(Y!==null&&Y!==i);if(N===null?S=_:N.next=x,!Gn(_,e.memoizedState)&&(_n=!0,at&&(l=nl,l!==null)))throw l;e.memoizedState=_,e.baseState=S,e.baseQueue=N,h.lastRenderedState=_}return p===null&&(h.lanes=0),[e.memoizedState,h.dispatch]}function Qf(e){var i=tn(),l=i.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var h=l.dispatch,p=l.pending,_=i.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do _=e(_,S.action),S=S.next;while(S!==p);Gn(_,i.memoizedState)||(_n=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),l.lastRenderedState=_}return[_,h]}function d_(e,i,l){var h=Yt,p=tn(),_=zt;if(_){if(l===void 0)throw Error(o(407));l=l()}else l=i();var S=!Gn((ve||p).memoizedState,l);S&&(p.memoizedState=l,_n=!0),p=p.queue;var x=__.bind(null,h,p,e);if(gu(2048,8,x,[e]),p.getSnapshot!==i||S||Je!==null&&Je.memoizedState.tag&1){if(h.flags|=2048,al(9,Bc(),p_.bind(null,h,p,l,i),null),Me===null)throw Error(o(349));_||(la&124)!==0||m_(h,i,l)}return l}function m_(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=Yt.updateQueue,i===null?(i=Zf(),Yt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function p_(e,i,l,h){i.value=l,i.getSnapshot=h,g_(i)&&y_(e)}function __(e,i,l){return l(function(){g_(i)&&y_(e)})}function g_(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!Gn(e,l)}catch{return!0}}function y_(e){var i=ea(e,2);i!==null&&Ai(i,e,2)}function Xf(e){var i=ei();if(typeof e=="function"){var l=e;if(e=l(),vo){Rn(!0);try{l()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},i}function v_(e,i,l,h){return e.baseState=l,Kf(e,ve,typeof h=="function"?h:ds)}function _w(e,i,l,h,p){if(jc(e))throw Error(o(485));if(e=i.action,e!==null){var _={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};et.T!==null?l(!0):_.isTransition=!1,h(_),l=i.pending,l===null?(_.next=i.pending=_,E_(i,_)):(_.next=l.next,i.pending=l.next=_)}}function E_(e,i){var l=i.action,h=i.payload,p=e.state;if(i.isTransition){var _=et.T,S={};et.T=S;try{var x=l(p,h),N=et.S;N!==null&&N(S,x),T_(e,i,x)}catch(Y){$f(e,i,Y)}finally{et.T=_}}else try{_=l(p,h),T_(e,i,_)}catch(Y){$f(e,i,Y)}}function T_(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){w_(e,i,h)},function(h){return $f(e,i,h)}):w_(e,i,l)}function w_(e,i,l){i.status="fulfilled",i.value=l,b_(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,E_(e,l)))}function $f(e,i,l){var h=e.pending;if(e.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=l,b_(i),i=i.next;while(i!==h)}e.action=null}function b_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function S_(e,i){return i}function L_(e,i){if(zt){var l=Me.formState;if(l!==null){t:{var h=Yt;if(zt){if(xt){e:{for(var p=xt,_=ze;p.nodeType!==8;){if(!_){p=null;break e}if(p=fr(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){xt=fr(p.nextSibling),h=p.data==="F!";break t}}ti(h)}h=!1}h&&(i=l[0])}}return l=ei(),l.memoizedState=l.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:i},l.queue=h,l=G_.bind(null,Yt,h),h.dispatch=l,h=Xf(!1),_=nd.bind(null,Yt,!1,h.queue),h=ei(),p={state:i,dispatch:null,action:e,pending:null},h.queue=p,l=_w.bind(null,Yt,p,_,l),p.dispatch=l,h.memoizedState=e,[i,l,!1]}function A_(e){var i=tn();return C_(i,ve,e)}function C_(e,i,l){if(i=Kf(e,i,S_)[0],e=Uc(ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=_u(i)}catch(S){throw S===cu?Pc:S}else h=i;i=tn();var p=i.queue,_=p.dispatch;return l!==i.memoizedState&&(Yt.flags|=2048,al(9,Bc(),gw.bind(null,p,l),null)),[h,_,e]}function gw(e,i){e.action=i}function x_(e){var i=tn(),l=ve;if(l!==null)return C_(i,l,e);tn(),i=i.memoizedState,l=tn();var h=l.queue.dispatch;return l.memoizedState=e,[i,h,!1]}function al(e,i,l,h){return e={tag:e,create:l,deps:h,inst:i,next:null},i=Yt.updateQueue,i===null&&(i=Zf(),Yt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(h=l.next,l.next=e,e.next=h,i.lastEffect=e),e}function Bc(){return{destroy:void 0,resource:void 0}}function R_(){return tn().memoizedState}function Hc(e,i,l,h){var p=ei();h=h===void 0?null:h,Yt.flags|=e,p.memoizedState=al(1|i,Bc(),l,h)}function gu(e,i,l,h){var p=tn();h=h===void 0?null:h;var _=p.memoizedState.inst;ve!==null&&h!==null&&Hf(h,ve.memoizedState.deps)?p.memoizedState=al(i,_,l,h):(Yt.flags|=e,p.memoizedState=al(1|i,_,l,h))}function M_(e,i){Hc(8390656,8,e,i)}function I_(e,i){gu(2048,8,e,i)}function D_(e,i){return gu(4,2,e,i)}function P_(e,i){return gu(4,4,e,i)}function k_(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function O_(e,i,l){l=l!=null?l.concat([e]):null,gu(4,4,k_.bind(null,i,e),l)}function Wf(){}function N_(e,i){var l=tn();i=i===void 0?null:i;var h=l.memoizedState;return i!==null&&Hf(i,h[1])?h[0]:(l.memoizedState=[e,i],e)}function V_(e,i){var l=tn();i=i===void 0?null:i;var h=l.memoizedState;if(i!==null&&Hf(i,h[1]))return h[0];if(h=e(),vo){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[h,i],h}function Jf(e,i,l){return l===void 0||(la&1073741824)!==0?e.memoizedState=i:(e.memoizedState=l,e=Bg(),Yt.lanes|=e,pa|=e,l)}function z_(e,i,l,h){return Gn(l,i)?l:il.current!==null?(e=Jf(e,l,h),Gn(e,i)||(_n=!0),e):(la&42)===0?(_n=!0,e.memoizedState=l):(e=Bg(),Yt.lanes|=e,pa|=e,i)}function U_(e,i,l,h,p){var _=yt.p;yt.p=_!==0&&8>_?_:8;var S=et.T,x={};et.T=x,nd(e,!1,i,l);try{var N=p(),Y=et.S;if(Y!==null&&Y(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var at=dw(N,h);yu(e,i,at,Li(e))}else yu(e,i,h,Li(e))}catch(lt){yu(e,i,{then:function(){},status:"rejected",reason:lt},Li())}finally{yt.p=_,et.T=S}}function yw(){}function td(e,i,l,h){if(e.tag!==5)throw Error(o(476));var p=B_(e).queue;U_(e,p,i,dt,l===null?yw:function(){return H_(e),l(h)})}function B_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:dt},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function H_(e){var i=B_(e).next.queue;yu(e,i,{},Li())}function ed(){return On(Nu)}function j_(){return tn().memoizedState}function q_(){return tn().memoizedState}function vw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=Li();e=aa(l);var h=oa(i,e,l);h!==null&&(Ai(h,i,l),fu(h,i,l)),i={cache:If()},e.payload=i;return}i=i.return}}function Ew(e,i,l){var h=Li();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jc(e)?F_(i,l):(l=cs(e,i,l,h),l!==null&&(Ai(l,e,h),Z_(l,i,h)))}function G_(e,i,l){var h=Li();yu(e,i,l,h)}function yu(e,i,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jc(e))F_(i,p);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var S=i.lastRenderedState,x=_(S,l);if(p.hasEagerState=!0,p.eagerState=x,Gn(x,S))return co(e,i,p,0),Me===null&&uo(),!1}catch{}finally{}if(l=cs(e,i,p,h),l!==null)return Ai(l,e,h),Z_(l,i,h),!0}return!1}function nd(e,i,l,h){if(h={lane:2,revertLane:kd(),action:h,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(i)throw Error(o(479))}else i=cs(e,l,h,2),i!==null&&Ai(i,e,2)}function jc(e){var i=e.alternate;return e===Yt||i!==null&&i===Yt}function F_(e,i){rl=Nc=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function Z_(e,i,l){if((l&4194048)!==0){var h=i.lanes;h&=e.pendingLanes,l|=h,i.lanes=l,Ka(e,l)}}var qc={readContext:On,use:zc,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},Y_={readContext:On,use:zc,useCallback:function(e,i){return ei().memoizedState=[e,i===void 0?null:i],e},useContext:On,useEffect:M_,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,Hc(4194308,4,k_.bind(null,i,e),l)},useLayoutEffect:function(e,i){return Hc(4194308,4,e,i)},useInsertionEffect:function(e,i){Hc(4,2,e,i)},useMemo:function(e,i){var l=ei();i=i===void 0?null:i;var h=e();if(vo){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[h,i],h},useReducer:function(e,i,l){var h=ei();if(l!==void 0){var p=l(i);if(vo){Rn(!0);try{l(i)}finally{Rn(!1)}}}else p=i;return h.memoizedState=h.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},h.queue=e,e=e.dispatch=Ew.bind(null,Yt,e),[h.memoizedState,e]},useRef:function(e){var i=ei();return e={current:e},i.memoizedState=e},useState:function(e){e=Xf(e);var i=e.queue,l=G_.bind(null,Yt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:Wf,useDeferredValue:function(e,i){var l=ei();return Jf(l,e,i)},useTransition:function(){var e=Xf(!1);return e=U_.bind(null,Yt,e.queue,!0,!1),ei().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var h=Yt,p=ei();if(zt){if(l===void 0)throw Error(o(407));l=l()}else{if(l=i(),Me===null)throw Error(o(349));(se&124)!==0||m_(h,i,l)}p.memoizedState=l;var _={value:l,getSnapshot:i};return p.queue=_,M_(__.bind(null,h,_,e),[e]),h.flags|=2048,al(9,Bc(),p_.bind(null,h,_,l,i),null),l},useId:function(){var e=ei(),i=Me.identifierPrefix;if(zt){var l=O,h=C;l=(h&~(1<<32-cn(h)-1)).toString(32)+l,i=""+i+"R"+l,l=Vc++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=mw++,i=""+i+"r"+l.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:ed,useFormState:L_,useActionState:L_,useOptimistic:function(e){var i=ei();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=nd.bind(null,Yt,!0,l),l.dispatch=i,[e,i]},useMemoCache:Yf,useCacheRefresh:function(){return ei().memoizedState=vw.bind(null,Yt)}},K_={readContext:On,use:zc,useCallback:N_,useContext:On,useEffect:I_,useImperativeHandle:O_,useInsertionEffect:D_,useLayoutEffect:P_,useMemo:V_,useReducer:Uc,useRef:R_,useState:function(){return Uc(ds)},useDebugValue:Wf,useDeferredValue:function(e,i){var l=tn();return z_(l,ve.memoizedState,e,i)},useTransition:function(){var e=Uc(ds)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:_u(e),i]},useSyncExternalStore:d_,useId:j_,useHostTransitionStatus:ed,useFormState:A_,useActionState:A_,useOptimistic:function(e,i){var l=tn();return v_(l,ve,e,i)},useMemoCache:Yf,useCacheRefresh:q_},Tw={readContext:On,use:zc,useCallback:N_,useContext:On,useEffect:I_,useImperativeHandle:O_,useInsertionEffect:D_,useLayoutEffect:P_,useMemo:V_,useReducer:Qf,useRef:R_,useState:function(){return Qf(ds)},useDebugValue:Wf,useDeferredValue:function(e,i){var l=tn();return ve===null?Jf(l,e,i):z_(l,ve.memoizedState,e,i)},useTransition:function(){var e=Qf(ds)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:_u(e),i]},useSyncExternalStore:d_,useId:j_,useHostTransitionStatus:ed,useFormState:x_,useActionState:x_,useOptimistic:function(e,i){var l=tn();return ve!==null?v_(l,ve,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:q_},ol=null,vu=0;function Gc(e){var i=vu;return vu+=1,ol===null&&(ol=[]),s_(ol,e,i)}function Eu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fc(e,i){throw i.$$typeof===M?Error(o(525)):(e=Object.prototype.toString.call(i),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Q_(e){var i=e._init;return i(e._payload)}function X_(e){function i(q,U){if(e){var Z=q.deletions;Z===null?(q.deletions=[U],q.flags|=16):Z.push(U)}}function l(q,U){if(!e)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function h(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function p(q,U){return q=ji(q,U),q.index=0,q.sibling=null,q}function _(q,U,Z){return q.index=Z,e?(Z=q.alternate,Z!==null?(Z=Z.index,Z<U?(q.flags|=67108866,U):Z):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function S(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function x(q,U,Z,ot){return U===null||U.tag!==6?(U=ou(Z,q.mode,ot),U.return=q,U):(U=p(U,Z),U.return=q,U)}function N(q,U,Z,ot){var At=Z.type;return At===nt?at(q,U,Z.props.children,ot,Z.key):U!==null&&(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===D&&Q_(At)===U.type)?(U=p(U,Z.props),Eu(U,Z),U.return=q,U):(U=fo(Z.type,Z.key,Z.props,null,q.mode,ot),Eu(U,Z),U.return=q,U)}function Y(q,U,Z,ot){return U===null||U.tag!==4||U.stateNode.containerInfo!==Z.containerInfo||U.stateNode.implementation!==Z.implementation?(U=Jo(Z,q.mode,ot),U.return=q,U):(U=p(U,Z.children||[]),U.return=q,U)}function at(q,U,Z,ot,At){return U===null||U.tag!==7?(U=Ir(Z,q.mode,ot,At),U.return=q,U):(U=p(U,Z),U.return=q,U)}function lt(q,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ou(""+U,q.mode,Z),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case I:return Z=fo(U.type,U.key,U.props,null,q.mode,Z),Eu(Z,U),Z.return=q,Z;case $:return U=Jo(U,q.mode,Z),U.return=q,U;case D:var ot=U._init;return U=ot(U._payload),lt(q,U,Z)}if(De(U)||j(U))return U=Ir(U,q.mode,Z,null),U.return=q,U;if(typeof U.then=="function")return lt(q,Gc(U),Z);if(U.$$typeof===mt)return lt(q,Ic(q,U),Z);Fc(q,U)}return null}function Q(q,U,Z,ot){var At=U!==null?U.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return At!==null?null:x(q,U,""+Z,ot);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return Z.key===At?N(q,U,Z,ot):null;case $:return Z.key===At?Y(q,U,Z,ot):null;case D:return At=Z._init,Z=At(Z._payload),Q(q,U,Z,ot)}if(De(Z)||j(Z))return At!==null?null:at(q,U,Z,ot,null);if(typeof Z.then=="function")return Q(q,U,Gc(Z),ot);if(Z.$$typeof===mt)return Q(q,U,Ic(q,Z),ot);Fc(q,Z)}return null}function X(q,U,Z,ot,At){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return q=q.get(Z)||null,x(U,q,""+ot,At);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case I:return q=q.get(ot.key===null?Z:ot.key)||null,N(U,q,ot,At);case $:return q=q.get(ot.key===null?Z:ot.key)||null,Y(U,q,ot,At);case D:var Qt=ot._init;return ot=Qt(ot._payload),X(q,U,Z,ot,At)}if(De(ot)||j(ot))return q=q.get(Z)||null,at(U,q,ot,At,null);if(typeof ot.then=="function")return X(q,U,Z,Gc(ot),At);if(ot.$$typeof===mt)return X(q,U,Z,Ic(U,ot),At);Fc(U,ot)}return null}function Vt(q,U,Z,ot){for(var At=null,Qt=null,It=U,Ot=U=0,yn=null;It!==null&&Ot<Z.length;Ot++){It.index>Ot?(yn=It,It=null):yn=It.sibling;var he=Q(q,It,Z[Ot],ot);if(he===null){It===null&&(It=yn);break}e&&It&&he.alternate===null&&i(q,It),U=_(he,U,Ot),Qt===null?At=he:Qt.sibling=he,Qt=he,It=yn}if(Ot===Z.length)return l(q,It),zt&&F(q,Ot),At;if(It===null){for(;Ot<Z.length;Ot++)It=lt(q,Z[Ot],ot),It!==null&&(U=_(It,U,Ot),Qt===null?At=It:Qt.sibling=It,Qt=It);return zt&&F(q,Ot),At}for(It=h(It);Ot<Z.length;Ot++)yn=X(It,q,Ot,Z[Ot],ot),yn!==null&&(e&&yn.alternate!==null&&It.delete(yn.key===null?Ot:yn.key),U=_(yn,U,Ot),Qt===null?At=yn:Qt.sibling=yn,Qt=yn);return e&&It.forEach(function(Sa){return i(q,Sa)}),zt&&F(q,Ot),At}function Pt(q,U,Z,ot){if(Z==null)throw Error(o(151));for(var At=null,Qt=null,It=U,Ot=U=0,yn=null,he=Z.next();It!==null&&!he.done;Ot++,he=Z.next()){It.index>Ot?(yn=It,It=null):yn=It.sibling;var Sa=Q(q,It,he.value,ot);if(Sa===null){It===null&&(It=yn);break}e&&It&&Sa.alternate===null&&i(q,It),U=_(Sa,U,Ot),Qt===null?At=Sa:Qt.sibling=Sa,Qt=Sa,It=yn}if(he.done)return l(q,It),zt&&F(q,Ot),At;if(It===null){for(;!he.done;Ot++,he=Z.next())he=lt(q,he.value,ot),he!==null&&(U=_(he,U,Ot),Qt===null?At=he:Qt.sibling=he,Qt=he);return zt&&F(q,Ot),At}for(It=h(It);!he.done;Ot++,he=Z.next())he=X(It,q,Ot,he.value,ot),he!==null&&(e&&he.alternate!==null&&It.delete(he.key===null?Ot:he.key),U=_(he,U,Ot),Qt===null?At=he:Qt.sibling=he,Qt=he);return e&&It.forEach(function(wb){return i(q,wb)}),zt&&F(q,Ot),At}function Te(q,U,Z,ot){if(typeof Z=="object"&&Z!==null&&Z.type===nt&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:t:{for(var At=Z.key;U!==null;){if(U.key===At){if(At=Z.type,At===nt){if(U.tag===7){l(q,U.sibling),ot=p(U,Z.props.children),ot.return=q,q=ot;break t}}else if(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===D&&Q_(At)===U.type){l(q,U.sibling),ot=p(U,Z.props),Eu(ot,Z),ot.return=q,q=ot;break t}l(q,U);break}else i(q,U);U=U.sibling}Z.type===nt?(ot=Ir(Z.props.children,q.mode,ot,Z.key),ot.return=q,q=ot):(ot=fo(Z.type,Z.key,Z.props,null,q.mode,ot),Eu(ot,Z),ot.return=q,q=ot)}return S(q);case $:t:{for(At=Z.key;U!==null;){if(U.key===At)if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){l(q,U.sibling),ot=p(U,Z.children||[]),ot.return=q,q=ot;break t}else{l(q,U);break}else i(q,U);U=U.sibling}ot=Jo(Z,q.mode,ot),ot.return=q,q=ot}return S(q);case D:return At=Z._init,Z=At(Z._payload),Te(q,U,Z,ot)}if(De(Z))return Vt(q,U,Z,ot);if(j(Z)){if(At=j(Z),typeof At!="function")throw Error(o(150));return Z=At.call(Z),Pt(q,U,Z,ot)}if(typeof Z.then=="function")return Te(q,U,Gc(Z),ot);if(Z.$$typeof===mt)return Te(q,U,Ic(q,Z),ot);Fc(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,U!==null&&U.tag===6?(l(q,U.sibling),ot=p(U,Z),ot.return=q,q=ot):(l(q,U),ot=ou(Z,q.mode,ot),ot.return=q,q=ot),S(q)):l(q,U)}return function(q,U,Z,ot){try{vu=0;var At=Te(q,U,Z,ot);return ol=null,At}catch(It){if(It===cu||It===Pc)throw It;var Qt=Kn(29,It,null,q.mode);return Qt.lanes=ot,Qt.return=q,Qt}finally{}}}var ll=X_(!0),$_=X_(!1),Gi=it(null),Pr=null;function ua(e){var i=e.alternate;ft(ln,ln.current&1),ft(Gi,e),Pr===null&&(i===null||il.current!==null||i.memoizedState!==null)&&(Pr=e)}function W_(e){if(e.tag===22){if(ft(ln,ln.current),ft(Gi,e),Pr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Pr=e)}}else ca()}function ca(){ft(ln,ln.current),ft(Gi,Gi.current)}function ms(e){pt(Gi),Pr===e&&(Pr=null),pt(ln)}var ln=it(0);function Zc(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Zd(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function id(e,i,l,h){i=e.memoizedState,l=l(h,i),l=l==null?i:A({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var rd={enqueueSetState:function(e,i,l){e=e._reactInternals;var h=Li(),p=aa(h);p.payload=i,l!=null&&(p.callback=l),i=oa(e,p,h),i!==null&&(Ai(i,e,h),fu(i,e,h))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var h=Li(),p=aa(h);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=oa(e,p,h),i!==null&&(Ai(i,e,h),fu(i,e,h))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=Li(),h=aa(l);h.tag=2,i!=null&&(h.callback=i),i=oa(e,h,l),i!==null&&(Ai(i,e,l),fu(i,e,l))}};function J_(e,i,l,h,p,_,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,_,S):i.prototype&&i.prototype.isPureReactComponent?!Fn(l,h)||!Fn(p,_):!0}function tg(e,i,l,h){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==e&&rd.enqueueReplaceState(i,i.state,null)}function Eo(e,i){var l=i;if("ref"in i){l={};for(var h in i)h!=="ref"&&(l[h]=i[h])}if(e=e.defaultProps){l===i&&(l=A({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}var Yc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eg(e){Yc(e)}function ng(e){console.error(e)}function ig(e){Yc(e)}function Kc(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function rg(e,i,l){try{var h=e.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sd(e,i,l){return l=aa(l),l.tag=3,l.payload={element:null},l.callback=function(){Kc(e,i)},l}function sg(e){return e=aa(e),e.tag=3,e}function ag(e,i,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;e.payload=function(){return p(_)},e.callback=function(){rg(i,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){rg(i,l,h),typeof p!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var x=h.stack;this.componentDidCatch(h.value,{componentStack:x!==null?x:""})})}function ww(e,i,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=l.alternate,i!==null&&_o(i,l,p,!0),l=Gi.current,l!==null){switch(l.tag){case 13:return Pr===null?Rd():l.alternate===null&&Ge===0&&(Ge=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===kf?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([h]):i.add(h),Id(e,h,p)),!1;case 22:return l.flags|=65536,h===kf?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([h]):l.add(h)),Id(e,h,p)),!1}throw Error(o(435,l.tag))}return Id(e,h,p),Rd(),!1}if(zt)return i=Gi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,h!==pn&&(e=Error(o(422),{cause:h}),ra(Zn(e,l)))):(h!==pn&&(i=Error(o(423),{cause:h}),ra(Zn(i,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,h=Zn(h,l),p=sd(e.stateNode,h,p),Vf(e,p),Ge!==4&&(Ge=2)),!1;var _=Error(o(520),{cause:h});if(_=Zn(_,l),Cu===null?Cu=[_]:Cu.push(_),Ge!==4&&(Ge=2),i===null)return!0;h=Zn(h,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=sd(l.stateNode,h,e),Vf(l,e),!1;case 1:if(i=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_a===null||!_a.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=sg(p),ag(p,e,l,h),Vf(l,p),!1}l=l.return}while(l!==null);return!1}var og=Error(o(461)),_n=!1;function bn(e,i,l,h){i.child=e===null?$_(i,null,l,h):ll(i,e.child,l,h)}function lg(e,i,l,h,p){l=l.render;var _=i.ref;if("ref"in h){var S={};for(var x in h)x!=="ref"&&(S[x]=h[x])}else S=h;return go(i),h=jf(e,i,l,S,_,p),x=qf(),e!==null&&!_n?(Gf(e,i,p),ps(e,i,p)):(zt&&x&&ht(i),i.flags|=1,bn(e,i,h,p),i.child)}function ug(e,i,l,h,p){if(e===null){var _=l.type;return typeof _=="function"&&!Wo(_)&&_.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=_,cg(e,i,_,h,p)):(e=fo(l.type,null,h,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!dd(e,p)){var S=_.memoizedProps;if(l=l.compare,l=l!==null?l:Fn,l(S,h)&&e.ref===i.ref)return ps(e,i,p)}return i.flags|=1,e=ji(_,h),e.ref=i.ref,e.return=i,i.child=e}function cg(e,i,l,h,p){if(e!==null){var _=e.memoizedProps;if(Fn(_,h)&&e.ref===i.ref)if(_n=!1,i.pendingProps=h=_,dd(e,p))(e.flags&131072)!==0&&(_n=!0);else return i.lanes=e.lanes,ps(e,i,p)}return ad(e,i,l,h,p)}function hg(e,i,l){var h=i.pendingProps,p=h.children,_=e!==null?e.memoizedState:null;if(h.mode==="hidden"){if((i.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,e!==null){for(p=i.child=e.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;i.childLanes=_&~h}else i.childLanes=0,i.child=null;return fg(e,i,h,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dc(i,_!==null?_.cachePool:null),_!==null?c_(i,_):Uf(),W_(i);else return i.lanes=i.childLanes=536870912,fg(e,i,_!==null?_.baseLanes|l:l,l)}else _!==null?(Dc(i,_.cachePool),c_(i,_),ca(),i.memoizedState=null):(e!==null&&Dc(i,null),Uf(),ca());return bn(e,i,p,l),i.child}function fg(e,i,l,h){var p=Pf();return p=p===null?null:{parent:on._currentValue,pool:p},i.memoizedState={baseLanes:l,cachePool:p},e!==null&&Dc(i,null),Uf(),W_(i),e!==null&&_o(e,i,h,!0),null}function Qc(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function ad(e,i,l,h,p){return go(i),l=jf(e,i,l,h,void 0,p),h=qf(),e!==null&&!_n?(Gf(e,i,p),ps(e,i,p)):(zt&&h&&ht(i),i.flags|=1,bn(e,i,l,p),i.child)}function dg(e,i,l,h,p,_){return go(i),i.updateQueue=null,l=f_(i,h,l,p),h_(e),h=qf(),e!==null&&!_n?(Gf(e,i,_),ps(e,i,_)):(zt&&h&&ht(i),i.flags|=1,bn(e,i,l,_),i.child)}function mg(e,i,l,h,p){if(go(i),i.stateNode===null){var _=hs,S=l.contextType;typeof S=="object"&&S!==null&&(_=On(S)),_=new l(h,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=rd,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=h,_.state=i.memoizedState,_.refs={},Of(i),S=l.contextType,_.context=typeof S=="object"&&S!==null?On(S):hs,_.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(id(i,l,S,h),_.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&rd.enqueueReplaceState(_,_.state,null),mu(i,h,_,p),du(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(e===null){_=i.stateNode;var x=i.memoizedProps,N=Eo(l,x);_.props=N;var Y=_.context,at=l.contextType;S=hs,typeof at=="object"&&at!==null&&(S=On(at));var lt=l.getDerivedStateFromProps;at=typeof lt=="function"||typeof _.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,at||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x||Y!==S)&&tg(i,_,h,S),sa=!1;var Q=i.memoizedState;_.state=Q,mu(i,h,_,p),du(),Y=i.memoizedState,x||Q!==Y||sa?(typeof lt=="function"&&(id(i,l,lt,h),Y=i.memoizedState),(N=sa||J_(i,l,N,h,Q,Y,S))?(at||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=Y),_.props=h,_.state=Y,_.context=S,h=N):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{_=i.stateNode,Nf(e,i),S=i.memoizedProps,at=Eo(l,S),_.props=at,lt=i.pendingProps,Q=_.context,Y=l.contextType,N=hs,typeof Y=="object"&&Y!==null&&(N=On(Y)),x=l.getDerivedStateFromProps,(Y=typeof x=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==lt||Q!==N)&&tg(i,_,h,N),sa=!1,Q=i.memoizedState,_.state=Q,mu(i,h,_,p),du();var X=i.memoizedState;S!==lt||Q!==X||sa||e!==null&&e.dependencies!==null&&Mc(e.dependencies)?(typeof x=="function"&&(id(i,l,x,h),X=i.memoizedState),(at=sa||J_(i,l,at,h,Q,X,N)||e!==null&&e.dependencies!==null&&Mc(e.dependencies))?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,X,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,X,N)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=X),_.props=h,_.state=X,_.context=N,h=at):(typeof _.componentDidUpdate!="function"||S===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),h=!1)}return _=h,Qc(e,i),h=(i.flags&128)!==0,_||h?(_=i.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&h?(i.child=ll(i,e.child,null,p),i.child=ll(i,null,l,p)):bn(e,i,l,p),i.memoizedState=_.state,e=i.child):e=ps(e,i,p),e}function pg(e,i,l,h){return ia(),i.flags|=256,bn(e,i,l,h),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:n_()}}function ud(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=Fi),e}function _g(e,i,l){var h=i.pendingProps,p=!1,_=(i.flags&128)!==0,S;if((S=_)||(S=e!==null&&e.memoizedState===null?!1:(ln.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(p?ua(i):ca(),zt){var x=xt,N;if(N=x){t:{for(N=x,x=ze;N.nodeType!==8;){if(!x){x=null;break t}if(N=fr(N.nextSibling),N===null){x=null;break t}}x=N}x!==null?(i.memoizedState={dehydrated:x,treeContext:w!==null?{id:C,overflow:O}:null,retryLane:536870912,hydrationErrors:null},N=Kn(18,null,null,0),N.stateNode=x,N.return=i,i.child=N,Lt=i,xt=null,N=!0):N=!1}N||ti(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Zd(x)?i.lanes=32:i.lanes=536870912,null;ms(i)}return x=h.children,h=h.fallback,p?(ca(),p=i.mode,x=Xc({mode:"hidden",children:x},p),h=Ir(h,p,l,null),x.return=i,h.return=i,x.sibling=h,i.child=x,p=i.child,p.memoizedState=ld(l),p.childLanes=ud(e,S,l),i.memoizedState=od,h):(ua(i),cd(i,x))}if(N=e.memoizedState,N!==null&&(x=N.dehydrated,x!==null)){if(_)i.flags&256?(ua(i),i.flags&=-257,i=hd(e,i,l)):i.memoizedState!==null?(ca(),i.child=e.child,i.flags|=128,i=null):(ca(),p=h.fallback,x=i.mode,h=Xc({mode:"visible",children:h.children},x),p=Ir(p,x,l,null),p.flags|=2,h.return=i,p.return=i,h.sibling=p,i.child=h,ll(i,e.child,null,l),h=i.child,h.memoizedState=ld(l),h.childLanes=ud(e,S,l),i.memoizedState=od,i=p);else if(ua(i),Zd(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var Y=S.dgst;S=Y,h=Error(o(419)),h.stack="",h.digest=S,ra({value:h,source:null,stack:null}),i=hd(e,i,l)}else if(_n||_o(e,i,l,!1),S=(l&e.childLanes)!==0,_n||S){if(S=Me,S!==null&&(h=l&-l,h=(h&42)!==0?1:vr(h),h=(h&(S.suspendedLanes|l))!==0?0:h,h!==0&&h!==N.retryLane))throw N.retryLane=h,ea(e,h),Ai(S,e,h),og;x.data==="$?"||Rd(),i=hd(e,i,l)}else x.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,xt=fr(x.nextSibling),Lt=i,zt=!0,Re=null,ze=!1,e!==null&&(m[y++]=C,m[y++]=O,m[y++]=w,C=e.id,O=e.overflow,w=i),i=cd(i,h.children),i.flags|=4096);return i}return p?(ca(),p=h.fallback,x=i.mode,N=e.child,Y=N.sibling,h=ji(N,{mode:"hidden",children:h.children}),h.subtreeFlags=N.subtreeFlags&65011712,Y!==null?p=ji(Y,p):(p=Ir(p,x,l,null),p.flags|=2),p.return=i,h.return=i,h.sibling=p,i.child=h,h=p,p=i.child,x=e.child.memoizedState,x===null?x=ld(l):(N=x.cachePool,N!==null?(Y=on._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=n_(),x={baseLanes:x.baseLanes|l,cachePool:N}),p.memoizedState=x,p.childLanes=ud(e,S,l),i.memoizedState=od,h):(ua(i),l=e.child,e=l.sibling,l=ji(l,{mode:"visible",children:h.children}),l.return=i,l.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=l,i.memoizedState=null,l)}function cd(e,i){return i=Xc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Xc(e,i){return e=Kn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hd(e,i,l){return ll(i,e.child,null,l),e=cd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function gg(e,i,l){e.lanes|=i;var h=e.alternate;h!==null&&(h.lanes|=i),po(e.return,i,l)}function fd(e,i,l,h,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=p)}function yg(e,i,l){var h=i.pendingProps,p=h.revealOrder,_=h.tail;if(bn(e,i,h.children,l),h=ln.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,l,i);else if(e.tag===19)gg(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}switch(ft(ln,h),p){case"forwards":for(l=i.child,p=null;l!==null;)e=l.alternate,e!==null&&Zc(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),fd(i,!1,p,l,_);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&Zc(e)===null){i.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}fd(i,!0,l,null,_);break;case"together":fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ps(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),pa|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(_o(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(o(153));if(i.child!==null){for(e=i.child,l=ji(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=ji(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function dd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mc(e)))}function bw(e,i,l){switch(i.tag){case 3:ee(i,i.stateNode.containerInfo),Dr(i,on,e.memoizedState.cache),ia();break;case 27:case 5:Ci(i);break;case 4:ee(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(ua(i),i.flags|=128,null):(l&i.child.childLanes)!==0?_g(e,i,l):(ua(i),e=ps(e,i,l),e!==null?e.sibling:null);ua(i);break;case 19:var p=(e.flags&128)!==0;if(h=(l&i.childLanes)!==0,h||(_o(e,i,l,!1),h=(l&i.childLanes)!==0),p){if(h)return yg(e,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ft(ln,ln.current),h)break;return null;case 22:case 23:return i.lanes=0,hg(e,i,l);case 24:Dr(i,on,e.memoizedState.cache)}return ps(e,i,l)}function vg(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)_n=!0;else{if(!dd(e,l)&&(i.flags&128)===0)return _n=!1,bw(e,i,l);_n=(e.flags&131072)!==0}else _n=!1,zt&&(i.flags&1048576)!==0&&W(i,c,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var h=i.elementType,p=h._init;if(h=p(h._payload),i.type=h,typeof h=="function")Wo(h)?(e=Eo(h,e),i.tag=1,i=mg(null,i,h,e,l)):(i.tag=0,i=ad(null,i,h,e,l));else{if(h!=null){if(p=h.$$typeof,p===Ht){i.tag=11,i=lg(null,i,h,e,l);break t}else if(p===H){i.tag=14,i=ug(null,i,h,e,l);break t}}throw i=we(h)||h,Error(o(306,i,""))}}return i;case 0:return ad(e,i,i.type,i.pendingProps,l);case 1:return h=i.type,p=Eo(h,i.pendingProps),mg(e,i,h,p,l);case 3:t:{if(ee(i,i.stateNode.containerInfo),e===null)throw Error(o(387));h=i.pendingProps;var _=i.memoizedState;p=_.element,Nf(e,i),mu(i,h,null,l);var S=i.memoizedState;if(h=S.cache,Dr(i,on,h),h!==_.cache&&tl(i,[on],l,!0),du(),h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=pg(e,i,h,l);break t}else if(h!==p){p=Zn(Error(o(424)),i),ra(p),i=pg(e,i,h,l);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=fr(e.firstChild),Lt=i,zt=!0,Re=null,ze=!0,l=$_(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ia(),h===p){i=ps(e,i,l);break t}bn(e,i,h,l)}i=i.child}return i;case 26:return Qc(e,i),e===null?(l=by(i.type,null,i.pendingProps,null))?i.memoizedState=l:zt||(l=i.type,e=i.pendingProps,h=ch(vt.current).createElement(l),h[Fe]=i,h[je]=e,Ln(h,l,e),Ve(h),i.stateNode=h):i.memoizedState=by(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ci(i),e===null&&zt&&(h=i.stateNode=Ey(i.type,i.pendingProps,vt.current),Lt=i,ze=!0,p=xt,va(i.type)?(Yd=p,xt=fr(h.firstChild)):xt=p),bn(e,i,i.pendingProps.children,l),Qc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((p=h=xt)&&(h=$w(h,i.type,i.pendingProps,ze),h!==null?(i.stateNode=h,Lt=i,xt=fr(h.firstChild),ze=!1,p=!0):p=!1),p||ti(i)),Ci(i),p=i.type,_=i.pendingProps,S=e!==null?e.memoizedProps:null,h=_.children,qd(p,_)?h=null:S!==null&&qd(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=jf(e,i,pw,null,null,l),Nu._currentValue=p),Qc(e,i),bn(e,i,h,l),i.child;case 6:return e===null&&zt&&((e=l=xt)&&(l=Ww(l,i.pendingProps,ze),l!==null?(i.stateNode=l,Lt=i,xt=null,e=!0):e=!1),e||ti(i)),null;case 13:return _g(e,i,l);case 4:return ee(i,i.stateNode.containerInfo),h=i.pendingProps,e===null?i.child=ll(i,null,h,l):bn(e,i,h,l),i.child;case 11:return lg(e,i,i.type,i.pendingProps,l);case 7:return bn(e,i,i.pendingProps,l),i.child;case 8:return bn(e,i,i.pendingProps.children,l),i.child;case 12:return bn(e,i,i.pendingProps.children,l),i.child;case 10:return h=i.pendingProps,Dr(i,i.type,h.value),bn(e,i,h.children,l),i.child;case 9:return p=i.type._context,h=i.pendingProps.children,go(i),p=On(p),h=h(p),i.flags|=1,bn(e,i,h,l),i.child;case 14:return ug(e,i,i.type,i.pendingProps,l);case 15:return cg(e,i,i.type,i.pendingProps,l);case 19:return yg(e,i,l);case 31:return h=i.pendingProps,l=i.mode,h={mode:h.mode,children:h.children},e===null?(l=Xc(h,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ji(e.child,h),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return hg(e,i,l);case 24:return go(i),h=On(on),e===null?(p=Pf(),p===null&&(p=Me,_=If(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),i.memoizedState={parent:h,cache:p},Of(i),Dr(i,on,p)):((e.lanes&l)!==0&&(Nf(e,i),mu(i,null,null,l),du()),p=e.memoizedState,_=i.memoizedState,p.parent!==h?(p={parent:h,cache:h},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Dr(i,on,h)):(h=_.cache,Dr(i,on,h),h!==p.cache&&tl(i,[on],l,!0))),bn(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function _s(e){e.flags|=4}function Eg(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xy(i)){if(i=Gi.current,i!==null&&((se&4194048)===se?Pr!==null:(se&62914560)!==se&&(se&536870912)===0||i!==Pr))throw hu=kf,i_;e.flags|=8192}}function $c(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ks():536870912,e.lanes|=i,fl|=i)}function Tu(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Ue(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,h=0;if(i)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=h,e.childLanes=l,i}function Sw(e,i,l){var h=i.pendingProps;switch(Tt(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(i),null;case 1:return Ue(i),null;case 3:return l=i.stateNode,h=null,e!==null&&(h=e.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),cr(on),si(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(mo(i)?_s(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rc())),Ue(i),null;case 26:return l=i.memoizedState,e===null?(_s(i),l!==null?(Ue(i),Eg(i,l)):(Ue(i),i.flags&=-16777217)):l?l!==e.memoizedState?(_s(i),Ue(i),Eg(i,l)):(Ue(i),i.flags&=-16777217):(e.memoizedProps!==h&&_s(i),Ue(i),i.flags&=-16777217),null;case 27:ai(i),l=vt.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==h&&_s(i);else{if(!h){if(i.stateNode===null)throw Error(o(166));return Ue(i),null}e=Et.current,mo(i)?Cc(i):(e=Ey(p,h,l),i.stateNode=e,_s(i))}return Ue(i),null;case 5:if(ai(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==h&&_s(i);else{if(!h){if(i.stateNode===null)throw Error(o(166));return Ue(i),null}if(e=Et.current,mo(i))Cc(i);else{switch(p=ch(vt.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?e.multiple=!0:h.size&&(e.size=h.size);break;default:e=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}e[Fe]=i,e[je]=h;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;t:switch(Ln(e,l,h),l){case"button":case"input":case"select":case"textarea":e=!!h.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&_s(i)}}return Ue(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==h&&_s(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(o(166));if(e=vt.current,mo(i)){if(e=i.stateNode,l=i.memoizedProps,h=null,p=Lt,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}e[Fe]=i,e=!!(e.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||dy(e.nodeValue,l)),e||ti(i)}else e=ch(e).createTextNode(h),e[Fe]=i,i.stateNode=e}return Ue(i),null;case 13:if(h=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=mo(i),h!==null&&h.dehydrated!==null){if(e===null){if(!p)throw Error(o(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Fe]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ue(i),p=!1}else p=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(ms(i),i):(ms(i),null)}if(ms(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=h!==null,e=e!==null&&e.memoizedState!==null,l){h=i.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),$c(i,i.updateQueue),Ue(i),null;case 4:return si(),e===null&&zd(i.stateNode.containerInfo),Ue(i),null;case 10:return cr(i.type),Ue(i),null;case 19:if(pt(ln),p=i.memoizedState,p===null)return Ue(i),null;if(h=(i.flags&128)!==0,_=p.rendering,_===null)if(h)Tu(p,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=Zc(e),_!==null){for(i.flags|=128,Tu(p,!1),e=_.updateQueue,i.updateQueue=e,$c(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)au(l,e),l=l.sibling;return ft(ln,ln.current&1|2),i.child}e=e.sibling}p.tail!==null&&xn()>th&&(i.flags|=128,h=!0,Tu(p,!1),i.lanes=4194304)}else{if(!h)if(e=Zc(_),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,$c(i,e),Tu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!zt)return Ue(i),null}else 2*xn()-p.renderingStartTime>th&&l!==536870912&&(i.flags|=128,h=!0,Tu(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(e=p.last,e!==null?e.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=xn(),i.sibling=null,e=ln.current,ft(ln,h?e&1|2:e&1),i):(Ue(i),null);case 22:case 23:return ms(i),Bf(),h=i.memoizedState!==null,e!==null?e.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(l&536870912)!==0&&(i.flags&128)===0&&(Ue(i),i.subtreeFlags&6&&(i.flags|=8192)):Ue(i),l=i.updateQueue,l!==null&&$c(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048),e!==null&&pt(yo),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),cr(on),Ue(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Lw(e,i){switch(Tt(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return cr(on),si(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ai(i),null;case 13:if(ms(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(o(340));ia()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return pt(ln),null;case 4:return si(),null;case 10:return cr(i.type),null;case 22:case 23:return ms(i),Bf(),e!==null&&pt(yo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return cr(on),null;case 25:return null;default:return null}}function Tg(e,i){switch(Tt(i),i.tag){case 3:cr(on),si();break;case 26:case 27:case 5:ai(i);break;case 4:si();break;case 13:ms(i);break;case 19:pt(ln);break;case 10:cr(i.type);break;case 22:case 23:ms(i),Bf(),e!==null&&pt(yo);break;case 24:cr(on)}}function wu(e,i){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&e)===e){h=void 0;var _=l.create,S=l.inst;h=_(),S.destroy=h}l=l.next}while(l!==p)}}catch(x){Se(i,i.return,x)}}function ha(e,i,l){try{var h=i.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&e)===e){var S=h.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,p=i;var N=l,Y=x;try{Y()}catch(at){Se(p,N,at)}}}h=h.next}while(h!==_)}}catch(at){Se(i,i.return,at)}}function wg(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{u_(i,l)}catch(h){Se(e,e.return,h)}}}function bg(e,i,l){l.props=Eo(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(h){Se(e,i,h)}}function bu(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var h=e.stateNode;break;case 30:h=e.stateNode;break;default:h=e.stateNode}typeof l=="function"?e.refCleanup=l(h):l.current=h}}catch(p){Se(e,i,p)}}function kr(e,i){var l=e.ref,h=e.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){Se(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Se(e,i,p)}else l.current=null}function Sg(e){var i=e.type,l=e.memoizedProps,h=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){Se(e,e.return,p)}}function md(e,i,l){try{var h=e.stateNode;Zw(h,e.type,l,i),h[je]=i}catch(p){Se(e,e.return,p)}}function Lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function pd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,i,l){var h=e.tag;if(h===5||h===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=uh));else if(h!==4&&(h===27&&va(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(_d(e,i,l),e=e.sibling;e!==null;)_d(e,i,l),e=e.sibling}function Wc(e,i,l){var h=e.tag;if(h===5||h===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(h!==4&&(h===27&&va(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Wc(e,i,l),e=e.sibling;e!==null;)Wc(e,i,l),e=e.sibling}function Ag(e){var i=e.stateNode,l=e.memoizedProps;try{for(var h=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Ln(i,h,l),i[Fe]=e,i[je]=l}catch(_){Se(e,e.return,_)}}var gs=!1,Ke=!1,gd=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,gn=null;function Aw(e,i){if(e=e.containerInfo,Hd=_h,e=ao(e),oo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var S=0,x=-1,N=-1,Y=0,at=0,lt=e,Q=null;e:for(;;){for(var X;lt!==l||p!==0&&lt.nodeType!==3||(x=S+p),lt!==_||h!==0&&lt.nodeType!==3||(N=S+h),lt.nodeType===3&&(S+=lt.nodeValue.length),(X=lt.firstChild)!==null;)Q=lt,lt=X;for(;;){if(lt===e)break e;if(Q===l&&++Y===p&&(x=S),Q===_&&++at===h&&(N=S),(X=lt.nextSibling)!==null)break;lt=Q,Q=lt.parentNode}lt=X}l=x===-1||N===-1?null:{start:x,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(jd={focusedElem:e,selectionRange:l},_h=!1,gn=i;gn!==null;)if(i=gn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,gn=e;else for(;gn!==null;){switch(i=gn,_=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,l=i,p=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Vt=Eo(l.type,p,l.elementType===l.type);e=h.getSnapshotBeforeUpdate(Vt,_),h.__reactInternalSnapshotBeforeUpdate=e}catch(Pt){Se(l,l.return,Pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)Fd(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=i.sibling,e!==null){e.return=i.return,gn=e;break}gn=i.return}}function xg(e,i,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:fa(e,l),h&4&&wu(5,l);break;case 1:if(fa(e,l),h&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(S){Se(l,l.return,S)}else{var p=Eo(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Se(l,l.return,S)}}h&64&&wg(l),h&512&&bu(l,l.return);break;case 3:if(fa(e,l),h&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{u_(e,i)}catch(S){Se(l,l.return,S)}}break;case 27:i===null&&h&4&&Ag(l);case 26:case 5:fa(e,l),i===null&&h&4&&Sg(l),h&512&&bu(l,l.return);break;case 12:fa(e,l);break;case 13:fa(e,l),h&4&&Ig(e,l),h&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Ow.bind(null,l),Jw(e,l))));break;case 22:if(h=l.memoizedState!==null||gs,!h){i=i!==null&&i.memoizedState!==null||Ke,p=gs;var _=Ke;gs=h,(Ke=i)&&!_?da(e,l,(l.subtreeFlags&8772)!==0):fa(e,l),gs=p,Ke=_}break;case 30:break;default:fa(e,l)}}function Rg(e){var i=e.alternate;i!==null&&(e.alternate=null,Rg(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,ni=!1;function ys(e,i,l){for(l=l.child;l!==null;)Mg(e,i,l),l=l.sibling}function Mg(e,i,l){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(Le,l)}catch{}switch(l.tag){case 26:Ke||kr(l,i),ys(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||kr(l,i);var h=ke,p=ni;va(l.type)&&(ke=l.stateNode,ni=!1),ys(e,i,l),Du(l.stateNode),ke=h,ni=p;break;case 5:Ke||kr(l,i);case 6:if(h=ke,p=ni,ke=null,ys(e,i,l),ke=h,ni=p,ke!==null)if(ni)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(l.stateNode)}catch(_){Se(l,i,_)}else try{ke.removeChild(l.stateNode)}catch(_){Se(l,i,_)}break;case 18:ke!==null&&(ni?(e=ke,yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Bu(e)):yy(ke,l.stateNode));break;case 4:h=ke,p=ni,ke=l.stateNode.containerInfo,ni=!0,ys(e,i,l),ke=h,ni=p;break;case 0:case 11:case 14:case 15:Ke||ha(2,l,i),Ke||ha(4,l,i),ys(e,i,l);break;case 1:Ke||(kr(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"&&bg(l,i,h)),ys(e,i,l);break;case 21:ys(e,i,l);break;case 22:Ke=(h=Ke)||l.memoizedState!==null,ys(e,i,l),Ke=h;break;default:ys(e,i,l)}}function Ig(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bu(e)}catch(l){Se(i,i.return,l)}}function Cw(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Cg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Cg),i;default:throw Error(o(435,e.tag))}}function yd(e,i){var l=Cw(e);i.forEach(function(h){var p=Nw.bind(null,e,h);l.has(h)||(l.add(h),h.then(p,p))})}function wi(e,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],_=e,S=i,x=S;t:for(;x!==null;){switch(x.tag){case 27:if(va(x.type)){ke=x.stateNode,ni=!1;break t}break;case 5:ke=x.stateNode,ni=!1;break t;case 3:case 4:ke=x.stateNode.containerInfo,ni=!0;break t}x=x.return}if(ke===null)throw Error(o(160));Mg(_,S,p),ke=null,ni=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Dg(i,e),i=i.sibling}var hr=null;function Dg(e,i){var l=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wi(i,e),bi(e),h&4&&(ha(3,e,e.return),wu(3,e),ha(5,e,e.return));break;case 1:wi(i,e),bi(e),h&512&&(Ke||l===null||kr(l,l.return)),h&64&&gs&&(e=e.updateQueue,e!==null&&(h=e.callbacks,h!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=hr;if(wi(i,e),bi(e),h&512&&(Ke||l===null||kr(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=e.memoizedState,l===null)if(h===null)if(e.stateNode===null){t:{h=e.type,l=e.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[Tr]||_[Fe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),Ln(_,h,l),_[Fe]=e,Ve(_),h=_;break t;case"link":var S=Ay("link","href",p).get(h+(l.href||""));if(S){for(var x=0;x<S.length;x++)if(_=S[x],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(x,1);break e}}_=p.createElement(h),Ln(_,h,l),p.head.appendChild(_);break;case"meta":if(S=Ay("meta","content",p).get(h+(l.content||""))){for(x=0;x<S.length;x++)if(_=S[x],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(x,1);break e}}_=p.createElement(h),Ln(_,h,l),p.head.appendChild(_);break;default:throw Error(o(468,h))}_[Fe]=e,Ve(_),h=_}e.stateNode=h}else Cy(p,e.type,e.stateNode);else e.stateNode=Ly(p,h,e.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?Cy(p,e.type,e.stateNode):Ly(p,h,e.memoizedProps)):h===null&&e.stateNode!==null&&md(e,e.memoizedProps,l.memoizedProps)}break;case 27:wi(i,e),bi(e),h&512&&(Ke||l===null||kr(l,l.return)),l!==null&&h&4&&md(e,e.memoizedProps,l.memoizedProps);break;case 5:if(wi(i,e),bi(e),h&512&&(Ke||l===null||kr(l,l.return)),e.flags&32){p=e.stateNode;try{fn(p,"")}catch(X){Se(e,e.return,X)}}h&4&&e.stateNode!=null&&(p=e.memoizedProps,md(e,p,l!==null?l.memoizedProps:p)),h&1024&&(gd=!0);break;case 6:if(wi(i,e),bi(e),h&4){if(e.stateNode===null)throw Error(o(162));h=e.memoizedProps,l=e.stateNode;try{l.nodeValue=h}catch(X){Se(e,e.return,X)}}break;case 3:if(dh=null,p=hr,hr=hh(i.containerInfo),wi(i,e),hr=p,bi(e),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Bu(i.containerInfo)}catch(X){Se(e,e.return,X)}gd&&(gd=!1,Pg(e));break;case 4:h=hr,hr=hh(e.stateNode.containerInfo),wi(i,e),bi(e),hr=h;break;case 12:wi(i,e),bi(e);break;case 13:wi(i,e),bi(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sd=xn()),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,yd(e,h)));break;case 22:p=e.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,Y=gs,at=Ke;if(gs=Y||p,Ke=at||N,wi(i,e),Ke=at,gs=Y,bi(e),h&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||N||gs||Ke||To(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){N=l=i;try{if(_=N.stateNode,p)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=N.stateNode;var lt=N.memoizedProps.style,Q=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;x.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){Se(N,N.return,X)}}}else if(i.tag===6){if(l===null){N=i;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(X){Se(N,N.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=e.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,yd(e,l))));break;case 19:wi(i,e),bi(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,yd(e,h)));break;case 30:break;case 21:break;default:wi(i,e),bi(e)}}function bi(e){var i=e.flags;if(i&2){try{for(var l,h=e.return;h!==null;){if(Lg(h)){l=h;break}h=h.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var p=l.stateNode,_=pd(e);Wc(e,_,p);break;case 5:var S=l.stateNode;l.flags&32&&(fn(S,""),l.flags&=-33);var x=pd(e);Wc(e,x,S);break;case 3:case 4:var N=l.stateNode.containerInfo,Y=pd(e);_d(e,Y,N);break;default:throw Error(o(161))}}catch(at){Se(e,e.return,at)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Pg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function fa(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xg(e,i.alternate,i),i=i.sibling}function To(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ha(4,i,i.return),To(i);break;case 1:kr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&bg(i,i.return,l),To(i);break;case 27:Du(i.stateNode);case 26:case 5:kr(i,i.return),To(i);break;case 22:i.memoizedState===null&&To(i);break;case 30:To(i);break;default:To(i)}e=e.sibling}}function da(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,p=e,_=i,S=_.flags;switch(_.tag){case 0:case 11:case 15:da(p,_,l),wu(4,_);break;case 1:if(da(p,_,l),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){Se(h,h.return,Y)}if(h=_,p=h.updateQueue,p!==null){var x=h.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)l_(N[p],x)}catch(Y){Se(h,h.return,Y)}}l&&S&64&&wg(_),bu(_,_.return);break;case 27:Ag(_);case 26:case 5:da(p,_,l),l&&h===null&&S&4&&Sg(_),bu(_,_.return);break;case 12:da(p,_,l);break;case 13:da(p,_,l),l&&S&4&&Ig(p,_);break;case 22:_.memoizedState===null&&da(p,_,l),bu(_,_.return);break;case 30:break;default:da(p,_,l)}i=i.sibling}}function vd(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&lu(l))}function Ed(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&lu(e))}function Or(e,i,l,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kg(e,i,l,h),i=i.sibling}function kg(e,i,l,h){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Or(e,i,l,h),p&2048&&wu(9,i);break;case 1:Or(e,i,l,h);break;case 3:Or(e,i,l,h),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&lu(e)));break;case 12:if(p&2048){Or(e,i,l,h),e=i.stateNode;try{var _=i.memoizedProps,S=_.id,x=_.onPostCommit;typeof x=="function"&&x(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Se(i,i.return,N)}}else Or(e,i,l,h);break;case 13:Or(e,i,l,h);break;case 23:break;case 22:_=i.stateNode,S=i.alternate,i.memoizedState!==null?_._visibility&2?Or(e,i,l,h):Su(e,i):_._visibility&2?Or(e,i,l,h):(_._visibility|=2,ul(e,i,l,h,(i.subtreeFlags&10256)!==0)),p&2048&&vd(S,i);break;case 24:Or(e,i,l,h),p&2048&&Ed(i.alternate,i);break;default:Or(e,i,l,h)}}function ul(e,i,l,h,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=e,S=i,x=l,N=h,Y=S.flags;switch(S.tag){case 0:case 11:case 15:ul(_,S,x,N,p),wu(8,S);break;case 23:break;case 22:var at=S.stateNode;S.memoizedState!==null?at._visibility&2?ul(_,S,x,N,p):Su(_,S):(at._visibility|=2,ul(_,S,x,N,p)),p&&Y&2048&&vd(S.alternate,S);break;case 24:ul(_,S,x,N,p),p&&Y&2048&&Ed(S.alternate,S);break;default:ul(_,S,x,N,p)}i=i.sibling}}function Su(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,h=i,p=h.flags;switch(h.tag){case 22:Su(l,h),p&2048&&vd(h.alternate,h);break;case 24:Su(l,h),p&2048&&Ed(h.alternate,h);break;default:Su(l,h)}i=i.sibling}}var Lu=8192;function cl(e){if(e.subtreeFlags&Lu)for(e=e.child;e!==null;)Og(e),e=e.sibling}function Og(e){switch(e.tag){case 26:cl(e),e.flags&Lu&&e.memoizedState!==null&&fb(hr,e.memoizedState,e.memoizedProps);break;case 5:cl(e);break;case 3:case 4:var i=hr;hr=hh(e.stateNode.containerInfo),cl(e),hr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Lu,Lu=16777216,cl(e),Lu=i):cl(e));break;default:cl(e)}}function Ng(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Au(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];gn=h,zg(h,e)}Ng(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vg(e),e=e.sibling}function Vg(e){switch(e.tag){case 0:case 11:case 15:Au(e),e.flags&2048&&ha(9,e,e.return);break;case 3:Au(e);break;case 12:Au(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Jc(e)):Au(e);break;default:Au(e)}}function Jc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];gn=h,zg(h,e)}Ng(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ha(8,i,i.return),Jc(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Jc(i));break;default:Jc(i)}e=e.sibling}}function zg(e,i){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:ha(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:lu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,gn=h;else t:for(l=e;gn!==null;){h=gn;var p=h.sibling,_=h.return;if(Rg(h),h===l){gn=null;break t}if(p!==null){p.return=_,gn=p;break t}gn=_}}}var xw={getCacheForType:function(e){var i=On(on),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},Rw=typeof WeakMap=="function"?WeakMap:Map,pe=0,Me=null,Xt=null,se=0,_e=0,Si=null,ma=!1,hl=!1,Td=!1,vs=0,Ge=0,pa=0,wo=0,wd=0,Fi=0,fl=0,Cu=null,ii=null,bd=!1,Sd=0,th=1/0,eh=null,_a=null,Sn=0,ga=null,dl=null,ml=0,Ld=0,Ad=null,Ug=null,xu=0,Cd=null;function Li(){if((pe&2)!==0&&se!==0)return se&-se;if(et.T!==null){var e=el;return e!==0?e:kd()}return Er()}function Bg(){Fi===0&&(Fi=(se&536870912)===0||zt?Za():536870912);var e=Gi.current;return e!==null&&(e.flags|=32),Fi}function Ai(e,i,l){(e===Me&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(pl(e,0),ya(e,se,Fi,!1)),Ri(e,l),((pe&2)===0||e!==Me)&&(e===Me&&((pe&2)===0&&(wo|=l),Ge===4&&ya(e,se,Fi,!1)),Nr(e))}function Hg(e,i,l){if((pe&6)!==0)throw Error(o(327));var h=!l&&(i&124)===0&&(i&e.expiredLanes)===0||li(e,i),p=h?Dw(e,i):Md(e,i,!0),_=h;do{if(p===0){hl&&!h&&ya(e,i,0,!1);break}else{if(l=e.current.alternate,_&&!Mw(l)){p=Md(e,i,!1),_=!1;continue}if(p===2){if(_=i,e.errorRecoveryDisabledLanes&_)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var x=e;p=Cu;var N=x.current.memoizedState.isDehydrated;if(N&&(pl(x,S).flags|=256),S=Md(x,S,!1),S!==2){if(Td&&!N){x.errorRecoveryDisabledLanes|=_,wo|=_,p=4;break t}_=ii,ii=p,_!==null&&(ii===null?ii=_:ii.push.apply(ii,_))}p=S}if(_=!1,p!==2)continue}}if(p===1){pl(e,0),ya(e,i,0,!0);break}t:{switch(h=e,_=p,_){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ya(h,i,Fi,!ma);break t;case 2:ii=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(p=Sd+300-xn(),10<p)){if(ya(h,i,Fi,!ma),Ps(h,0,!0)!==0)break t;h.timeoutHandle=_y(jg.bind(null,h,l,ii,eh,bd,i,Fi,wo,fl,ma,_,2,-0,0),p);break t}jg(h,l,ii,eh,bd,i,Fi,wo,fl,ma,_,0,-0,0)}}break}while(!0);Nr(e)}function jg(e,i,l,h,p,_,S,x,N,Y,at,lt,Q,X){if(e.timeoutHandle=-1,lt=i.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:hb},Og(i),lt=db(),lt!==null)){e.cancelPendingCommit=lt(Qg.bind(null,e,i,_,l,h,p,S,x,N,at,1,Q,X)),ya(e,_,S,!Y);return}Qg(e,i,_,l,h,p,S,x,N)}function Mw(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],_=p.getSnapshot;p=p.value;try{if(!Gn(_(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ya(e,i,l,h){i&=~wd,i&=~wo,e.suspendedLanes|=i,e.pingedLanes&=~i,h&&(e.warmLanes|=i),h=e.expirationTimes;for(var p=i;0<p;){var _=31-cn(p),S=1<<_;h[_]=-1,p&=~S}l!==0&&Mi(e,l,i)}function nh(){return(pe&6)===0?(Ru(0),!1):!0}function xd(){if(Xt!==null){if(_e===0)var e=Xt.return;else e=Xt,ur=qi=null,Ff(e),ol=null,vu=0,e=Xt;for(;e!==null;)Tg(e.alternate,e),e=e.return;Xt=null}}function pl(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Kw(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),xd(),Me=e,Xt=l=ji(e.current,null),se=i,_e=0,Si=null,ma=!1,hl=li(e,i),Td=!1,fl=Fi=wd=wo=pa=Ge=0,ii=Cu=null,bd=!1,(i&8)!==0&&(i|=i&32);var h=e.entangledLanes;if(h!==0)for(e=e.entanglements,h&=i;0<h;){var p=31-cn(h),_=1<<p;i|=e[p],h&=~_}return vs=i,uo(),l}function qg(e,i){Yt=null,et.H=qc,i===cu||i===Pc?(i=a_(),_e=3):i===i_?(i=a_(),_e=4):_e=i===og?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Si=i,Xt===null&&(Ge=1,Kc(e,Zn(i,e.current)))}function Gg(){var e=et.H;return et.H=qc,e===null?qc:e}function Fg(){var e=et.A;return et.A=xw,e}function Rd(){Ge=4,ma||(se&4194048)!==se&&Gi.current!==null||(hl=!0),(pa&134217727)===0&&(wo&134217727)===0||Me===null||ya(Me,se,Fi,!1)}function Md(e,i,l){var h=pe;pe|=2;var p=Gg(),_=Fg();(Me!==e||se!==i)&&(eh=null,pl(e,i)),i=!1;var S=Ge;t:do try{if(_e!==0&&Xt!==null){var x=Xt,N=Si;switch(_e){case 8:xd(),S=6;break t;case 3:case 2:case 9:case 6:Gi.current===null&&(i=!0);var Y=_e;if(_e=0,Si=null,_l(e,x,N,Y),l&&hl){S=0;break t}break;default:Y=_e,_e=0,Si=null,_l(e,x,N,Y)}}Iw(),S=Ge;break}catch(at){qg(e,at)}while(!0);return i&&e.shellSuspendCounter++,ur=qi=null,pe=h,et.H=p,et.A=_,Xt===null&&(Me=null,se=0,uo()),S}function Iw(){for(;Xt!==null;)Zg(Xt)}function Dw(e,i){var l=pe;pe|=2;var h=Gg(),p=Fg();Me!==e||se!==i?(eh=null,th=xn()+500,pl(e,i)):hl=li(e,i);t:do try{if(_e!==0&&Xt!==null){i=Xt;var _=Si;e:switch(_e){case 1:_e=0,Si=null,_l(e,i,_,1);break;case 2:case 9:if(r_(_)){_e=0,Si=null,Yg(i);break}i=function(){_e!==2&&_e!==9||Me!==e||(_e=7),Nr(e)},_.then(i,i);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:r_(_)?(_e=0,Si=null,Yg(i)):(_e=0,Si=null,_l(e,i,_,7));break;case 5:var S=null;switch(Xt.tag){case 26:S=Xt.memoizedState;case 5:case 27:var x=Xt;if(!S||xy(S)){_e=0,Si=null;var N=x.sibling;if(N!==null)Xt=N;else{var Y=x.return;Y!==null?(Xt=Y,ih(Y)):Xt=null}break e}}_e=0,Si=null,_l(e,i,_,5);break;case 6:_e=0,Si=null,_l(e,i,_,6);break;case 8:xd(),Ge=6;break t;default:throw Error(o(462))}}Pw();break}catch(at){qg(e,at)}while(!0);return ur=qi=null,et.H=h,et.A=p,pe=l,Xt!==null?0:(Me=null,se=0,uo(),Ge)}function Pw(){for(;Xt!==null&&!Is();)Zg(Xt)}function Zg(e){var i=vg(e.alternate,e,vs);e.memoizedProps=e.pendingProps,i===null?ih(e):Xt=i}function Yg(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=dg(l,i,i.pendingProps,i.type,void 0,se);break;case 11:i=dg(l,i,i.pendingProps,i.type.render,i.ref,se);break;case 5:Ff(i);default:Tg(l,i),i=Xt=au(i,vs),i=vg(l,i,vs)}e.memoizedProps=e.pendingProps,i===null?ih(e):Xt=i}function _l(e,i,l,h){ur=qi=null,Ff(i),ol=null,vu=0;var p=i.return;try{if(ww(e,p,i,l,se)){Ge=1,Kc(e,Zn(l,e.current)),Xt=null;return}}catch(_){if(p!==null)throw Xt=p,_;Ge=1,Kc(e,Zn(l,e.current)),Xt=null;return}i.flags&32768?(zt||h===1?e=!0:hl||(se&536870912)!==0?e=!1:(ma=e=!0,(h===2||h===9||h===3||h===6)&&(h=Gi.current,h!==null&&h.tag===13&&(h.flags|=16384))),Kg(i,e)):ih(i)}function ih(e){var i=e;do{if((i.flags&32768)!==0){Kg(i,ma);return}e=i.return;var l=Sw(i.alternate,i,vs);if(l!==null){Xt=l;return}if(i=i.sibling,i!==null){Xt=i;return}Xt=i=e}while(i!==null);Ge===0&&(Ge=5)}function Kg(e,i){do{var l=Lw(e.alternate,e);if(l!==null){l.flags&=32767,Xt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Xt=e;return}Xt=e=l}while(e!==null);Ge=6,Xt=null}function Qg(e,i,l,h,p,_,S,x,N){e.cancelPendingCommit=null;do rh();while(Sn!==0);if((pe&6)!==0)throw Error(o(327));if(i!==null){if(i===e.current)throw Error(o(177));if(_=i.lanes|i.childLanes,_|=Ti,Ya(e,l,_,S,x,N),e===Me&&(Xt=Me=null,se=0),dl=i,ga=e,ml=l,Ld=_,Ad=p,Ug=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vw(Qi,function(){return ty(),null})):(e.callbackNode=null,e.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=et.T,et.T=null,p=yt.p,yt.p=2,S=pe,pe|=4;try{Aw(e,i,l)}finally{pe=S,yt.p=p,et.T=h}}Sn=1,Xg(),$g(),Wg()}}function Xg(){if(Sn===1){Sn=0;var e=ga,i=dl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=et.T,et.T=null;var h=yt.p;yt.p=2;var p=pe;pe|=4;try{Dg(i,e);var _=jd,S=ao(e.containerInfo),x=_.focusedElem,N=_.selectionRange;if(S!==x&&x&&x.ownerDocument&&Yo(x.ownerDocument.documentElement,x)){if(N!==null&&oo(x)){var Y=N.start,at=N.end;if(at===void 0&&(at=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(at,x.value.length);else{var lt=x.ownerDocument||document,Q=lt&&lt.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Vt=x.textContent.length,Pt=Math.min(N.start,Vt),Te=N.end===void 0?Pt:Math.min(N.end,Vt);!X.extend&&Pt>Te&&(S=Te,Te=Pt,Pt=S);var q=ru(x,Pt),U=ru(x,Te);if(q&&U&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var Z=lt.createRange();Z.setStart(q.node,q.offset),X.removeAllRanges(),Pt>Te?(X.addRange(Z),X.extend(U.node,U.offset)):(Z.setEnd(U.node,U.offset),X.addRange(Z))}}}}for(lt=[],X=x;X=X.parentNode;)X.nodeType===1&&lt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<lt.length;x++){var ot=lt[x];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}_h=!!Hd,jd=Hd=null}finally{pe=p,yt.p=h,et.T=l}}e.current=i,Sn=2}}function $g(){if(Sn===2){Sn=0;var e=ga,i=dl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=et.T,et.T=null;var h=yt.p;yt.p=2;var p=pe;pe|=4;try{xg(e,i.alternate,i)}finally{pe=p,yt.p=h,et.T=l}}Sn=3}}function Wg(){if(Sn===4||Sn===3){Sn=0,Ha();var e=ga,i=dl,l=ml,h=Ug;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Sn=5:(Sn=0,dl=ga=null,Jg(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(_a=null),Os(l),i=i.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(Le,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=et.T,p=yt.p,yt.p=2,et.T=null;try{for(var _=e.onRecoverableError,S=0;S<h.length;S++){var x=h[S];_(x.value,{componentStack:x.stack})}}finally{et.T=i,yt.p=p}}(ml&3)!==0&&rh(),Nr(e),p=e.pendingLanes,(l&4194090)!==0&&(p&42)!==0?e===Cd?xu++:(xu=0,Cd=e):xu=0,Ru(0)}}function Jg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,lu(i)))}function rh(e){return Xg(),$g(),Wg(),ty()}function ty(){if(Sn!==5)return!1;var e=ga,i=Ld;Ld=0;var l=Os(ml),h=et.T,p=yt.p;try{yt.p=32>l?32:l,et.T=null,l=Ad,Ad=null;var _=ga,S=ml;if(Sn=0,dl=ga=null,ml=0,(pe&6)!==0)throw Error(o(331));var x=pe;if(pe|=4,Vg(_.current),kg(_,_.current,S,l),pe=x,Ru(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(Le,_)}catch{}return!0}finally{yt.p=p,et.T=h,Jg(e,i)}}function ey(e,i,l){i=Zn(l,i),i=sd(e.stateNode,i,2),e=oa(e,i,2),e!==null&&(Ri(e,2),Nr(e))}function Se(e,i,l){if(e.tag===3)ey(e,e,l);else for(;i!==null;){if(i.tag===3){ey(i,e,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_a===null||!_a.has(h))){e=Zn(l,e),l=sg(2),h=oa(i,l,2),h!==null&&(ag(l,h,i,e),Ri(h,2),Nr(h));break}}i=i.return}}function Id(e,i,l){var h=e.pingCache;if(h===null){h=e.pingCache=new Rw;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(Td=!0,p.add(l),e=kw.bind(null,e,i,l),i.then(e,e))}function kw(e,i,l){var h=e.pingCache;h!==null&&h.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Me===e&&(se&l)===l&&(Ge===4||Ge===3&&(se&62914560)===se&&300>xn()-Sd?(pe&2)===0&&pl(e,0):wd|=l,fl===se&&(fl=0)),Nr(e)}function ny(e,i){i===0&&(i=ks()),e=ea(e,i),e!==null&&(Ri(e,i),Nr(e))}function Ow(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),ny(e,l)}function Nw(e,i){var l=0;switch(e.tag){case 13:var h=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=e.stateNode;break;case 22:h=e.stateNode._retryCache;break;default:throw Error(o(314))}h!==null&&h.delete(i),ny(e,l)}function Vw(e,i){return Ki(e,i)}var sh=null,gl=null,Dd=!1,ah=!1,Pd=!1,bo=0;function Nr(e){e!==gl&&e.next===null&&(gl===null?sh=gl=e:gl=gl.next=e),ah=!0,Dd||(Dd=!0,Uw())}function Ru(e,i){if(!Pd&&ah){Pd=!0;do for(var l=!1,h=sh;h!==null;){if(e!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var S=h.suspendedLanes,x=h.pingedLanes;_=(1<<31-cn(42|e)+1)-1,_&=p&~(S&~x),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,ay(h,_))}else _=se,_=Ps(h,h===Me?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||li(h,_)||(l=!0,ay(h,_));h=h.next}while(l);Pd=!1}}function zw(){iy()}function iy(){ah=Dd=!1;var e=0;bo!==0&&(Yw()&&(e=bo),bo=0);for(var i=xn(),l=null,h=sh;h!==null;){var p=h.next,_=ry(h,i);_===0?(h.next=null,l===null?sh=p:l.next=p,p===null&&(gl=l)):(l=h,(e!==0||(_&3)!==0)&&(ah=!0)),h=p}Ru(e)}function ry(e,i){for(var l=e.suspendedLanes,h=e.pingedLanes,p=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var S=31-cn(_),x=1<<S,N=p[S];N===-1?((x&l)===0||(x&h)!==0)&&(p[S]=Fa(x,i)):N<=i&&(e.expiredLanes|=x),_&=~x}if(i=Me,l=se,l=Ps(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h=e.callbackNode,l===0||e===i&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return h!==null&&h!==null&&Kr(h),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||li(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(h!==null&&Kr(h),Os(l)){case 2:case 8:l=Qr;break;case 32:l=Qi;break;case 268435456:l=Xr;break;default:l=Qi}return h=sy.bind(null,e),l=Ki(l,h),e.callbackPriority=i,e.callbackNode=l,i}return h!==null&&h!==null&&Kr(h),e.callbackPriority=2,e.callbackNode=null,2}function sy(e,i){if(Sn!==0&&Sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(rh()&&e.callbackNode!==l)return null;var h=se;return h=Ps(e,e===Me?h:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h===0?null:(Hg(e,h,i),ry(e,xn()),e.callbackNode!=null&&e.callbackNode===l?sy.bind(null,e):null)}function ay(e,i){if(rh())return null;Hg(e,i,!0)}function Uw(){Qw(function(){(pe&6)!==0?Ki(ja,zw):iy()})}function kd(){return bo===0&&(bo=Za()),bo}function oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ar(""+e)}function ly(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function Bw(e,i,l,h,p){if(i==="submit"&&l&&l.stateNode===p){var _=oy((p[je]||null).action),S=h.submitter;S&&(i=(i=S[je]||null)?oy(i.formAction):S.getAttribute("formAction"),i!==null&&(_=i,S=null));var x=new is("action","action",null,h,p);e.push({event:x,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(bo!==0){var N=S?ly(p,S):new FormData(p);td(l,{pending:!0,data:N,method:p.method,action:_},null,N)}}else typeof _=="function"&&(x.preventDefault(),N=S?ly(p,S):new FormData(p),td(l,{pending:!0,data:N,method:p.method,action:_},_,N))},currentTarget:p}]})}}for(var Od=0;Od<ls.length;Od++){var Nd=ls[Od],Hw=Nd.toLowerCase(),jw=Nd[0].toUpperCase()+Nd.slice(1);Ei(Hw,"on"+jw)}Ei(Sc,"onAnimationEnd"),Ei(vi,"onAnimationIteration"),Ei(lo,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Rf,"onTransitionRun"),Ei($o,"onTransitionStart"),Ei(Mf,"onTransitionCancel"),Ei(su,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function uy(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var h=e[l],p=h.event;h=h.listeners;t:{var _=void 0;if(i)for(var S=h.length-1;0<=S;S--){var x=h[S],N=x.instance,Y=x.currentTarget;if(x=x.listener,N!==_&&p.isPropagationStopped())break t;_=x,p.currentTarget=Y;try{_(p)}catch(at){Yc(at)}p.currentTarget=null,_=N}else for(S=0;S<h.length;S++){if(x=h[S],N=x.instance,Y=x.currentTarget,x=x.listener,N!==_&&p.isPropagationStopped())break t;_=x,p.currentTarget=Y;try{_(p)}catch(at){Yc(at)}p.currentTarget=null,_=N}}}}function $t(e,i){var l=i[Mn];l===void 0&&(l=i[Mn]=new Set);var h=e+"__bubble";l.has(h)||(cy(i,e,2,!1),l.add(h))}function Vd(e,i,l){var h=0;i&&(h|=4),cy(l,e,h,i)}var oh="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[oh]){e[oh]=!0,Xa.forEach(function(l){l!=="selectionchange"&&(qw.has(l)||Vd(l,!1,e),Vd(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oh]||(i[oh]=!0,Vd("selectionchange",!1,i))}}function cy(e,i,l,h){switch(ky(i)){case 2:var p=_b;break;case 8:p=gb;break;default:p=Wd}l=p.bind(null,i,l,e),p=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?e.addEventListener(i,l,{capture:!0,passive:p}):e.addEventListener(i,l,!0):p!==void 0?e.addEventListener(i,l,{passive:p}):e.addEventListener(i,l,!1)}function Ud(e,i,l,h,p){var _=h;if((i&1)===0&&(i&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var x=h.stateNode.containerInfo;if(x===p)break;if(S===4)for(S=h.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;x!==null;){if(S=ui(x),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){h=_=S;continue t}x=x.parentNode}}h=h.return}qn(function(){var Y=_,at=wn(l),lt=[];t:{var Q=Lc.get(e);if(Q!==void 0){var X=is,Vt=e;switch(e){case"keypress":if(ye(l)===0)break t;case"keydown":case"keyup":X=Zs;break;case"focusin":Vt="focus",X=Hs;break;case"focusout":Vt="blur",X=Hs;break;case"beforeblur":case"afterblur":X=Hs;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qo;break;case Sc:case vi:case lo:X=qs;break;case su:X=Go;break;case"scroll":case"scrollend":X=Ho;break;case"wheel":X=as;break;case"copy":case"cut":case"paste":X=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ys;break;case"toggle":case"beforetoggle":X=zi}var Pt=(i&4)!==0,Te=!Pt&&(e==="scroll"||e==="scrollend"),q=Pt?Q!==null?Q+"Capture":null:Q;Pt=[];for(var U=Y,Z;U!==null;){var ot=U;if(Z=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Z===null||q===null||(ot=re(U,q),ot!=null&&Pt.push(Iu(U,ot,Z))),Te)break;U=U.return}0<Pt.length&&(Q=new X(Q,Vt,null,l,at),lt.push({event:Q,listeners:Pt}))}}if((i&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Q&&l!==mi&&(Vt=l.relatedTarget||l.fromElement)&&(ui(Vt)||Vt[$n]))break t;if((X||Q)&&(Q=at.window===at?at:(Q=at.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Vt=l.relatedTarget||l.toElement,X=Y,Vt=Vt?ui(Vt):null,Vt!==null&&(Te=u(Vt),Pt=Vt.tag,Vt!==Te||Pt!==5&&Pt!==27&&Pt!==6)&&(Vt=null)):(X=null,Vt=Y),X!==Vt)){if(Pt=mn,ot="onMouseLeave",q="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Pt=Ys,ot="onPointerLeave",q="onPointerEnter",U="pointer"),Te=X==null?Q:En(X),Z=Vt==null?Q:En(Vt),Q=new Pt(ot,U+"leave",X,l,at),Q.target=Te,Q.relatedTarget=Z,ot=null,ui(at)===Y&&(Pt=new Pt(q,U+"enter",Vt,l,at),Pt.target=Z,Pt.relatedTarget=Te,ot=Pt),Te=ot,X&&Vt)e:{for(Pt=X,q=Vt,U=0,Z=Pt;Z;Z=yl(Z))U++;for(Z=0,ot=q;ot;ot=yl(ot))Z++;for(;0<U-Z;)Pt=yl(Pt),U--;for(;0<Z-U;)q=yl(q),Z--;for(;U--;){if(Pt===q||q!==null&&Pt===q.alternate)break e;Pt=yl(Pt),q=yl(q)}Pt=null}else Pt=null;X!==null&&hy(lt,Q,X,Pt,!1),Vt!==null&&Te!==null&&hy(lt,Te,Vt,Pt,!0)}}t:{if(Q=Y?En(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var At=Qs;else if(xe(Q))if(eu)At=xf;else{At=Cf;var Qt=iu}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&ns(Y.elementType)&&(At=Qs):At=lr;if(At&&(At=At(e,Y))){ar(lt,At,l,at);break t}Qt&&Qt(e,Q,Y),e==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&fi(Q,"number",Q.value)}switch(Qt=Y?En(Y):window,e){case"focusin":(xe(Qt)||Qt.contentEditable==="true")&&(yi=Qt,Ws=Y,os=null);break;case"focusout":os=Ws=yi=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,wc(lt,l,at);break;case"selectionchange":if(Ko)break;case"keydown":case"keyup":wc(lt,l,at)}var It;if(kn)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Wt?J(e,l)&&(Ot="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ot="onCompositionStart");Ot&&(b&&l.locale!=="ko"&&(Wt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Wt&&(It=nr()):(Jn=at,Dn="value"in Jn?Jn.value:Jn.textContent,Wt=!0)),Qt=lh(Y,Ot),0<Qt.length&&(Ot=new Pn(Ot,e,null,l,at),lt.push({event:Ot,listeners:Qt}),It?Ot.data=It:(It=gt(l),It!==null&&(Ot.data=It)))),(It=E?qe(e,l):Jt(e,l))&&(Ot=lh(Y,"onBeforeInput"),0<Ot.length&&(Qt=new Pn("onBeforeInput","beforeinput",null,l,at),lt.push({event:Qt,listeners:Ot}),Qt.data=It)),Bw(lt,e,Y,l,at)}uy(lt,i)})}function Iu(e,i,l){return{instance:e,listener:i,currentTarget:l}}function lh(e,i){for(var l=i+"Capture",h=[];e!==null;){var p=e,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=re(e,l),p!=null&&h.unshift(Iu(e,p,_)),p=re(e,i),p!=null&&h.push(Iu(e,p,_))),e.tag===3)return h;e=e.return}return[]}function yl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hy(e,i,l,h,p){for(var _=i._reactName,S=[];l!==null&&l!==h;){var x=l,N=x.alternate,Y=x.stateNode;if(x=x.tag,N!==null&&N===h)break;x!==5&&x!==26&&x!==27||Y===null||(N=Y,p?(Y=re(l,_),Y!=null&&S.unshift(Iu(l,Y,N))):p||(Y=re(l,_),Y!=null&&S.push(Iu(l,Y,N)))),l=l.return}S.length!==0&&e.push({event:i,listeners:S})}var Gw=/\r\n?/g,Fw=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(Gw,`
`).replace(Fw,"")}function dy(e,i){return i=fy(i),fy(e)===i}function uh(){}function Ee(e,i,l,h,p,_){switch(l){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||fn(e,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&fn(e,""+h);break;case"className":Di(e,"class",h);break;case"tabIndex":Di(e,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Di(e,l,h);break;case"style":tr(e,h,_);break;case"data":if(i!=="object"){Di(e,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(l);break}h=Ar(""+h),e.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(i!=="input"&&Ee(e,i,"name",p.name,p,null),Ee(e,i,"formEncType",p.formEncType,p,null),Ee(e,i,"formMethod",p.formMethod,p,null),Ee(e,i,"formTarget",p.formTarget,p,null)):(Ee(e,i,"encType",p.encType,p,null),Ee(e,i,"method",p.method,p,null),Ee(e,i,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(l);break}h=Ar(""+h),e.setAttribute(l,h);break;case"onClick":h!=null&&(e.onclick=uh);break;case"onScroll":h!=null&&$t("scroll",e);break;case"onScrollEnd":h!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(o(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":e.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){e.removeAttribute("xlink:href");break}l=Ar(""+h),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(l,""+h):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":h===!0?e.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(l,h):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?e.setAttribute(l,h):e.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?e.removeAttribute(l):e.setAttribute(l,h);break;case"popover":$t("beforetoggle",e),$t("toggle",e),wr(e,"popover",h);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wr(e,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wa.get(l)||l,wr(e,l,h))}}function Bd(e,i,l,h,p,_){switch(l){case"style":tr(e,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(o(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof h=="string"?fn(e,h):(typeof h=="number"||typeof h=="bigint")&&fn(e,""+h);break;case"onScroll":h!=null&&$t("scroll",e);break;case"onScrollEnd":h!=null&&$t("scrollend",e);break;case"onClick":h!=null&&(e.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vs.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),_=e[je]||null,_=_!=null?_[l]:null,typeof _=="function"&&e.removeEventListener(i,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,h,p);break t}l in e?e[l]=h:h===!0?e.setAttribute(l,""):wr(e,l,h)}}}function Ln(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var h=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var S=l[_];if(S!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ee(e,i,_,S,l,null)}}p&&Ee(e,i,"srcSet",l.srcSet,l,null),h&&Ee(e,i,"src",l.src,l,null);return;case"input":$t("invalid",e);var x=_=S=p=null,N=null,Y=null;for(h in l)if(l.hasOwnProperty(h)){var at=l[h];if(at!=null)switch(h){case"name":p=at;break;case"type":S=at;break;case"checked":N=at;break;case"defaultChecked":Y=at;break;case"value":_=at;break;case"defaultValue":x=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(o(137,i));break;default:Ee(e,i,h,at,l,null)}}es(e,_,x,N,Y,S,p,!1),Lr(e);return;case"select":$t("invalid",e),h=S=_=null;for(p in l)if(l.hasOwnProperty(p)&&(x=l[p],x!=null))switch(p){case"value":_=x;break;case"defaultValue":S=x;break;case"multiple":h=x;default:Ee(e,i,p,x,l,null)}i=_,l=S,e.multiple=!!h,i!=null?Tn(e,!!h,i,!1):l!=null&&Tn(e,!!h,l,!0);return;case"textarea":$t("invalid",e),_=p=h=null;for(S in l)if(l.hasOwnProperty(S)&&(x=l[S],x!=null))switch(S){case"value":h=x;break;case"defaultValue":p=x;break;case"children":_=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:Ee(e,i,S,x,l,null)}jn(e,h,p,_),Lr(e);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(h=l[N],h!=null))switch(N){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ee(e,i,N,h,l,null)}return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(h=0;h<Mu.length;h++)$t(Mu[h],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(h=l[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ee(e,i,Y,h,l,null)}return;default:if(ns(i)){for(at in l)l.hasOwnProperty(at)&&(h=l[at],h!==void 0&&Bd(e,i,at,h,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(h=l[x],h!=null&&Ee(e,i,x,h,l,null))}function Zw(e,i,l,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,S=null,x=null,N=null,Y=null,at=null;for(X in l){var lt=l[X];if(l.hasOwnProperty(X)&&lt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=lt;default:h.hasOwnProperty(X)||Ee(e,i,X,null,h,lt)}}for(var Q in h){var X=h[Q];if(lt=l[Q],h.hasOwnProperty(Q)&&(X!=null||lt!=null))switch(Q){case"type":_=X;break;case"name":p=X;break;case"checked":Y=X;break;case"defaultChecked":at=X;break;case"value":S=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,i));break;default:X!==lt&&Ee(e,i,Q,X,h,lt)}}Ce(e,S,x,N,Y,at,_,p);return;case"select":X=S=x=Q=null;for(_ in l)if(N=l[_],l.hasOwnProperty(_)&&N!=null)switch(_){case"value":break;case"multiple":X=N;default:h.hasOwnProperty(_)||Ee(e,i,_,null,h,N)}for(p in h)if(_=h[p],N=l[p],h.hasOwnProperty(p)&&(_!=null||N!=null))switch(p){case"value":Q=_;break;case"defaultValue":x=_;break;case"multiple":S=_;default:_!==N&&Ee(e,i,p,_,h,N)}i=x,l=S,h=X,Q!=null?Tn(e,!!l,Q,!1):!!h!=!!l&&(i!=null?Tn(e,!!l,i,!0):Tn(e,!!l,l?[]:"",!1));return;case"textarea":X=Q=null;for(x in l)if(p=l[x],l.hasOwnProperty(x)&&p!=null&&!h.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ee(e,i,x,null,h,p)}for(S in h)if(p=h[S],_=l[S],h.hasOwnProperty(S)&&(p!=null||_!=null))switch(S){case"value":Q=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==_&&Ee(e,i,S,p,h,_)}Nt(e,Q,X);return;case"option":for(var Vt in l)if(Q=l[Vt],l.hasOwnProperty(Vt)&&Q!=null&&!h.hasOwnProperty(Vt))switch(Vt){case"selected":e.selected=!1;break;default:Ee(e,i,Vt,null,h,Q)}for(N in h)if(Q=h[N],X=l[N],h.hasOwnProperty(N)&&Q!==X&&(Q!=null||X!=null))switch(N){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ee(e,i,N,Q,h,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in l)Q=l[Pt],l.hasOwnProperty(Pt)&&Q!=null&&!h.hasOwnProperty(Pt)&&Ee(e,i,Pt,null,h,Q);for(Y in h)if(Q=h[Y],X=l[Y],h.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,i));break;default:Ee(e,i,Y,Q,h,X)}return;default:if(ns(i)){for(var Te in l)Q=l[Te],l.hasOwnProperty(Te)&&Q!==void 0&&!h.hasOwnProperty(Te)&&Bd(e,i,Te,void 0,h,Q);for(at in h)Q=h[at],X=l[at],!h.hasOwnProperty(at)||Q===X||Q===void 0&&X===void 0||Bd(e,i,at,Q,h,X);return}}for(var q in l)Q=l[q],l.hasOwnProperty(q)&&Q!=null&&!h.hasOwnProperty(q)&&Ee(e,i,q,null,h,Q);for(lt in h)Q=h[lt],X=l[lt],!h.hasOwnProperty(lt)||Q===X||Q==null&&X==null||Ee(e,i,lt,Q,h,X)}var Hd=null,jd=null;function ch(e){return e.nodeType===9?e:e.ownerDocument}function my(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function qd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function Yw(){var e=window.event;return e&&e.type==="popstate"?e===Gd?!1:(Gd=e,!0):(Gd=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(e){return gy.resolve(null).then(e).catch(Xw)}:_y;function Xw(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function yy(e,i){var l=i,h=0,p=0;do{var _=l.nextSibling;if(e.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var S=e.ownerDocument;if(l&1&&Du(S.documentElement),l&2&&Du(S.body),l&4)for(l=S.head,Du(l),S=l.firstChild;S;){var x=S.nextSibling,N=S.nodeName;S[Tr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=x}}if(p===0){e.removeChild(_),Bu(i);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);Bu(i)}function Fd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fd(l),Wi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function $w(e,i,l,h){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(h){if(!e[Tr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=fr(e.nextSibling),e===null)break}return null}function Ww(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=fr(e.nextSibling),e===null))return null;return e}function Zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Jw(e,i){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")i();else{var h=function(){i(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),e._reactRetry=h}}function fr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Yd=null;function vy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function Ey(e,i,l){switch(i=ch(l),e){case"html":if(e=i.documentElement,!e)throw Error(o(452));return e;case"head":if(e=i.head,!e)throw Error(o(453));return e;case"body":if(e=i.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Du(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wi(e)}var Zi=new Map,Ty=new Set;function hh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=yt.d;yt.d={f:tb,r:eb,D:nb,C:ib,L:rb,m:sb,X:ob,S:ab,M:lb};function tb(){var e=Es.f(),i=nh();return e||i}function eb(e){var i=ci(e);i!==null&&i.tag===5&&i.type==="form"?H_(i):Es.r(e)}var vl=typeof document>"u"?null:document;function wy(e,i,l){var h=vl;if(h&&typeof i=="string"&&i){var p=Ie(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Ty.has(p)||(Ty.add(p),e={rel:e,crossOrigin:l,href:i},h.querySelector(p)===null&&(i=h.createElement("link"),Ln(i,"link",e),Ve(i),h.head.appendChild(i)))}}function nb(e){Es.D(e),wy("dns-prefetch",e,null)}function ib(e,i){Es.C(e,i),wy("preconnect",e,i)}function rb(e,i,l){Es.L(e,i,l);var h=vl;if(h&&e&&i){var p='link[rel="preload"][as="'+Ie(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ie(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ie(l.imageSizes)+'"]')):p+='[href="'+Ie(e)+'"]';var _=p;switch(i){case"style":_=El(e);break;case"script":_=Tl(e)}Zi.has(_)||(e=A({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),Zi.set(_,e),h.querySelector(p)!==null||i==="style"&&h.querySelector(Pu(_))||i==="script"&&h.querySelector(ku(_))||(i=h.createElement("link"),Ln(i,"link",e),Ve(i),h.head.appendChild(i)))}}function sb(e,i){Es.m(e,i);var l=vl;if(l&&e){var h=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ie(h)+'"][href="'+Ie(e)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Tl(e)}if(!Zi.has(_)&&(e=A({rel:"modulepreload",href:e},i),Zi.set(_,e),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ku(_)))return}h=l.createElement("link"),Ln(h,"link",e),Ve(h),l.head.appendChild(h)}}}function ab(e,i,l){Es.S(e,i,l);var h=vl;if(h&&e){var p=hn(h).hoistableStyles,_=El(e);i=i||"default";var S=p.get(_);if(!S){var x={loading:0,preload:null};if(S=h.querySelector(Pu(_)))x.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},l),(l=Zi.get(_))&&Kd(e,l);var N=S=h.createElement("link");Ve(N),Ln(N,"link",e),N._p=new Promise(function(Y,at){N.onload=Y,N.onerror=at}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,fh(S,i,h)}S={type:"stylesheet",instance:S,count:1,state:x},p.set(_,S)}}}function ob(e,i){Es.X(e,i);var l=vl;if(l&&e){var h=hn(l).hoistableScripts,p=Tl(e),_=h.get(p);_||(_=l.querySelector(ku(p)),_||(e=A({src:e,async:!0},i),(i=Zi.get(p))&&Qd(e,i),_=l.createElement("script"),Ve(_),Ln(_,"link",e),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function lb(e,i){Es.M(e,i);var l=vl;if(l&&e){var h=hn(l).hoistableScripts,p=Tl(e),_=h.get(p);_||(_=l.querySelector(ku(p)),_||(e=A({src:e,async:!0,type:"module"},i),(i=Zi.get(p))&&Qd(e,i),_=l.createElement("script"),Ve(_),Ln(_,"link",e),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function by(e,i,l,h){var p=(p=vt.current)?hh(p):null;if(!p)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=hn(p).hoistableStyles,h=l.get(i),h||(h={type:"style",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=El(l.href);var _=hn(p).hoistableStyles,S=_.get(e);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,S),(_=p.querySelector(Pu(e)))&&!_._p&&(S.instance=_,S.state.loading=5),Zi.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zi.set(e,l),_||ub(p,e,l,S.state))),i&&h===null)throw Error(o(528,""));return S}if(i&&h!==null)throw Error(o(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(l),l=hn(p).hoistableScripts,h=l.get(i),h||(h={type:"script",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function El(e){return'href="'+Ie(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function Sy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,i,l,h){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=e.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Ln(i,"link",l),Ve(i),e.head.appendChild(i))}function Tl(e){return'[src="'+Ie(e)+'"]'}function ku(e){return"script[async]"+e}function Ly(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var h=e.querySelector('style[data-href~="'+Ie(l.href)+'"]');if(h)return i.instance=h,Ve(h),h;var p=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(e.ownerDocument||e).createElement("style"),Ve(h),Ln(h,"style",p),fh(h,l.precedence,e),i.instance=h;case"stylesheet":p=El(l.href);var _=e.querySelector(Pu(p));if(_)return i.state.loading|=4,i.instance=_,Ve(_),_;h=Sy(l),(p=Zi.get(p))&&Kd(h,p),_=(e.ownerDocument||e).createElement("link"),Ve(_);var S=_;return S._p=new Promise(function(x,N){S.onload=x,S.onerror=N}),Ln(_,"link",h),i.state.loading|=4,fh(_,l.precedence,e),i.instance=_;case"script":return _=Tl(l.src),(p=e.querySelector(ku(_)))?(i.instance=p,Ve(p),p):(h=l,(p=Zi.get(_))&&(h=A({},l),Qd(h,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ve(p),Ln(p,"link",h),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,fh(h,l.precedence,e));return i.instance}function fh(e,i,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,S=0;S<h.length;S++){var x=h[S];if(x.dataset.precedence===i)_=x;else if(_!==p)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function Kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dh=null;function Ay(e,i,l){if(dh===null){var h=new Map,p=dh=new Map;p.set(l,h)}else p=dh,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(e))return h;for(h.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var _=l[p];if(!(_[Tr]||_[Fe]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(i)||"";S=e+S;var x=h.get(S);x?x.push(_):h.set(S,[_])}}return h}function Cy(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function cb(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ou=null;function hb(){}function fb(e,i,l){if(Ou===null)throw Error(o(475));var h=Ou;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=El(l.href),_=e.querySelector(Pu(p));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(h.count++,h=mh.bind(h),e.then(h,h)),i.state.loading|=4,i.instance=_,Ve(_);return}_=e.ownerDocument||e,l=Sy(l),(p=Zi.get(p))&&Kd(l,p),_=_.createElement("link"),Ve(_);var S=_;S._p=new Promise(function(x,N){S.onload=x,S.onerror=N}),Ln(_,"link",l),i.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=mh.bind(h),e.addEventListener("load",i),e.addEventListener("error",i))}}function db(){if(Ou===null)throw Error(o(475));var e=Ou;return e.stylesheets&&e.count===0&&Xd(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&Xd(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ph=null;function Xd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ph=new Map,i.forEach(mb,e),ph=null,mh.call(e))}function mb(e,i){if(!(i.state.loading&4)){var l=ph.get(e);if(l)var h=l.get(null);else{l=new Map,ph.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var S=p[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}p=i.instance,S=p.getAttribute("data-precedence"),_=l.get(S)||h,_===h&&l.set(null,p),l.set(S,p),this.count++,h=mh.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var Nu={$$typeof:mt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function pb(e,i,l,h,p,_,S,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Ry(e,i,l,h,p,_,S,x,N,Y,at,lt){return e=new pb(e,i,l,S,x,N,Y,lt),i=1,_===!0&&(i|=24),_=Kn(3,null,null,i),e.current=_,_.stateNode=e,i=If(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:i},Of(_),e}function My(e){return e?(e=hs,e):hs}function Iy(e,i,l,h,p,_){p=My(p),h.context===null?h.context=p:h.pendingContext=p,h=aa(i),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=oa(e,h,i),l!==null&&(Ai(l,e,i),fu(l,e,i))}function Dy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function $d(e,i){Dy(e,i),(e=e.alternate)&&Dy(e,i)}function Py(e){if(e.tag===13){var i=ea(e,67108864);i!==null&&Ai(i,e,67108864),$d(e,67108864)}}var _h=!0;function _b(e,i,l,h){var p=et.T;et.T=null;var _=yt.p;try{yt.p=2,Wd(e,i,l,h)}finally{yt.p=_,et.T=p}}function gb(e,i,l,h){var p=et.T;et.T=null;var _=yt.p;try{yt.p=8,Wd(e,i,l,h)}finally{yt.p=_,et.T=p}}function Wd(e,i,l,h){if(_h){var p=Jd(h);if(p===null)Ud(e,i,h,gh,l),Oy(e,h);else if(vb(p,e,i,l,h))h.stopPropagation();else if(Oy(e,h),i&4&&-1<yb.indexOf(e)){for(;p!==null;){var _=ci(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=Xn(_.pendingLanes);if(S!==0){var x=_;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var N=1<<31-cn(S);x.entanglements[1]|=N,S&=~N}Nr(_),(pe&6)===0&&(th=xn()+500,Ru(0))}}break;case 13:x=ea(_,2),x!==null&&Ai(x,_,2),nh(),$d(_,2)}if(_=Jd(h),_===null&&Ud(e,i,h,gh,l),_===p)break;p=_}p!==null&&h.stopPropagation()}else Ud(e,i,h,null,l)}}function Jd(e){return e=wn(e),tm(e)}var gh=null;function tm(e){if(gh=null,e=ui(e),e!==null){var i=u(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=d(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return gh=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ds()){case ja:return 2;case Qr:return 8;case Qi:case No:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var em=!1,Ea=null,Ta=null,wa=null,Vu=new Map,zu=new Map,ba=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oy(e,i){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Vu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(i.pointerId)}}function Uu(e,i,l,h,p,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},i!==null&&(i=ci(i),i!==null&&Py(i)),e):(e.eventSystemFlags|=h,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function vb(e,i,l,h,p){switch(i){case"focusin":return Ea=Uu(Ea,e,i,l,h,p),!0;case"dragenter":return Ta=Uu(Ta,e,i,l,h,p),!0;case"mouseover":return wa=Uu(wa,e,i,l,h,p),!0;case"pointerover":var _=p.pointerId;return Vu.set(_,Uu(Vu.get(_)||null,e,i,l,h,p)),!0;case"gotpointercapture":return _=p.pointerId,zu.set(_,Uu(zu.get(_)||null,e,i,l,h,p)),!0}return!1}function Ny(e){var i=ui(e.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){e.blockedOn=i,Ns(e.priority,function(){if(l.tag===13){var h=Li();h=vr(h);var p=ea(l,h);p!==null&&Ai(p,l,h),$d(l,h)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Jd(e.nativeEvent);if(l===null){l=e.nativeEvent;var h=new l.constructor(l.type,l);mi=h,l.target.dispatchEvent(h),mi=null}else return i=ci(l),i!==null&&Py(i),e.blockedOn=l,!1;i.shift()}return!0}function Vy(e,i,l){yh(e)&&l.delete(i)}function Eb(){em=!1,Ea!==null&&yh(Ea)&&(Ea=null),Ta!==null&&yh(Ta)&&(Ta=null),wa!==null&&yh(wa)&&(wa=null),Vu.forEach(Vy),zu.forEach(Vy)}function vh(e,i){e.blockedOn===i&&(e.blockedOn=null,em||(em=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Eb)))}var Eh=null;function zy(e){Eh!==e&&(Eh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var i=0;i<e.length;i+=3){var l=e[i],h=e[i+1],p=e[i+2];if(typeof h!="function"){if(tm(h||l)===null)continue;break}var _=ci(l);_!==null&&(e.splice(i,3),i-=3,td(_,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Bu(e){function i(N){return vh(N,e)}Ea!==null&&vh(Ea,e),Ta!==null&&vh(Ta,e),wa!==null&&vh(wa,e),Vu.forEach(i),zu.forEach(i);for(var l=0;l<ba.length;l++){var h=ba[l];h.blockedOn===e&&(h.blockedOn=null)}for(;0<ba.length&&(l=ba[0],l.blockedOn===null);)Ny(l),l.blockedOn===null&&ba.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],_=l[h+1],S=p[je]||null;if(typeof _=="function")S||zy(l);else if(S){var x=null;if(_&&_.hasAttribute("formAction")){if(p=_,S=_[je]||null)x=S.formAction;else if(tm(p)!==null)continue}else x=S.action;typeof x=="function"?l[h+1]=x:(l.splice(h,3),h-=3),zy(l)}}}function nm(e){this._internalRoot=e}Th.prototype.render=nm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(o(409));var l=i.current,h=Li();Iy(l,h,e,i,null,null)},Th.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Iy(e.current,2,null,e,null,null),nh(),i[$n]=null}};function Th(e){this._internalRoot=e}Th.prototype.unstable_scheduleHydration=function(e){if(e){var i=Er();e={blockedOn:null,target:e,priority:i};for(var l=0;l<ba.length&&i!==0&&i<ba[l].priority;l++);ba.splice(l,0,e),l===0&&Ny(e)}};var Uy=t.version;if(Uy!=="19.1.0")throw Error(o(527,Uy,"19.1.0"));yt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Tb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Le=wh.inject(Tb),ue=wh}catch{}}return ju.createRoot=function(e,i){if(!a(e))throw Error(o(299));var l=!1,h="",p=eg,_=ng,S=ig,x=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=Ry(e,1,!1,null,null,l,h,p,_,S,x,null),e[$n]=i.current,zd(e),new nm(i)},ju.hydrateRoot=function(e,i,l){if(!a(e))throw Error(o(299));var h=!1,p="",_=eg,S=ng,x=ig,N=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),i=Ry(e,1,!0,i,l??null,h,p,_,S,x,N,Y),i.context=My(null),l=i.current,h=Li(),h=vr(h),p=aa(h),p.callback=null,oa(l,p,h),l=h,i.current.lanes=l,Ri(i,l),Nr(i),e[$n]=i.current,zd(e),new Th(i)},ju.version="19.1.0",ju}var Qy;function Ib(){if(Qy)return sm.exports;Qy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),sm.exports=Mb(),sm.exports}var Db=Ib();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xy="popstate";function Pb(s={}){function t(o,a){let{pathname:u,search:d,hash:g}=o.location;return Lm("",{pathname:u,search:d,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:ec(a)}return Ob(t,n,null,s)}function Be(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function qr(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kb(){return Math.random().toString(36).substring(2,10)}function $y(s,t){return{usr:s.state,key:s.key,idx:t}}function Lm(s,t,n=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?ql(t):t,state:n,key:t&&t.key||o||kb()}}function ec({pathname:s="/",search:t="",hash:n=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ql(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substring(n),s=s.substring(0,n));let o=s.indexOf("?");o>=0&&(t.search=s.substring(o),s=s.substring(0,o)),s&&(t.pathname=s)}return t}function Ob(s,t,n,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,d=a.history,g="POP",v=null,T=A();T==null&&(T=0,d.replaceState({...d.state,idx:T},""));function A(){return(d.state||{idx:null}).idx}function M(){g="POP";let st=A(),ct=st==null?null:st-T;T=st,v&&v({action:g,location:tt.location,delta:ct})}function I(st,ct){g="PUSH";let wt=Lm(tt.location,st,ct);T=A()+1;let mt=$y(wt,T),Ht=tt.createHref(wt);try{d.pushState(mt,"",Ht)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;a.location.assign(Ht)}u&&v&&v({action:g,location:tt.location,delta:1})}function $(st,ct){g="REPLACE";let wt=Lm(tt.location,st,ct);T=A();let mt=$y(wt,T),Ht=tt.createHref(wt);d.replaceState(mt,"",Ht),u&&v&&v({action:g,location:tt.location,delta:0})}function nt(st){return Nb(st)}let tt={get action(){return g},get location(){return s(a,d)},listen(st){if(v)throw new Error("A history only accepts one active listener");return a.addEventListener(Xy,M),v=st,()=>{a.removeEventListener(Xy,M),v=null}},createHref(st){return t(a,st)},createURL:nt,encodeLocation(st){let ct=nt(st);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:I,replace:$,go(st){return d.go(st)}};return tt}function Nb(s,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Be(n,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:ec(s);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function I0(s,t,n="/"){return Vb(s,t,n,!1)}function Vb(s,t,n,o){let a=typeof t=="string"?ql(t):t,u=Ls(a.pathname||"/",n);if(u==null)return null;let d=D0(s);zb(d);let g=null;for(let v=0;g==null&&v<d.length;++v){let T=Qb(u);g=Yb(d[v],T,o)}return g}function D0(s,t=[],n=[],o=""){let a=(u,d,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};v.relativePath.startsWith("/")&&(Be(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length));let T=Ss([o,v.relativePath]),A=n.concat(v);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),D0(u.children,t,A,T)),!(u.path==null&&!u.index)&&t.push({path:T,score:Fb(T,u.index),routesMeta:A})};return s.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let g of P0(u.path))a(u,d,g)}),t}function P0(s){let t=s.split("/");if(t.length===0)return[];let[n,...o]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let d=P0(o.join("/")),g=[];return g.push(...d.map(v=>v===""?u:[u,v].join("/"))),a&&g.push(...d),g.map(v=>s.startsWith("/")&&v===""?"/":v)}function zb(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:Zb(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var Ub=/^:[\w-]+$/,Bb=3,Hb=2,jb=1,qb=10,Gb=-2,Wy=s=>s==="*";function Fb(s,t){let n=s.split("/"),o=n.length;return n.some(Wy)&&(o+=Gb),t&&(o+=Hb),n.filter(a=>!Wy(a)).reduce((a,u)=>a+(Ub.test(u)?Bb:u===""?jb:qb),o)}function Zb(s,t){return s.length===t.length&&s.slice(0,-1).every((o,a)=>o===t[a])?s[s.length-1]-t[t.length-1]:0}function Yb(s,t,n=!1){let{routesMeta:o}=s,a={},u="/",d=[];for(let g=0;g<o.length;++g){let v=o[g],T=g===o.length-1,A=u==="/"?t:t.slice(u.length)||"/",M=jh({path:v.relativePath,caseSensitive:v.caseSensitive,end:T},A),I=v.route;if(!M&&T&&n&&!o[o.length-1].route.index&&(M=jh({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},A)),!M)return null;Object.assign(a,M.params),d.push({params:a,pathname:Ss([u,M.pathname]),pathnameBase:Jb(Ss([u,M.pathnameBase])),route:I}),M.pathnameBase!=="/"&&(u=Ss([u,M.pathnameBase]))}return d}function jh(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,o]=Kb(s.path,s.caseSensitive,s.end),a=t.match(n);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((T,{paramName:A,isOptional:M},I)=>{if(A==="*"){let nt=g[I]||"";d=u.slice(0,u.length-nt.length).replace(/(.)\/+$/,"$1")}const $=g[I];return M&&!$?T[A]=void 0:T[A]=($||"").replace(/%2F/g,"/"),T},{}),pathname:u,pathnameBase:d,pattern:s}}function Kb(s,t=!1,n=!0){qr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,v)=>(o.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function Qb(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Ls(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=s.charAt(n);return o&&o!=="/"?null:s.slice(n)||"/"}function Xb(s,t="/"){let{pathname:n,search:o="",hash:a=""}=typeof s=="string"?ql(s):s;return{pathname:n?n.startsWith("/")?n:$b(n,t):t,search:t1(o),hash:e1(a)}}function $b(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function um(s,t,n,o){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wb(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function k0(s){let t=Wb(s);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function O0(s,t,n,o=!1){let a;typeof s=="string"?a=ql(s):(a={...s},Be(!a.pathname||!a.pathname.includes("?"),um("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),um("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),um("#","search","hash",a)));let u=s===""||a.pathname==="",d=u?"/":a.pathname,g;if(d==null)g=n;else{let M=t.length-1;if(!o&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),M-=1;a.pathname=I.join("/")}g=M>=0?t[M]:"/"}let v=Xb(a,g),T=d&&d!=="/"&&d.endsWith("/"),A=(u||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(T||A)&&(v.pathname+="/"),v}var Ss=s=>s.join("/").replace(/\/\/+/g,"/"),Jb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,e1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function n1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var i1=["GET",...N0];new Set(i1);var Gl=K.createContext(null);Gl.displayName="DataRouter";var of=K.createContext(null);of.displayName="DataRouterState";K.createContext(!1);var V0=K.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var r1=K.createContext(new Map);r1.displayName="Fetchers";var s1=K.createContext(null);s1.displayName="Await";var Yr=K.createContext(null);Yr.displayName="Navigation";var lc=K.createContext(null);lc.displayName="Location";var Rs=K.createContext({outlet:null,matches:[],isDataRoute:!1});Rs.displayName="Route";var np=K.createContext(null);np.displayName="RouteError";function a1(s,{relative:t}={}){Be(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=K.useContext(Yr),{hash:a,pathname:u,search:d}=cc(s,{relative:t}),g=u;return n!=="/"&&(g=u==="/"?n:Ss([n,u])),o.createHref({pathname:g,search:d,hash:a})}function uc(){return K.useContext(lc)!=null}function ko(){return Be(uc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(lc).location}var z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(s){K.useContext(Yr).static||K.useLayoutEffect(s)}function ip(){let{isDataRoute:s}=K.useContext(Rs);return s?v1():o1()}function o1(){Be(uc(),"useNavigate() may be used only in the context of a <Router> component.");let s=K.useContext(Gl),{basename:t,navigator:n}=K.useContext(Yr),{matches:o}=K.useContext(Rs),{pathname:a}=ko(),u=JSON.stringify(k0(o)),d=K.useRef(!1);return U0(()=>{d.current=!0}),K.useCallback((v,T={})=>{if(qr(d.current,z0),!d.current)return;if(typeof v=="number"){n.go(v);return}let A=O0(v,JSON.parse(u),a,T.relative==="path");s==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Ss([t,A.pathname])),(T.replace?n.replace:n.push)(A,T.state,T)},[t,n,u,a,s])}K.createContext(null);function cc(s,{relative:t}={}){let{matches:n}=K.useContext(Rs),{pathname:o}=ko(),a=JSON.stringify(k0(n));return K.useMemo(()=>O0(s,JSON.parse(a),o,t==="path"),[s,a,o,t])}function l1(s,t){return B0(s,t)}function B0(s,t,n,o){Be(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=K.useContext(Yr),{matches:u}=K.useContext(Rs),d=u[u.length-1],g=d?d.params:{},v=d?d.pathname:"/",T=d?d.pathnameBase:"/",A=d&&d.route;{let ct=A&&A.path||"";H0(v,!A||ct.endsWith("*")||ct.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ct}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ct}"> to <Route path="${ct==="/"?"*":`${ct}/*`}">.`)}let M=ko(),I;if(t){let ct=typeof t=="string"?ql(t):t;Be(T==="/"||ct.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ct.pathname}" was given in the \`location\` prop.`),I=ct}else I=M;let $=I.pathname||"/",nt=$;if(T!=="/"){let ct=T.replace(/^\//,"").split("/");nt="/"+$.replace(/^\//,"").split("/").slice(ct.length).join("/")}let tt=I0(s,{pathname:nt});qr(A||tt!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),qr(tt==null||tt[tt.length-1].route.element!==void 0||tt[tt.length-1].route.Component!==void 0||tt[tt.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let st=d1(tt&&tt.map(ct=>Object.assign({},ct,{params:Object.assign({},g,ct.params),pathname:Ss([T,a.encodeLocation?a.encodeLocation(ct.pathname).pathname:ct.pathname]),pathnameBase:ct.pathnameBase==="/"?T:Ss([T,a.encodeLocation?a.encodeLocation(ct.pathnameBase).pathname:ct.pathnameBase])})),u,n,o);return t&&st?K.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},st):st}function u1(){let s=y1(),t=n1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:a},n):null,d)}var c1=K.createElement(u1,null),h1=class extends K.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?K.createElement(Rs.Provider,{value:this.props.routeContext},K.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f1({routeContext:s,match:t,children:n}){let o=K.useContext(Gl);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Rs.Provider,{value:s},n)}function d1(s,t=[],n=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let a=s,u=n?.errors;if(u!=null){let v=a.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);Be(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let d=!1,g=-1;if(n)for(let v=0;v<a.length;v++){let T=a[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=v),T.route.id){let{loaderData:A,errors:M}=n,I=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||I){d=!0,g>=0?a=a.slice(0,g+1):a=[a[0]];break}}}return a.reduceRight((v,T,A)=>{let M,I=!1,$=null,nt=null;n&&(M=u&&T.route.id?u[T.route.id]:void 0,$=T.route.errorElement||c1,d&&(g<0&&A===0?(H0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,nt=null):g===A&&(I=!0,nt=T.route.hydrateFallbackElement||null)));let tt=t.concat(a.slice(0,A+1)),st=()=>{let ct;return M?ct=$:I?ct=nt:T.route.Component?ct=K.createElement(T.route.Component,null):T.route.element?ct=T.route.element:ct=v,K.createElement(f1,{match:T,routeContext:{outlet:v,matches:tt,isDataRoute:n!=null},children:ct})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?K.createElement(h1,{location:n.location,revalidation:n.revalidation,component:$,error:M,children:st(),routeContext:{outlet:null,matches:tt,isDataRoute:!0}}):st()},null)}function rp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(s){let t=K.useContext(Gl);return Be(t,rp(s)),t}function p1(s){let t=K.useContext(of);return Be(t,rp(s)),t}function _1(s){let t=K.useContext(Rs);return Be(t,rp(s)),t}function sp(s){let t=_1(s),n=t.matches[t.matches.length-1];return Be(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function g1(){return sp("useRouteId")}function y1(){let s=K.useContext(np),t=p1("useRouteError"),n=sp("useRouteError");return s!==void 0?s:t.errors?.[n]}function v1(){let{router:s}=m1("useNavigate"),t=sp("useNavigate"),n=K.useRef(!1);return U0(()=>{n.current=!0}),K.useCallback(async(a,u={})=>{qr(n.current,z0),n.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...u}))},[s,t])}var Jy={};function H0(s,t,n){!t&&!Jy[s]&&(Jy[s]=!0,qr(!1,n))}K.memo(E1);function E1({routes:s,future:t,state:n}){return B0(s,void 0,n,t)}function Gu(s){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:s="/",children:t=null,location:n,navigationType:o="POP",navigator:a,static:u=!1}){Be(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:d,navigator:a,static:u,future:{}}),[d,a,u]);typeof n=="string"&&(n=ql(n));let{pathname:v="/",search:T="",hash:A="",state:M=null,key:I="default"}=n,$=K.useMemo(()=>{let nt=Ls(v,d);return nt==null?null:{location:{pathname:nt,search:T,hash:A,state:M,key:I},navigationType:o}},[d,v,T,A,M,I,o]);return qr($!=null,`<Router basename="${d}"> is not able to match the URL "${v}${T}${A}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:K.createElement(Yr.Provider,{value:g},K.createElement(lc.Provider,{children:t,value:$}))}function w1({children:s,location:t}){return l1(Am(s),t)}function Am(s,t=[]){let n=[];return K.Children.forEach(s,(o,a)=>{if(!K.isValidElement(o))return;let u=[...t,a];if(o.type===K.Fragment){n.push.apply(n,Am(o.props.children,u));return}Be(o.type===Gu,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Am(o.props.children,u)),n.push(d)}),n}var Ih="get",Dh="application/x-www-form-urlencoded";function lf(s){return s!=null&&typeof s.tagName=="string"}function b1(s){return lf(s)&&s.tagName.toLowerCase()==="button"}function S1(s){return lf(s)&&s.tagName.toLowerCase()==="form"}function L1(s){return lf(s)&&s.tagName.toLowerCase()==="input"}function A1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function C1(s,t){return s.button===0&&(!t||t==="_self")&&!A1(s)}var bh=null;function x1(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var R1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(s){return s!=null&&!R1.has(s)?(qr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):s}function M1(s,t){let n,o,a,u,d;if(S1(s)){let g=s.getAttribute("action");o=g?Ls(g,t):null,n=s.getAttribute("method")||Ih,a=cm(s.getAttribute("enctype"))||Dh,u=new FormData(s)}else if(b1(s)||L1(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||g.getAttribute("action");if(o=v?Ls(v,t):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||Ih,a=cm(s.getAttribute("formenctype"))||cm(g.getAttribute("enctype"))||Dh,u=new FormData(g,s),!x1()){let{name:T,type:A,value:M}=s;if(A==="image"){let I=T?`${T}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else T&&u.append(T,M)}}else{if(lf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ih,o=null,a=Dh,d=s}return u&&a==="text/plain"&&(d=u,u=void 0),{action:o,method:n.toLowerCase(),encType:a,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function I1(s,t,n){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${n}`:t&&Ls(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function D1(s,t){if(s.id in t)return t[s.id];try{let n=await import(s.module);return t[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function k1(s,t,n){let o=await Promise.all(s.map(async a=>{let u=t.routes[a.route.id];if(u){let d=await D1(u,n);return d.links?d.links():[]}return[]}));return z1(o.flat(1).filter(P1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tv(s,t,n,o,a,u){let d=(v,T)=>n[T]?v.route.id!==n[T].route.id:!0,g=(v,T)=>n[T].pathname!==v.pathname||n[T].route.path?.endsWith("*")&&n[T].params["*"]!==v.params["*"];return u==="assets"?t.filter((v,T)=>d(v,T)||g(v,T)):u==="data"?t.filter((v,T)=>{let A=o.routes[v.route.id];if(!A||!A.hasLoader)return!1;if(d(v,T)||g(v,T))return!0;if(v.route.shouldRevalidate){let M=v.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function O1(s,t,{includeHydrateFallback:n}={}){return N1(s.map(o=>{let a=t.routes[o.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function N1(s){return[...new Set(s)]}function V1(s){let t={},n=Object.keys(s).sort();for(let o of n)t[o]=s[o];return t}function z1(s,t){let n=new Set;return new Set(t),s.reduce((o,a)=>{let u=JSON.stringify(V1(a));return n.has(u)||(n.add(u),o.push({key:u,link:a})),o},[])}function j0(){let s=K.useContext(Gl);return ap(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function U1(){let s=K.useContext(of);return ap(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var op=K.createContext(void 0);op.displayName="FrameworkContext";function q0(){let s=K.useContext(op);return ap(s,"You must render this element inside a <HydratedRouter> element"),s}function B1(s,t){let n=K.useContext(op),[o,a]=K.useState(!1),[u,d]=K.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:T,onMouseLeave:A,onTouchStart:M}=t,I=K.useRef(null);K.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let tt=ct=>{ct.forEach(wt=>{d(wt.isIntersecting)})},st=new IntersectionObserver(tt,{threshold:.5});return I.current&&st.observe(I.current),()=>{st.disconnect()}}},[s]),K.useEffect(()=>{if(o){let tt=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(tt)}}},[o]);let $=()=>{a(!0)},nt=()=>{a(!1),d(!1)};return n?s!=="intent"?[u,I,{}]:[u,I,{onFocus:qu(g,$),onBlur:qu(v,nt),onMouseEnter:qu(T,$),onMouseLeave:qu(A,nt),onTouchStart:qu(M,$)}]:[!1,I,{}]}function qu(s,t){return n=>{s&&s(n),n.defaultPrevented||t(n)}}function H1({page:s,...t}){let{router:n}=j0(),o=K.useMemo(()=>I0(n.routes,s,n.basename),[n.routes,s,n.basename]);return o?K.createElement(q1,{page:s,matches:o,...t}):null}function j1(s){let{manifest:t,routeModules:n}=q0(),[o,a]=K.useState([]);return K.useEffect(()=>{let u=!1;return k1(s,t,n).then(d=>{u||a(d)}),()=>{u=!0}},[s,t,n]),o}function q1({page:s,matches:t,...n}){let o=ko(),{manifest:a,routeModules:u}=q0(),{basename:d}=j0(),{loaderData:g,matches:v}=U1(),T=K.useMemo(()=>tv(s,t,v,a,o,"data"),[s,t,v,a,o]),A=K.useMemo(()=>tv(s,t,v,a,o,"assets"),[s,t,v,a,o]),M=K.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let nt=new Set,tt=!1;if(t.forEach(ct=>{let wt=a.routes[ct.route.id];!wt||!wt.hasLoader||(!T.some(mt=>mt.route.id===ct.route.id)&&ct.route.id in g&&u[ct.route.id]?.shouldRevalidate||wt.hasClientLoader?tt=!0:nt.add(ct.route.id))}),nt.size===0)return[];let st=I1(s,d,"data");return tt&&nt.size>0&&st.searchParams.set("_routes",t.filter(ct=>nt.has(ct.route.id)).map(ct=>ct.route.id).join(",")),[st.pathname+st.search]},[d,g,o,a,T,t,s,u]),I=K.useMemo(()=>O1(A,a),[A,a]),$=j1(A);return K.createElement(K.Fragment,null,M.map(nt=>K.createElement("link",{key:nt,rel:"prefetch",as:"fetch",href:nt,...n})),I.map(nt=>K.createElement("link",{key:nt,rel:"modulepreload",href:nt,...n})),$.map(({key:nt,link:tt})=>K.createElement("link",{key:nt,...tt})))}function G1(...s){return t=>{s.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.7.0")}catch{}function F1({basename:s,children:t,window:n}){let o=K.useRef();o.current==null&&(o.current=Pb({window:n,v5Compat:!0}));let a=o.current,[u,d]=K.useState({action:a.action,location:a.location}),g=K.useCallback(v=>{K.startTransition(()=>d(v))},[d]);return K.useLayoutEffect(()=>a.listen(g),[a,g]),K.createElement(T1,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:a})}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z0=K.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:a,reloadDocument:u,replace:d,state:g,target:v,to:T,preventScrollReset:A,viewTransition:M,...I},$){let{basename:nt}=K.useContext(Yr),tt=typeof T=="string"&&F0.test(T),st,ct=!1;if(typeof T=="string"&&tt&&(st=T,G0))try{let k=new URL(window.location.href),B=T.startsWith("//")?new URL(k.protocol+T):new URL(T),z=Ls(B.pathname,nt);B.origin===k.origin&&z!=null?T=z+B.search+B.hash:ct=!0}catch{qr(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let wt=a1(T,{relative:a}),[mt,Ht,Rt]=B1(o,I),Zt=Q1(T,{replace:d,state:g,target:v,preventScrollReset:A,relative:a,viewTransition:M});function H(k){t&&t(k),k.defaultPrevented||Zt(k)}let D=K.createElement("a",{...I,...Rt,href:st||wt,onClick:ct||u?t:H,ref:G1($,Ht),target:v,"data-discover":!tt&&n==="render"?"true":void 0});return mt&&!tt?K.createElement(K.Fragment,null,D,K.createElement(H1,{page:wt})):D});Z0.displayName="Link";var Z1=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:a=!1,style:u,to:d,viewTransition:g,children:v,...T},A){let M=cc(d,{relative:T.relative}),I=ko(),$=K.useContext(of),{navigator:nt,basename:tt}=K.useContext(Yr),st=$!=null&&tS(M)&&g===!0,ct=nt.encodeLocation?nt.encodeLocation(M).pathname:M.pathname,wt=I.pathname,mt=$&&$.navigation&&$.navigation.location?$.navigation.location.pathname:null;n||(wt=wt.toLowerCase(),mt=mt?mt.toLowerCase():null,ct=ct.toLowerCase()),mt&&tt&&(mt=Ls(mt,tt)||mt);const Ht=ct!=="/"&&ct.endsWith("/")?ct.length-1:ct.length;let Rt=wt===ct||!a&&wt.startsWith(ct)&&wt.charAt(Ht)==="/",Zt=mt!=null&&(mt===ct||!a&&mt.startsWith(ct)&&mt.charAt(ct.length)==="/"),H={isActive:Rt,isPending:Zt,isTransitioning:st},D=Rt?t:void 0,k;typeof o=="function"?k=o(H):k=[o,Rt?"active":null,Zt?"pending":null,st?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(H):u;return K.createElement(Z0,{...T,"aria-current":D,className:k,ref:A,style:B,to:d,viewTransition:g},typeof v=="function"?v(H):v)});Z1.displayName="NavLink";var Y1=K.forwardRef(({discover:s="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:a,state:u,method:d=Ih,action:g,onSubmit:v,relative:T,preventScrollReset:A,viewTransition:M,...I},$)=>{let nt=W1(),tt=J1(g,{relative:T}),st=d.toLowerCase()==="get"?"get":"post",ct=typeof g=="string"&&F0.test(g),wt=mt=>{if(v&&v(mt),mt.defaultPrevented)return;mt.preventDefault();let Ht=mt.nativeEvent.submitter,Rt=Ht?.getAttribute("formmethod")||d;nt(Ht||mt.currentTarget,{fetcherKey:t,method:Rt,navigate:n,replace:a,state:u,relative:T,preventScrollReset:A,viewTransition:M})};return K.createElement("form",{ref:$,method:st,action:tt,onSubmit:o?v:wt,...I,"data-discover":!ct&&s==="render"?"true":void 0})});Y1.displayName="Form";function K1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(s){let t=K.useContext(Gl);return Be(t,K1(s)),t}function Q1(s,{target:t,replace:n,state:o,preventScrollReset:a,relative:u,viewTransition:d}={}){let g=ip(),v=ko(),T=cc(s,{relative:u});return K.useCallback(A=>{if(C1(A,t)){A.preventDefault();let M=n!==void 0?n:ec(v)===ec(T);g(s,{replace:M,state:o,preventScrollReset:a,relative:u,viewTransition:d})}},[v,g,T,n,o,t,s,a,u,d])}var X1=0,$1=()=>`__${String(++X1)}__`;function W1(){let{router:s}=Y0("useSubmit"),{basename:t}=K.useContext(Yr),n=g1();return K.useCallback(async(o,a={})=>{let{action:u,method:d,encType:g,formData:v,body:T}=M1(o,t);if(a.navigate===!1){let A=a.fetcherKey||$1();await s.fetch(A,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:v,body:T,formMethod:a.method||d,formEncType:a.encType||g,flushSync:a.flushSync})}else await s.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:v,body:T,formMethod:a.method||d,formEncType:a.encType||g,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,n])}function J1(s,{relative:t}={}){let{basename:n}=K.useContext(Yr),o=K.useContext(Rs);Be(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={...cc(s||".",{relative:t})},d=ko();if(s==null){u.search=d.search;let g=new URLSearchParams(u.search),v=g.getAll("index");if(v.some(A=>A==="")){g.delete("index"),v.filter(M=>M).forEach(M=>g.append("index",M));let A=g.toString();u.search=A?`?${A}`:""}}return(!s||s===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ss([n,u.pathname])),ec(u)}function tS(s,t={}){let n=K.useContext(V0);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Y0("useViewTransitionState"),a=cc(s,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Ls(n.currentLocation.pathname,o)||n.currentLocation.pathname,d=Ls(n.nextLocation.pathname,o)||n.nextLocation.pathname;return jh(a.pathname,d)!=null||jh(a.pathname,u)!=null}var eS=M0();const nS=()=>{};var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let a=s.charCodeAt(o);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++o)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},iS=function(s){const t=[];let n=0,o=0;for(;n<s.length;){const a=s[n++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=s[n++];t[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=s[n++],d=s[n++],g=s[n++],v=((a&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const u=s[n++],d=s[n++];t[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<s.length;a+=3){const u=s[a],d=a+1<s.length,g=d?s[a+1]:0,v=a+2<s.length,T=v?s[a+2]:0,A=u>>2,M=(u&3)<<4|g>>4;let I=(g&15)<<2|T>>6,$=T&63;v||($=64,d||(I=64)),o.push(n[A],n[M],n[I],n[$])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(K0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):iS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<s.length;){const u=n[s.charAt(a++)],g=a<s.length?n[s.charAt(a)]:0;++a;const T=a<s.length?n[s.charAt(a)]:64;++a;const M=a<s.length?n[s.charAt(a)]:64;if(++a,u==null||g==null||T==null||M==null)throw new rS;const I=u<<2|g>>4;if(o.push(I),T!==64){const $=g<<4&240|T>>2;if(o.push($),M!==64){const nt=T<<6&192|M;o.push(nt)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(s){const t=K0(s);return Q0.encodeByteArray(t,!0)},qh=function(s){return sS(s).replace(/\./g,"")},X0=function(s){try{return Q0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof ev>"u")return;const s=ev.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},uS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&X0(s[1]);return t&&JSON.parse(t)},uf=()=>{try{return nS()||oS()||lS()||uS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$0=s=>uf()?.emulatorHosts?.[s],cS=s=>{const t=$0(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),o]:[t.substring(0,n),o]},W0=()=>uf()?.config,J0=s=>uf()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=t||"demo-project",a=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qh(JSON.stringify(n)),qh(JSON.stringify(d)),""].join(".")}const Qu={};function dS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Qu))Qu[t]?s.emulator.push(t):s.prod.push(t);return s}function mS(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let nv=!1;function eE(s,t){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||Qu[s]===t||Qu[s]||nv)return;Qu[s]=t;function n(I){return`__firebase__banner__${I}`}const o="__firebase__banner",u=dS().prod.length>0;function d(){const I=document.getElementById(o);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,$){I.setAttribute("width","24"),I.setAttribute("id",$),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function T(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{nv=!0,d()},I}function A(I,$){I.setAttribute("id",$),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function M(){const I=mS(o),$=n("text"),nt=document.getElementById($)||document.createElement("span"),tt=n("learnmore"),st=document.getElementById(tt)||document.createElement("a"),ct=n("preprendIcon"),wt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const mt=I.element;g(mt),A(st,tt);const Ht=T();v(wt,ct),mt.append(wt,nt,st,Ht),document.body.appendChild(mt)}u?(nt.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function _S(){const s=uf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const s=Hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function TS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((s,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(o),s(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="FirebaseError";class Ms extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=SS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},a=`${this.service}/${t}`,u=this.errors[t],d=u?LS(u,o):"Error",g=`${this.serviceName}: ${d} (${a}).`;return new Ms(a,g,o)}}function LS(s,t){return s.replace(AS,(n,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const AS=/\{\$([^}]+)}/g;function CS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Mo(s,t){if(s===t)return!0;const n=Object.keys(s),o=Object.keys(t);for(const a of n){if(!o.includes(a))return!1;const u=s[a],d=t[a];if(iv(u)&&iv(d)){if(!Mo(u,d))return!1}else if(u!==d)return!1}for(const a of o)if(!n.includes(a))return!1;return!0}function iv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(s){const t=[];for(const[n,o]of Object.entries(s))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function xS(s,t){const n=new RS(s,t);return n.subscribe.bind(n)}class RS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,o){let a;if(t===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");MS(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:o},a.next===void 0&&(a.next=hm),a.error===void 0&&(a.error=hm),a.complete===void 0&&(a.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(s){return s&&s._delegate?s._delegate:s}class Io{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new hS;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PS(t))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(t=So){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=So){return this.instances.has(t)}getOptions(t=So){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);o===g&&d.resolve(a)}return a}onInit(t,n){const o=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(o)??new Set;a.add(t),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&t(u,o),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const a of o)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:DS(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=So){return this.component?this.component.multipleInstances?t:So:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(s){return s===So?void 0:s}function PS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new IS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(te||(te={}));const OS={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},NS=te.INFO,VS={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},zS=(s,t,...n)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),a=VS[t];if(a)console[a](`[${o}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lp{constructor(t){this.name=t,this._logLevel=NS,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...t),this._logHandler(this,te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...t),this._logHandler(this,te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,te.INFO,...t),this._logHandler(this,te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,te.WARN,...t),this._logHandler(this,te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...t),this._logHandler(this,te.ERROR,...t)}}const US=(s,t)=>t.some(n=>s instanceof n);let rv,sv;function BS(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HS(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,Cm=new WeakMap,iE=new WeakMap,fm=new WeakMap,up=new WeakMap;function jS(s){const t=new Promise((n,o)=>{const a=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Ia(s.result)),a()},d=()=>{o(s.error),a()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&nE.set(n,s)}).catch(()=>{}),up.set(t,s),t}function qS(s){if(Cm.has(s))return;const t=new Promise((n,o)=>{const a=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),a()},d=()=>{o(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Cm.set(s,t)}let xm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Cm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||iE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function GS(s){xm=s(xm)}function FS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=s.call(dm(this),t,...n);return iE.set(o,t.sort?t.sort():[t]),Ia(o)}:HS().includes(s)?function(...t){return s.apply(dm(this),t),Ia(nE.get(this))}:function(...t){return Ia(s.apply(dm(this),t))}}function ZS(s){return typeof s=="function"?FS(s):(s instanceof IDBTransaction&&qS(s),US(s,BS())?new Proxy(s,xm):s)}function Ia(s){if(s instanceof IDBRequest)return jS(s);if(fm.has(s))return fm.get(s);const t=ZS(s);return t!==s&&(fm.set(s,t),up.set(t,s)),t}const dm=s=>up.get(s);function YS(s,t,{blocked:n,upgrade:o,blocking:a,terminated:u}={}){const d=indexedDB.open(s,t),g=Ia(d);return o&&d.addEventListener("upgradeneeded",v=>{o(Ia(d.result),v.oldVersion,v.newVersion,Ia(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),a&&v.addEventListener("versionchange",T=>a(T.oldVersion,T.newVersion,T))}).catch(()=>{}),g}const KS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],mm=new Map;function av(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,a=QS.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(a||KS.includes(n)))return;const u=async function(d,...g){const v=this.transaction(d,a?"readwrite":"readonly");let T=v.store;return o&&(T=T.index(g.shift())),(await Promise.all([T[n](...g),a&&v.done]))[0]};return mm.set(t,u),u}GS(s=>({...s,get:(t,n,o)=>av(t,n)||s.get(t,n,o),has:(t,n)=>!!av(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($S(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function $S(s){return s.getComponent()?.type==="VERSION"}const Rm="@firebase/app",ov="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new lp("@firebase/app"),WS="@firebase/app-compat",JS="@firebase/analytics-compat",tL="@firebase/analytics",eL="@firebase/app-check-compat",nL="@firebase/app-check",iL="@firebase/auth",rL="@firebase/auth-compat",sL="@firebase/database",aL="@firebase/data-connect",oL="@firebase/database-compat",lL="@firebase/functions",uL="@firebase/functions-compat",cL="@firebase/installations",hL="@firebase/installations-compat",fL="@firebase/messaging",dL="@firebase/messaging-compat",mL="@firebase/performance",pL="@firebase/performance-compat",_L="@firebase/remote-config",gL="@firebase/remote-config-compat",yL="@firebase/storage",vL="@firebase/storage-compat",EL="@firebase/firestore",TL="@firebase/ai",wL="@firebase/firestore-compat",bL="firebase",SL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",LL={[Rm]:"fire-core",[WS]:"fire-core-compat",[tL]:"fire-analytics",[JS]:"fire-analytics-compat",[nL]:"fire-app-check",[eL]:"fire-app-check-compat",[iL]:"fire-auth",[rL]:"fire-auth-compat",[sL]:"fire-rtdb",[aL]:"fire-data-connect",[oL]:"fire-rtdb-compat",[lL]:"fire-fn",[uL]:"fire-fn-compat",[cL]:"fire-iid",[hL]:"fire-iid-compat",[fL]:"fire-fcm",[dL]:"fire-fcm-compat",[mL]:"fire-perf",[pL]:"fire-perf-compat",[_L]:"fire-rc",[gL]:"fire-rc-compat",[yL]:"fire-gcs",[vL]:"fire-gcs-compat",[EL]:"fire-fst",[wL]:"fire-fst-compat",[TL]:"fire-vertex","fire-js":"fire-js",[bL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,AL=new Map,Im=new Map;function lv(s,t){try{s.container.addComponent(t)}catch(n){As.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function kl(s){const t=s.name;if(Im.has(t))return As.debug(`There were multiple attempts to register component ${t}.`),!1;Im.set(t,s);for(const n of Gh.values())lv(n,s);for(const n of AL.values())lv(n,s);return!0}function cp(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function dr(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new hc("app","Firebase",CL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,n,o){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=SL;function rE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const o={name:Mm,automaticDataCollectionEnabled:!0,...t},a=o.name;if(typeof a!="string"||!a)throw Da.create("bad-app-name",{appName:String(a)});if(n||(n=W0()),!n)throw Da.create("no-options");const u=Gh.get(a);if(u){if(Mo(n,u.options)&&Mo(o,u.config))return u;throw Da.create("duplicate-app",{appName:a})}const d=new kS(a);for(const v of Im.values())d.addComponent(v);const g=new xL(n,o,d);return Gh.set(a,g),g}function sE(s=Mm){const t=Gh.get(s);if(!t&&s===Mm&&W0())return rE();if(!t)throw Da.create("no-app",{appName:s});return t}function Pa(s,t,n){let o=LL[s]??s;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${t}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}kl(new Io(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",ML=1,nc="firebase-heartbeat-store";let pm=null;function aE(){return pm||(pm=YS(RL,ML,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Da.create("idb-open",{originalErrorMessage:s.message})})),pm}async function IL(s){try{const n=(await aE()).transaction(nc),o=await n.objectStore(nc).get(oE(s));return await n.done,o}catch(t){if(t instanceof Ms)As.warn(t.message);else{const n=Da.create("idb-get",{originalErrorMessage:t?.message});As.warn(n.message)}}}async function uv(s,t){try{const o=(await aE()).transaction(nc,"readwrite");await o.objectStore(nc).put(t,oE(s)),await o.done}catch(n){if(n instanceof Ms)As.warn(n.message);else{const o=Da.create("idb-set",{originalErrorMessage:n?.message});As.warn(o.message)}}}function oE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=1024,PL=30;class kL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NL(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>PL){const a=VL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){As.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cv(),{heartbeatsToSend:n,unsentEntries:o}=OL(this._heartbeatsCache.heartbeats),a=qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return As.warn(t),""}}}function cv(){return new Date().toISOString().substring(0,10)}function OL(s,t=DL){const n=[];let o=s.slice();for(const a of s){const u=n.find(d=>d.agent===a.agent);if(u){if(u.dates.push(a.date),hv(n)>t){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hv(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class NL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function hv(s){return qh(JSON.stringify({version:2,heartbeats:s})).length}function VL(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let o=1;o<s.length;o++)s[o].date<n&&(n=s[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(s){kl(new Io("platform-logger",t=>new XS(t),"PRIVATE")),kl(new Io("heartbeat",t=>new kL(t),"PRIVATE")),Pa(Rm,ov,s),Pa(Rm,ov,"esm2020"),Pa("fire-js","")}zL("");var UL="firebase",BL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa(UL,BL,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HL=lE,uE=new hc("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new lp("@firebase/auth");function jL(s,...t){Fh.logLevel<=te.WARN&&Fh.warn(`Auth (${Zl}): ${s}`,...t)}function Ph(s,...t){Fh.logLevel<=te.ERROR&&Fh.error(`Auth (${Zl}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(s,...t){throw fp(s,...t)}function pr(s,...t){return fp(s,...t)}function hp(s,t,n){const o={...HL(),[t]:n};return new hc("auth","Firebase",o).create(t,{appName:s.name})}function Co(s){return hp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qL(s,t,n){const o=n;if(!(t instanceof o))throw o.name!==t.constructor.name&&Fr(s,"argument-error"),hp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fp(s,...t){if(typeof s!="string"){const n=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=s.name),s._errorFactory.create(n,...o)}return uE.create(s,...t)}function Ut(s,t,...n){if(!s)throw fp(t,...n)}function ws(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ph(t),new Error(t)}function Cs(s,t){s||ws(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){return typeof self<"u"&&self.location?.href||""}function GL(){return fv()==="http:"||fv()==="https:"}function fv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GL()||yS()||"connection"in navigator)?navigator.onLine:!0}function ZL(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Cs(n>t,"Short delay should be less than long delay!"),this.isMobile=pS()||vS()}get(){return FL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(s,t){Cs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(t,n,o){this.fetchImpl=t,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QL=new dc(3e4,6e4);function mp(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Yl(s,t,n,o,a={}){return hE(s,a,async()=>{let u={},d={};o&&(t==="GET"?d=o:u={body:JSON.stringify(o)});const g=fc({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const T={method:t,headers:v,...u};return gS()||(T.referrerPolicy="no-referrer"),s.emulatorConfig&&Fl(s.emulatorConfig.host)&&(T.credentials="include"),cE.fetch()(await fE(s,s.config.apiHost,n,g),T)})}async function hE(s,t,n){s._canInitEmulator=!1;const o={...YL,...t};try{const a=new $L(s),u=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Sh(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[v,T]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Sh(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Sh(s,"user-disabled",d);const A=o[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw hp(s,A,T);Fr(s,A)}}catch(a){if(a instanceof Ms)throw a;Fr(s,"network-request-failed",{message:String(a)})}}async function XL(s,t,n,o,a={}){const u=await Yl(s,t,n,o,a);return"mfaPendingCredential"in u&&Fr(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function fE(s,t,n,o){const a=`${t}${n}?${o}`,u=s,d=u.config.emulator?dp(s.config,a):`${s.config.apiScheme}://${a}`;return KL.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class $L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(pr(this.auth,"network-request-failed")),QL.get())})}}function Sh(s,t,n){const o={appName:s.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const a=pr(s,t,o);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(s,t){return Yl(s,"POST","/v1/accounts:delete",t)}async function Zh(s,t){return Yl(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JL(s,t=!1){const n=Gr(s),o=await n.getIdToken(t),a=pp(o);Ut(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,d=u?.sign_in_provider;return{claims:a,token:o,authTime:Xu(_m(a.auth_time)),issuedAtTime:Xu(_m(a.iat)),expirationTime:Xu(_m(a.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function _m(s){return Number(s)*1e3}function pp(s){const[t,n,o]=s.split(".");if(t===void 0||n===void 0||o===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const a=X0(n);return a?JSON.parse(a):(Ph("Failed to decode base64 JWT payload"),null)}catch(a){return Ph("Caught error parsing JWT payload as JSON",a?.toString()),null}}function dv(s){const t=pp(s);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(s,t,n=!1){if(n)return t;try{return await t}catch(o){throw o instanceof Ms&&tA(o)&&s.auth.currentUser===s&&await s.auth.signOut(),o}}function tA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(s){const t=s.auth,n=await s.getIdToken(),o=await ic(s,Zh(t,{idToken:n}));Ut(o?.users.length,t,"internal-error");const a=o.users[0];s._notifyReloadListener(a);const u=a.providerUserInfo?.length?dE(a.providerUserInfo):[],d=iA(s.providerData,u),g=s.isAnonymous,v=!(s.email&&a.passwordHash)&&!d?.length,T=g?v:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Pm(a.createdAt,a.lastLoginAt),isAnonymous:T};Object.assign(s,A)}async function nA(s){const t=Gr(s);await Yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iA(s,t){return[...s.filter(o=>!t.some(a=>a.providerId===o.providerId)),...t]}function dE(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(s,t){const n=await hE(s,{},async()=>{const o=fc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:u}=s.config,d=await fE(s,a,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:o};return s.emulatorConfig&&Fl(s.emulatorConfig.host)&&(v.credentials="include"),cE.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sA(s,t){return Yl(s,"POST","/v2/accounts:revokeToken",mp(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=dv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:o,refreshToken:a,expiresIn:u}=await rA(t,n);this.updateTokensAndExpiration(o,a,Number(u))}updateTokensAndExpiration(t,n,o){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,n){const{refreshToken:o,accessToken:a,expirationTime:u}=n,d=new Al;return o&&(Ut(typeof o=="string","internal-error",{appName:t}),d.refreshToken=o),a&&(Ut(typeof a=="string","internal-error",{appName:t}),d.accessToken=a),u&&(Ut(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(s,t){Ut(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class mr{constructor({uid:t,auth:n,stsTokenManager:o,...a}){this.providerId="firebase",this.proactiveRefresh=new eA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await ic(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JL(this,t)}reload(){return nA(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Co(this.auth));const t=await this.getIdToken();return await ic(this,WL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const o=n.displayName??void 0,a=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,v=n._redirectEventId??void 0,T=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:M,emailVerified:I,isAnonymous:$,providerData:nt,stsTokenManager:tt}=n;Ut(M&&tt,t,"internal-error");const st=Al.fromJSON(this.name,tt);Ut(typeof M=="string",t,"internal-error"),La(o,t.name),La(a,t.name),Ut(typeof I=="boolean",t,"internal-error"),Ut(typeof $=="boolean",t,"internal-error"),La(u,t.name),La(d,t.name),La(g,t.name),La(v,t.name),La(T,t.name),La(A,t.name);const ct=new mr({uid:M,auth:t,email:a,emailVerified:I,displayName:o,isAnonymous:$,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:st,createdAt:T,lastLoginAt:A});return nt&&Array.isArray(nt)&&(ct.providerData=nt.map(wt=>({...wt}))),v&&(ct._redirectEventId=v),ct}static async _fromIdTokenResponse(t,n,o=!1){const a=new Al;a.updateFromServerResponse(n);const u=new mr({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:o});return await Yh(u),u}static async _fromGetAccountInfoResponse(t,n,o){const a=n.users[0];Ut(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?dE(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!u?.length,g=new Al;g.updateFromIdToken(o);const v=new mr({uid:a.localId,auth:t,stsTokenManager:g,isAnonymous:d}),T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Pm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(v,T),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function bs(s){Cs(s instanceof Function,"Expected a class definition");let t=mv.get(s);return t?(Cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,mv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}mE.type="NONE";const pv=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(s,t,n){return`firebase:${s}:${t}:${n}`}class Cl{constructor(t,n,o){this.persistence=t,this.auth=n,this.userKey=o;const{config:a,name:u}=this.auth;this.fullUserKey=kh(this.userKey,a.apiKey,u),this.fullPersistenceKey=kh("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zh(this.auth,{idToken:t}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,t):null}return mr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,o="authUser"){if(!n.length)return new Cl(bs(pv),t,o);const a=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let u=a[0]||bs(pv);const d=kh(o,t.config.apiKey,t.name);let g=null;for(const T of n)try{const A=await T._get(d);if(A){let M;if(typeof A=="string"){const I=await Zh(t,{idToken:A}).catch(()=>{});if(!I)break;M=await mr._fromGetAccountInfoResponse(t,I,A)}else M=mr._fromJSON(t,A);T!==u&&(g=M),u=T;break}}catch{}const v=a.filter(T=>T._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Cl(u,t,o):(u=v[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async T=>{if(T!==u)try{await T._remove(d)}catch{}})),new Cl(u,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EE(t))return"Blackberry";if(TE(t))return"Webos";if(_E(t))return"Safari";if((t.includes("chrome/")||gE(t))&&!t.includes("edge/"))return"Chrome";if(vE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=s.match(n);if(o?.length===2)return o[1]}return"Other"}function pE(s=Hn()){return/firefox\//i.test(s)}function _E(s=Hn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gE(s=Hn()){return/crios\//i.test(s)}function yE(s=Hn()){return/iemobile/i.test(s)}function vE(s=Hn()){return/android/i.test(s)}function EE(s=Hn()){return/blackberry/i.test(s)}function TE(s=Hn()){return/webos/i.test(s)}function _p(s=Hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aA(s=Hn()){return _p(s)&&!!window.navigator?.standalone}function oA(){return ES()&&document.documentMode===10}function wE(s=Hn()){return _p(s)||vE(s)||TE(s)||EE(s)||/windows phone/i.test(s)||yE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,t=[]){let n;switch(s){case"Browser":n=_v(Hn());break;case"Worker":n=`${_v(Hn())}-${s}`;break;default:n=s}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const o=u=>new Promise((d,g)=>{try{const v=t(u);d(v)}catch(v){g(v)}});o.onAbort=n,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const o of this.queue)await o(t),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(s,t={}){return Yl(s,"GET","/v2/passwordPolicy",mp(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=6;class hA{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const o=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=t.length>=o),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let a=0;a<t.length;a++)o=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,n,o,a,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,n,o,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new lA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zh(this,{idToken:t}),o=await mr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(o=g.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Yh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(dr(this.app))return Promise.reject(Co(this));const n=t?Gr(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return dr(this.app)?Promise.reject(Co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uA(this),n=new hA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hc("auth","Firebase",t())}onAuthStateChanged(t,n,o){return this.registerStateListener(this.authStateSubscription,t,n,o)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,o){return this.registerStateListener(this.idTokenSubscription,t,n,o)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await sA(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const o=await this.getOrInitRedirectPersistenceManager(n);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&bs(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,o,a){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,o,a);return()=>{d=!0,v()}}else{const v=t.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cf(s){return Gr(s)}class gv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xS(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dA(s){gp=s}function mA(s){return gp.loadJS(s)}function pA(){return gp.gapiScript}function _A(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(s,t){const n=cp(s,"auth");if(n.isInitialized()){const a=n.getImmediate(),u=n.getOptions();if(Mo(u,t??{}))return a;Fr(a,"already-initialized")}return n.initialize({options:t})}function yA(s,t){const n=t?.persistence||[],o=(Array.isArray(n)?n:[n]).map(bs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(o,t?.popupRedirectResolver)}function vA(s,t,n){const o=cf(s);Ut(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const a=!1,u=SE(t),{host:d,port:g}=EA(t),v=g===null?"":`:${g}`,T={url:`${u}//${d}${v}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!o._canInitEmulator){Ut(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),Ut(Mo(T,o.config.emulator)&&Mo(A,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=T,o.emulatorConfig=A,o.settings.appVerificationDisabledForTesting=!0,Fl(d)?(tE(`${u}//${d}${v}`),eE("Auth",!0)):TA()}function SE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function EA(s){const t=SE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const u=a[1];return{host:u,port:yv(o.substr(u.length+1))}}else{const[u,d]=o.split(":");return{host:u,port:yv(d)}}}function yv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function TA(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(t){return ws("not implemented")}_linkToIdToken(t,n){return ws("not implemented")}_getReauthenticationResolver(t){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(s,t){return XL(s,"POST","/v1/accounts:signInWithIdp",mp(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="http://localhost";class Do extends LE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Do(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:a,...u}=n;if(!o||!a)return null;const d=new Do(o,a);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return xl(t,n)}_linkToIdToken(t,n){const o=this.buildRequest();return o.idToken=n,xl(t,o)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xl(t,n)}buildRequest(){const t={requestUri:wA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=fc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends mc{constructor(){super("facebook.com")}static credential(t){return Do._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Aa.credentialFromTaggedObject(t)}static credentialFromError(t){return Aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Aa.credential(t.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Do._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return Ts.credential(n,o)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends mc{constructor(){super("github.com")}static credential(t){return Do._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ca.credentialFromTaggedObject(t)}static credentialFromError(t){return Ca.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ca.credential(t.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends mc{constructor(){super("twitter.com")}static credential(t,n){return Do._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xa.credentialFromTaggedObject(t)}static credentialFromError(t){return xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return xa.credential(n,o)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,o,a=!1){const u=await mr._fromIdTokenResponse(t,o,a),d=vv(o);return new Ol({user:u,providerId:d,_tokenResponse:o,operationType:n})}static async _forOperation(t,n,o){await t._updateTokensIfNecessary(o,!0);const a=vv(o);return new Ol({user:t,providerId:a,_tokenResponse:o,operationType:n})}}function vv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Ms{constructor(t,n,o,a){super(n.code,n.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,n,o,a){return new Kh(t,n,o,a)}}function AE(s,t,n,o){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(s,u,t,o):u})}async function bA(s,t,n=!1){const o=await ic(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Ol._forOperation(s,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(s,t,n=!1){const{auth:o}=s;if(dr(o.app))return Promise.reject(Co(o));const a="reauthenticate";try{const u=await ic(s,AE(o,a,t,s),n);Ut(u.idToken,o,"internal-error");const d=pp(u.idToken);Ut(d,o,"internal-error");const{sub:g}=d;return Ut(s.uid===g,o,"user-mismatch"),Ol._forOperation(s,a,u)}catch(u){throw u?.code==="auth/user-not-found"&&Fr(o,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(s,t,n=!1){if(dr(s.app))return Promise.reject(Co(s));const o="signIn",a=await AE(s,o,t),u=await Ol._fromIdTokenResponse(s,o,a);return n||await s._updateCurrentUser(u.user),u}function AA(s,t,n,o){return Gr(s).onIdTokenChanged(t,n,o)}function CA(s,t,n){return Gr(s).beforeAuthStateChanged(t,n)}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1e3,RA=10;class xE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),a=this.localCache[n];o!==a&&t(n,a,o)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const o=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(o);!n&&this.localCache[o]===d||this.notifyListeners(o,d)},u=this.storage.getItem(o);oA()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,RA):a()}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const a of Array.from(o))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:o}),!0)})},xA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}xE.type="LOCAL";const MA=xE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RE.type="SESSION";const ME=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const o=new hf(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:o,eventType:a,data:u}=n.data,d=this.handlersMap[a];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const g=Array.from(d).map(async T=>T(n.origin,u)),v=await IA(g);n.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(s="",t=10){let n="";for(let o=0;o<t;o++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,d;return new Promise((g,v)=>{const T=vp("",20);a.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},o);d={messageChannel:a,onMessage(M){const I=M;if(I.data.eventId===T)switch(I.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(I.data.response);break;default:clearTimeout(A),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:T,data:n},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function PA(s){Ur().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function kA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OA(){return navigator?.serviceWorker?.controller||null}function NA(){return IE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebaseLocalStorageDb",VA=1,Xh="firebaseLocalStorage",PE="fbase_key";class pc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(s,t){return s.transaction([Xh],t?"readwrite":"readonly").objectStore(Xh)}function zA(){const s=indexedDB.deleteDatabase(DE);return new pc(s).toPromise()}function km(){const s=indexedDB.open(DE,VA);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const o=s.result;try{o.createObjectStore(Xh,{keyPath:PE})}catch(a){n(a)}}),s.addEventListener("success",async()=>{const o=s.result;o.objectStoreNames.contains(Xh)?t(o):(o.close(),await zA(),t(await km()))})})}async function Ev(s,t,n){const o=ff(s,!0).put({[PE]:t,value:n});return new pc(o).toPromise()}async function UA(s,t){const n=ff(s,!1).get(t),o=await new pc(n).toPromise();return o===void 0?null:o.value}function Tv(s,t){const n=ff(s,!0).delete(t);return new pc(n).toPromise()}const BA=800,HA=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(t){let n=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(n++>HA)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(NA()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kA(),!this.activeServiceWorker)return;this.sender=new DA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||OA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await km();return await Ev(t,Qh,"1"),await Tv(t,Qh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>Ev(o,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(o=>UA(o,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const u=ff(a,!1).getAll();return new pc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(t.length!==0)for(const{fbase_key:a,value:u}of t)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const a of Array.from(o))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const jA=kE;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(s,t){return t?bs(t):(Ut(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends LE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qA(s){return LA(s.auth,new Ep(s),s.bypassAuthState)}function GA(s){const{auth:t,user:n}=s;return Ut(n,t,"internal-error"),SA(n,new Ep(s),s.bypassAuthState)}async function FA(s){const{auth:t,user:n}=s;return Ut(n,t,"internal-error"),bA(n,new Ep(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,n,o,a,u=!1){this.auth=t,this.resolver=o,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:o,postBody:a,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:o,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qA;case"linkViaPopup":case"linkViaRedirect":return FA;case"reauthViaPopup":case"reauthViaRedirect":return GA;default:Fr(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new dc(2e3,1e4);async function YA(s,t,n){if(dr(s.app))return Promise.reject(pr(s,"operation-not-supported-in-this-environment"));const o=cf(s);qL(s,t,yp);const a=OE(o,n);return new Lo(o,"signInViaPopup",t,a).executeNotNull()}class Lo extends NE{constructor(t,n,o,a,u){super(t,n,a,u),this.provider=o,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZA.get())};t()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="pendingRedirect",Oh=new Map;class QA extends NE{constructor(t,n,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let t=Oh.get(this.auth._key());if(!t){try{const o=await XA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(n){t=()=>Promise.reject(n)}Oh.set(this.auth._key(),t)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XA(s,t){const n=JA(t),o=WA(s);if(!await o._isAvailable())return!1;const a=await o._get(n)==="true";return await o._remove(n),a}function $A(s,t){Oh.set(s._key(),t)}function WA(s){return bs(s._redirectPersistence)}function JA(s){return kh(KA,s.config.apiKey,s.name)}async function tC(s,t,n=!1){if(dr(s.app))return Promise.reject(Co(s));const o=cf(s),a=OE(o,t),d=await new QA(o,a,n).execute();return d&&!n&&(delete d.user._redirectEventId,await o._persistUserIfCurrent(d.user),await o._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=600*1e3;class nC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(n=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!VE(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";n.onError(pr(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const o=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eC&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(t))}saveEventToCache(t){this.cachedEventUids.add(wv(t)),this.lastProcessedEventTime=Date.now()}}function wv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function VE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function iC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(s,t={}){return Yl(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function oC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await rC(s);for(const n of t)try{if(lC(n))return}catch{}Fr(s,"unauthorized-domain")}function lC(s){const t=Dm(),{protocol:n,hostname:o}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&o===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===o}if(!aC.test(n))return!1;if(sC.test(s))return o===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new dc(3e4,6e4);function bv(){const s=Ur().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function cC(s){return new Promise((t,n)=>{function o(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),n(pr(s,"network-request-failed"))},timeout:uC.get()})}if(Ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ur().gapi?.load)o();else{const a=_A("iframefcb");return Ur()[a]=()=>{gapi.load?o():n(pr(s,"network-request-failed"))},mA(`${pA()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw Nh=null,t})}let Nh=null;function hC(s){return Nh=Nh||cC(s),Nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new dc(5e3,15e3),dC="__/auth/iframe",mC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gC(s){const t=s.config;Ut(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?dp(t,mC):`https://${s.config.authDomain}/${dC}`,o={apiKey:t.apiKey,appName:s.name,v:Zl},a=_C.get(s.config.apiHost);a&&(o.eid=a);const u=s._getFrameworks();return u.length&&(o.fw=u.join(",")),`${n}?${fc(o).slice(1)}`}async function yC(s){const t=await hC(s),n=Ur().gapi;return Ut(n,s,"internal-error"),t.open({where:document.body,url:gC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},o=>new Promise(async(a,u)=>{await o.restyle({setHideOnLeave:!1});const d=pr(s,"network-request-failed"),g=Ur().setTimeout(()=>{u(d)},fC.get());function v(){Ur().clearTimeout(g),a(o)}o.ping(v).then(v,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,TC=600,wC="_blank",bC="http://localhost";class Sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SC(s,t,n,o=EC,a=TC){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const v={...vC,width:o.toString(),height:a.toString(),top:u,left:d},T=Hn().toLowerCase();n&&(g=gE(T)?wC:n),pE(T)&&(t=t||bC,v.scrollbars="yes");const A=Object.entries(v).reduce((I,[$,nt])=>`${I}${$}=${nt},`,"");if(aA(T)&&g!=="_self")return LC(t||"",g),new Sv(null);const M=window.open(t||"",g,A);Ut(M,s,"popup-blocked");try{M.focus()}catch{}return new Sv(M)}function LC(s,t){const n=document.createElement("a");n.href=s,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="__/auth/handler",CC="emulator/auth/handler",xC=encodeURIComponent("fac");async function Lv(s,t,n,o,a,u){Ut(s.config.authDomain,s,"auth-domain-config-required"),Ut(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:o,v:Zl,eventId:a};if(t instanceof yp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",CS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,M]of Object.entries({}))d[A]=M}if(t instanceof mc){const A=t.getScopes().filter(M=>M!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await s._getAppCheckToken(),T=v?`#${xC}=${encodeURIComponent(v)}`:"";return`${RC(s)}?${fc(g).slice(1)}${T}`}function RC({config:s}){return s.emulator?dp(s,CC):`https://${s.authDomain}/${AC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class MC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=tC,this._overrideRedirectResult=$A}async _openPopup(t,n,o,a){Cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Lv(t,n,o,Dm(),a);return SC(t,u,vp())}async _openRedirect(t,n,o,a){await this._originValidation(t);const u=await Lv(t,n,o,Dm(),a);return PA(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:u}=this.eventManagers[n];return a?Promise.resolve(a):(Cs(u,"If manager is not set, promise should be"),u)}const o=this.initAndGetManager(t);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(t){const n=await yC(t),o=new nC(t);return n.register("authEvent",a=>(Ut(a?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=n,o}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gm,{type:gm},a=>{const u=a?.[0]?.[gm];u!==void 0&&n(!!u),Fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wE()||_E()||_p()}}const IC=MC;var Av="@firebase/auth",Cv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(s){kl(new Io("auth",(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=o.options;Ut(d&&!d.includes(":"),"invalid-api-key",{appName:o.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},T=new fA(o,a,u,v);return yA(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,o)=>{t.getProvider("auth-internal").initialize()})),kl(new Io("auth-internal",t=>{const n=cf(t.getProvider("auth").getImmediate());return(o=>new DC(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pa(Av,Cv,PC(s)),Pa(Av,Cv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=300,NC=J0("authIdTokenMaxAge")||OC;let xv=null;const VC=s=>async t=>{const n=t&&await t.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>NC)return;const a=n?.token;xv!==a&&(xv=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zC(s=sE()){const t=cp(s,"auth");if(t.isInitialized())return t.getImmediate();const n=gA(s,{popupRedirectResolver:IC,persistence:[jA,MA,ME]}),o=J0("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(o,location.origin);if(location.origin===u.origin){const d=VC(u.toString());CA(n,d,()=>d(n.currentUser)),AA(n,g=>d(g))}}const a=$0("auth");return a&&vA(n,`http://${a}`),n}function UC(){return document.getElementsByTagName("head")?.[0]??document}dA({loadJS(s){return new Promise((t,n)=>{const o=document.createElement("script");o.setAttribute("src",s),o.onload=t,o.onerror=a=>{const u=pr("internal-error");u.customData=a,n(u)},o.type="text/javascript",o.charset="UTF-8",UC().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,zE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(H,D){function k(){}k.prototype=D.prototype,H.D=D.prototype,H.prototype=new k,H.prototype.constructor=H,H.C=function(B,z,j){for(var V=Array(arguments.length-2),we=2;we<arguments.length;we++)V[we-2]=arguments[we];return D.prototype[z].apply(B,V)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(H,D,k){k||(k=0);var B=Array(16);if(typeof D=="string")for(var z=0;16>z;++z)B[z]=D.charCodeAt(k++)|D.charCodeAt(k++)<<8|D.charCodeAt(k++)<<16|D.charCodeAt(k++)<<24;else for(z=0;16>z;++z)B[z]=D[k++]|D[k++]<<8|D[k++]<<16|D[k++]<<24;D=H.g[0],k=H.g[1],z=H.g[2];var j=H.g[3],V=D+(j^k&(z^j))+B[0]+3614090360&4294967295;D=k+(V<<7&4294967295|V>>>25),V=j+(z^D&(k^z))+B[1]+3905402710&4294967295,j=D+(V<<12&4294967295|V>>>20),V=z+(k^j&(D^k))+B[2]+606105819&4294967295,z=j+(V<<17&4294967295|V>>>15),V=k+(D^z&(j^D))+B[3]+3250441966&4294967295,k=z+(V<<22&4294967295|V>>>10),V=D+(j^k&(z^j))+B[4]+4118548399&4294967295,D=k+(V<<7&4294967295|V>>>25),V=j+(z^D&(k^z))+B[5]+1200080426&4294967295,j=D+(V<<12&4294967295|V>>>20),V=z+(k^j&(D^k))+B[6]+2821735955&4294967295,z=j+(V<<17&4294967295|V>>>15),V=k+(D^z&(j^D))+B[7]+4249261313&4294967295,k=z+(V<<22&4294967295|V>>>10),V=D+(j^k&(z^j))+B[8]+1770035416&4294967295,D=k+(V<<7&4294967295|V>>>25),V=j+(z^D&(k^z))+B[9]+2336552879&4294967295,j=D+(V<<12&4294967295|V>>>20),V=z+(k^j&(D^k))+B[10]+4294925233&4294967295,z=j+(V<<17&4294967295|V>>>15),V=k+(D^z&(j^D))+B[11]+2304563134&4294967295,k=z+(V<<22&4294967295|V>>>10),V=D+(j^k&(z^j))+B[12]+1804603682&4294967295,D=k+(V<<7&4294967295|V>>>25),V=j+(z^D&(k^z))+B[13]+4254626195&4294967295,j=D+(V<<12&4294967295|V>>>20),V=z+(k^j&(D^k))+B[14]+2792965006&4294967295,z=j+(V<<17&4294967295|V>>>15),V=k+(D^z&(j^D))+B[15]+1236535329&4294967295,k=z+(V<<22&4294967295|V>>>10),V=D+(z^j&(k^z))+B[1]+4129170786&4294967295,D=k+(V<<5&4294967295|V>>>27),V=j+(k^z&(D^k))+B[6]+3225465664&4294967295,j=D+(V<<9&4294967295|V>>>23),V=z+(D^k&(j^D))+B[11]+643717713&4294967295,z=j+(V<<14&4294967295|V>>>18),V=k+(j^D&(z^j))+B[0]+3921069994&4294967295,k=z+(V<<20&4294967295|V>>>12),V=D+(z^j&(k^z))+B[5]+3593408605&4294967295,D=k+(V<<5&4294967295|V>>>27),V=j+(k^z&(D^k))+B[10]+38016083&4294967295,j=D+(V<<9&4294967295|V>>>23),V=z+(D^k&(j^D))+B[15]+3634488961&4294967295,z=j+(V<<14&4294967295|V>>>18),V=k+(j^D&(z^j))+B[4]+3889429448&4294967295,k=z+(V<<20&4294967295|V>>>12),V=D+(z^j&(k^z))+B[9]+568446438&4294967295,D=k+(V<<5&4294967295|V>>>27),V=j+(k^z&(D^k))+B[14]+3275163606&4294967295,j=D+(V<<9&4294967295|V>>>23),V=z+(D^k&(j^D))+B[3]+4107603335&4294967295,z=j+(V<<14&4294967295|V>>>18),V=k+(j^D&(z^j))+B[8]+1163531501&4294967295,k=z+(V<<20&4294967295|V>>>12),V=D+(z^j&(k^z))+B[13]+2850285829&4294967295,D=k+(V<<5&4294967295|V>>>27),V=j+(k^z&(D^k))+B[2]+4243563512&4294967295,j=D+(V<<9&4294967295|V>>>23),V=z+(D^k&(j^D))+B[7]+1735328473&4294967295,z=j+(V<<14&4294967295|V>>>18),V=k+(j^D&(z^j))+B[12]+2368359562&4294967295,k=z+(V<<20&4294967295|V>>>12),V=D+(k^z^j)+B[5]+4294588738&4294967295,D=k+(V<<4&4294967295|V>>>28),V=j+(D^k^z)+B[8]+2272392833&4294967295,j=D+(V<<11&4294967295|V>>>21),V=z+(j^D^k)+B[11]+1839030562&4294967295,z=j+(V<<16&4294967295|V>>>16),V=k+(z^j^D)+B[14]+4259657740&4294967295,k=z+(V<<23&4294967295|V>>>9),V=D+(k^z^j)+B[1]+2763975236&4294967295,D=k+(V<<4&4294967295|V>>>28),V=j+(D^k^z)+B[4]+1272893353&4294967295,j=D+(V<<11&4294967295|V>>>21),V=z+(j^D^k)+B[7]+4139469664&4294967295,z=j+(V<<16&4294967295|V>>>16),V=k+(z^j^D)+B[10]+3200236656&4294967295,k=z+(V<<23&4294967295|V>>>9),V=D+(k^z^j)+B[13]+681279174&4294967295,D=k+(V<<4&4294967295|V>>>28),V=j+(D^k^z)+B[0]+3936430074&4294967295,j=D+(V<<11&4294967295|V>>>21),V=z+(j^D^k)+B[3]+3572445317&4294967295,z=j+(V<<16&4294967295|V>>>16),V=k+(z^j^D)+B[6]+76029189&4294967295,k=z+(V<<23&4294967295|V>>>9),V=D+(k^z^j)+B[9]+3654602809&4294967295,D=k+(V<<4&4294967295|V>>>28),V=j+(D^k^z)+B[12]+3873151461&4294967295,j=D+(V<<11&4294967295|V>>>21),V=z+(j^D^k)+B[15]+530742520&4294967295,z=j+(V<<16&4294967295|V>>>16),V=k+(z^j^D)+B[2]+3299628645&4294967295,k=z+(V<<23&4294967295|V>>>9),V=D+(z^(k|~j))+B[0]+4096336452&4294967295,D=k+(V<<6&4294967295|V>>>26),V=j+(k^(D|~z))+B[7]+1126891415&4294967295,j=D+(V<<10&4294967295|V>>>22),V=z+(D^(j|~k))+B[14]+2878612391&4294967295,z=j+(V<<15&4294967295|V>>>17),V=k+(j^(z|~D))+B[5]+4237533241&4294967295,k=z+(V<<21&4294967295|V>>>11),V=D+(z^(k|~j))+B[12]+1700485571&4294967295,D=k+(V<<6&4294967295|V>>>26),V=j+(k^(D|~z))+B[3]+2399980690&4294967295,j=D+(V<<10&4294967295|V>>>22),V=z+(D^(j|~k))+B[10]+4293915773&4294967295,z=j+(V<<15&4294967295|V>>>17),V=k+(j^(z|~D))+B[1]+2240044497&4294967295,k=z+(V<<21&4294967295|V>>>11),V=D+(z^(k|~j))+B[8]+1873313359&4294967295,D=k+(V<<6&4294967295|V>>>26),V=j+(k^(D|~z))+B[15]+4264355552&4294967295,j=D+(V<<10&4294967295|V>>>22),V=z+(D^(j|~k))+B[6]+2734768916&4294967295,z=j+(V<<15&4294967295|V>>>17),V=k+(j^(z|~D))+B[13]+1309151649&4294967295,k=z+(V<<21&4294967295|V>>>11),V=D+(z^(k|~j))+B[4]+4149444226&4294967295,D=k+(V<<6&4294967295|V>>>26),V=j+(k^(D|~z))+B[11]+3174756917&4294967295,j=D+(V<<10&4294967295|V>>>22),V=z+(D^(j|~k))+B[2]+718787259&4294967295,z=j+(V<<15&4294967295|V>>>17),V=k+(j^(z|~D))+B[9]+3951481745&4294967295,H.g[0]=H.g[0]+D&4294967295,H.g[1]=H.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,H.g[2]=H.g[2]+z&4294967295,H.g[3]=H.g[3]+j&4294967295}o.prototype.u=function(H,D){D===void 0&&(D=H.length);for(var k=D-this.blockSize,B=this.B,z=this.h,j=0;j<D;){if(z==0)for(;j<=k;)a(this,H,j),j+=this.blockSize;if(typeof H=="string"){for(;j<D;)if(B[z++]=H.charCodeAt(j++),z==this.blockSize){a(this,B),z=0;break}}else for(;j<D;)if(B[z++]=H[j++],z==this.blockSize){a(this,B),z=0;break}}this.h=z,this.o+=D},o.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var D=1;D<H.length-8;++D)H[D]=0;var k=8*this.o;for(D=H.length-8;D<H.length;++D)H[D]=k&255,k/=256;for(this.u(H),H=Array(16),D=k=0;4>D;++D)for(var B=0;32>B;B+=8)H[k++]=this.g[D]>>>B&255;return H};function u(H,D){var k=g;return Object.prototype.hasOwnProperty.call(k,H)?k[H]:k[H]=D(H)}function d(H,D){this.h=D;for(var k=[],B=!0,z=H.length-1;0<=z;z--){var j=H[z]|0;B&&j==D||(k[z]=j,B=!1)}this.g=k}var g={};function v(H){return-128<=H&&128>H?u(H,function(D){return new d([D|0],0>D?-1:0)}):new d([H|0],0>H?-1:0)}function T(H){if(isNaN(H)||!isFinite(H))return M;if(0>H)return st(T(-H));for(var D=[],k=1,B=0;H>=k;B++)D[B]=H/k|0,k*=4294967296;return new d(D,0)}function A(H,D){if(H.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(H.charAt(0)=="-")return st(A(H.substring(1),D));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=T(Math.pow(D,8)),B=M,z=0;z<H.length;z+=8){var j=Math.min(8,H.length-z),V=parseInt(H.substring(z,z+j),D);8>j?(j=T(Math.pow(D,j)),B=B.j(j).add(T(V))):(B=B.j(k),B=B.add(T(V)))}return B}var M=v(0),I=v(1),$=v(16777216);s=d.prototype,s.m=function(){if(tt(this))return-st(this).m();for(var H=0,D=1,k=0;k<this.g.length;k++){var B=this.i(k);H+=(0<=B?B:4294967296+B)*D,D*=4294967296}return H},s.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(nt(this))return"0";if(tt(this))return"-"+st(this).toString(H);for(var D=T(Math.pow(H,6)),k=this,B="";;){var z=Ht(k,D).g;k=ct(k,z.j(D));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(H);if(k=z,nt(k))return j+B;for(;6>j.length;)j="0"+j;B=j+B}},s.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function nt(H){if(H.h!=0)return!1;for(var D=0;D<H.g.length;D++)if(H.g[D]!=0)return!1;return!0}function tt(H){return H.h==-1}s.l=function(H){return H=ct(this,H),tt(H)?-1:nt(H)?0:1};function st(H){for(var D=H.g.length,k=[],B=0;B<D;B++)k[B]=~H.g[B];return new d(k,~H.h).add(I)}s.abs=function(){return tt(this)?st(this):this},s.add=function(H){for(var D=Math.max(this.g.length,H.g.length),k=[],B=0,z=0;z<=D;z++){var j=B+(this.i(z)&65535)+(H.i(z)&65535),V=(j>>>16)+(this.i(z)>>>16)+(H.i(z)>>>16);B=V>>>16,j&=65535,V&=65535,k[z]=V<<16|j}return new d(k,k[k.length-1]&-2147483648?-1:0)};function ct(H,D){return H.add(st(D))}s.j=function(H){if(nt(this)||nt(H))return M;if(tt(this))return tt(H)?st(this).j(st(H)):st(st(this).j(H));if(tt(H))return st(this.j(st(H)));if(0>this.l($)&&0>H.l($))return T(this.m()*H.m());for(var D=this.g.length+H.g.length,k=[],B=0;B<2*D;B++)k[B]=0;for(B=0;B<this.g.length;B++)for(var z=0;z<H.g.length;z++){var j=this.i(B)>>>16,V=this.i(B)&65535,we=H.i(z)>>>16,De=H.i(z)&65535;k[2*B+2*z]+=V*De,wt(k,2*B+2*z),k[2*B+2*z+1]+=j*De,wt(k,2*B+2*z+1),k[2*B+2*z+1]+=V*we,wt(k,2*B+2*z+1),k[2*B+2*z+2]+=j*we,wt(k,2*B+2*z+2)}for(B=0;B<D;B++)k[B]=k[2*B+1]<<16|k[2*B];for(B=D;B<2*D;B++)k[B]=0;return new d(k,0)};function wt(H,D){for(;(H[D]&65535)!=H[D];)H[D+1]+=H[D]>>>16,H[D]&=65535,D++}function mt(H,D){this.g=H,this.h=D}function Ht(H,D){if(nt(D))throw Error("division by zero");if(nt(H))return new mt(M,M);if(tt(H))return D=Ht(st(H),D),new mt(st(D.g),st(D.h));if(tt(D))return D=Ht(H,st(D)),new mt(st(D.g),D.h);if(30<H.g.length){if(tt(H)||tt(D))throw Error("slowDivide_ only works with positive integers.");for(var k=I,B=D;0>=B.l(H);)k=Rt(k),B=Rt(B);var z=Zt(k,1),j=Zt(B,1);for(B=Zt(B,2),k=Zt(k,2);!nt(B);){var V=j.add(B);0>=V.l(H)&&(z=z.add(k),j=V),B=Zt(B,1),k=Zt(k,1)}return D=ct(H,z.j(D)),new mt(z,D)}for(z=M;0<=H.l(D);){for(k=Math.max(1,Math.floor(H.m()/D.m())),B=Math.ceil(Math.log(k)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),j=T(k),V=j.j(D);tt(V)||0<V.l(H);)k-=B,j=T(k),V=j.j(D);nt(j)&&(j=I),z=z.add(j),H=ct(H,V)}return new mt(z,H)}s.A=function(H){return Ht(this,H).h},s.and=function(H){for(var D=Math.max(this.g.length,H.g.length),k=[],B=0;B<D;B++)k[B]=this.i(B)&H.i(B);return new d(k,this.h&H.h)},s.or=function(H){for(var D=Math.max(this.g.length,H.g.length),k=[],B=0;B<D;B++)k[B]=this.i(B)|H.i(B);return new d(k,this.h|H.h)},s.xor=function(H){for(var D=Math.max(this.g.length,H.g.length),k=[],B=0;B<D;B++)k[B]=this.i(B)^H.i(B);return new d(k,this.h^H.h)};function Rt(H){for(var D=H.g.length+1,k=[],B=0;B<D;B++)k[B]=H.i(B)<<1|H.i(B-1)>>>31;return new d(k,H.h)}function Zt(H,D){var k=D>>5;D%=32;for(var B=H.g.length-k,z=[],j=0;j<B;j++)z[j]=0<D?H.i(j+k)>>>D|H.i(j+k+1)<<32-D:H.i(j+k);return new d(z,H.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,zE=o,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=T,d.fromString=A,ka=d}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UE,Fu,BE,Vh,Om,HE,jE,qE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,b){return f==Array.prototype||f==Object.prototype||(f[E]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var o=n(this);function a(f,E){if(E)t:{var b=o;f=f.split(".");for(var R=0;R<f.length-1;R++){var G=f[R];if(!(G in b))break t;b=b[G]}f=f[f.length-1],R=b[f],E=E(R),E!=R&&E!=null&&t(b,f,{configurable:!0,writable:!0,value:E})}}function u(f,E){f instanceof String&&(f+="");var b=0,R=!1,G={next:function(){if(!R&&b<f.length){var J=b++;return{value:E(J,f[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(f){return f||function(){return u(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function T(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function A(f,E,b){return f.call.apply(f.bind,arguments)}function M(f,E,b){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),f.apply(E,G)}}return function(){return f.apply(E,arguments)}}function I(f,E,b){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,I.apply(null,arguments)}function $(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function nt(f,E){function b(){}b.prototype=E.prototype,f.aa=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(R,G,J){for(var gt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)gt[Wt-2]=arguments[Wt];return E.prototype[G].apply(R,gt)}}function tt(f){const E=f.length;if(0<E){const b=Array(E);for(let R=0;R<E;R++)b[R]=f[R];return b}return[]}function st(f,E){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(v(R)){const G=f.length||0,J=R.length||0;f.length=G+J;for(let gt=0;gt<J;gt++)f[G+gt]=R[gt]}else f.push(R)}}class ct{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function wt(f){return/^[\s\xa0]*$/.test(f)}function mt(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function Ht(f){return Ht[" "](f),f}Ht[" "]=function(){};var Rt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function Zt(f,E,b){for(const R in f)E.call(b,f[R],R,f)}function H(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function D(f){const E={};for(const b in f)E[b]=f[b];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)f[b]=R[b];for(let J=0;J<k.length;J++)b=k[J],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function z(f){var E=1;f=f.split(":");const b=[];for(;0<E&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function j(f){g.setTimeout(()=>{throw f},0)}function V(){var f=ie;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class we{constructor(){this.h=this.g=null}add(E,b){const R=De.get();R.set(E,b),this.h?this.h.next=R:this.g=R,this.h=R}}var De=new ct(()=>new et,f=>f.reset());class et{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,ie=new we,P=()=>{const f=g.Promise.resolve(void 0);yt=()=>{f.then(it)}};var it=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(b){j(b)}var E=De;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}dt=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var Et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};g.addEventListener("test",b,E),g.removeEventListener("test",b,E)}catch{}return f}();function bt(f,E){if(ft.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(Rt){t:{try{Ht(E.nodeName);var G=!0;break t}catch{}G=!1}G||(E=null)}}else b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement);this.relatedTarget=E,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:vt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&bt.aa.h.call(this)}}nt(bt,ft);var vt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ee=0;function si(f,E,b,R,G){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!R,this.ha=G,this.key=++ee,this.da=this.fa=!1}function Ci(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ai(f){this.src=f,this.g={},this.h=0}ai.prototype.add=function(f,E,b,R,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var gt=Ki(f,E,R,G);return-1<gt?(E=f[gt],b||(E.fa=!1)):(E=new si(E,this.src,J,!!R,G),E.fa=b,f.push(E)),E};function oi(f,E){var b=E.type;if(b in f.g){var R=f.g[b],G=Array.prototype.indexOf.call(R,E,void 0),J;(J=0<=G)&&Array.prototype.splice.call(R,G,1),J&&(Ci(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Ki(f,E,b,R){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==E&&J.capture==!!b&&J.ha==R)return G}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Is={};function Ha(f,E,b,R,G){if(Array.isArray(E)){for(var J=0;J<E.length;J++)Ha(f,E[J],b,R,G);return null}return b=Vo(b),f&&f[ge]?f.K(E,b,T(R)?!!R.capture:!1,G):xn(f,E,b,!1,R,G)}function xn(f,E,b,R,G,J){if(!E)throw Error("Invalid event type");var gt=T(G)?!!G.capture:!!G,Wt=Xr(f);if(Wt||(f[Kr]=Wt=new ai(f)),b=Wt.add(E,b,R,gt,J),b.proxy)return b;if(R=Ds(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)Et||(G=gt),G===void 0&&(G=!1),f.addEventListener(E.toString(),R,G);else if(f.attachEvent)f.attachEvent(Qi(E.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ds(){function f(b){return E.call(f.src,f.listener,b)}const E=No;return f}function ja(f,E,b,R,G){if(Array.isArray(E))for(var J=0;J<E.length;J++)ja(f,E[J],b,R,G);else R=T(R)?!!R.capture:!!R,b=Vo(b),f&&f[ge]?(f=f.i,E=String(E).toString(),E in f.g&&(J=f.g[E],b=Ki(J,b,R,G),-1<b&&(Ci(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete f.g[E],f.h--)))):f&&(f=Xr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Ki(E,b,R,G)),(b=-1<f?E[f]:null)&&Qr(b))}function Qr(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ge])oi(E.i,f);else{var b=f.type,R=f.proxy;E.removeEventListener?E.removeEventListener(b,R,f.capture):E.detachEvent?E.detachEvent(Qi(b),R):E.addListener&&E.removeListener&&E.removeListener(R),(b=Xr(E))?(oi(b,f),b.h==0&&(b.src=null,E[Kr]=null)):Ci(f)}}}function Qi(f){return f in Is?Is[f]:Is[f]="on"+f}function No(f,E){if(f.da)f=!0;else{E=new bt(E,this);var b=f.listener,R=f.ha||f.src;f.fa&&Qr(f),f=b.call(R,E)}return f}function Xr(f){return f=f[Kr],f instanceof ai?f:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(f){return typeof f=="function"?f:(f[qa]||(f[qa]=function(E){return f.handleEvent(E)}),f[qa])}function Le(){pt.call(this),this.i=new ai(this),this.M=this,this.F=null}nt(Le,pt),Le.prototype[ge]=!0,Le.prototype.removeEventListener=function(f,E,b,R){ja(this,f,E,b,R)};function ue(f,E){var b,R=f.F;if(R)for(b=[];R;R=R.F)b.push(R);if(f=f.M,R=E.type||E,typeof E=="string")E=new ft(E,f);else if(E instanceof ft)E.target=E.target||f;else{var G=E;E=new ft(R,f),B(E,G)}if(G=!0,b)for(var J=b.length-1;0<=J;J--){var gt=E.g=b[J];G=Rn(gt,R,!0,E)&&G}if(gt=E.g=f,G=Rn(gt,R,!0,E)&&G,G=Rn(gt,R,!1,E)&&G,b)for(J=0;J<b.length;J++)gt=E.g=b[J],G=Rn(gt,R,!1,E)&&G}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var b=f.g[E],R=0;R<b.length;R++)Ci(b[R]);delete f.g[E],f.h--}}this.F=null},Le.prototype.K=function(f,E,b,R){return this.i.add(String(f),E,!1,b,R)},Le.prototype.L=function(f,E,b,R){return this.i.add(String(f),E,!0,b,R)};function Rn(f,E,b,R){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,J=0;J<E.length;++J){var gt=E[J];if(gt&&!gt.da&&gt.capture==b){var Wt=gt.listener,qe=gt.ha||gt.src;gt.fa&&oi(f.i,gt),G=Wt.call(qe,R)!==!1&&G}}return G&&!R.defaultPrevented}function cn(f,E,b){if(typeof f=="function")b&&(f=I(f,b));else if(f&&typeof f.handleEvent=="function")f=I(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:g.setTimeout(f,E||0)}function Ga(f){f.g=cn(()=>{f.g=null,f.i&&(f.i=!1,Ga(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class zo extends pt{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(f){pt.call(this),this.h=f,this.g={}}nt($r,pt);var yr=[];function Xi(f){Zt(f.g,function(E,b){this.g.hasOwnProperty(b)&&Qr(E)},f),f.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Xi(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=g.JSON.stringify,Ps=g.JSON.parse,li=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function Fa(){}Fa.prototype.h=null;function Za(f){return f.h||(f.h=f.i())}function ks(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){ft.call(this,"d")}nt(Ri,ft);function Ya(){ft.call(this,"c")}nt(Ya,ft);var Mi={},Ka=null;function vr(){return Ka=Ka||new Le}Mi.La="serverreachability";function Os(f){ft.call(this,Mi.La,f)}nt(Os,ft);function Er(f){const E=vr();ue(E,new Os(E))}Mi.STAT_EVENT="statevent";function Ns(f,E){ft.call(this,Mi.STAT_EVENT,f),this.stat=E}nt(Ns,ft);function Ae(f){const E=vr();ue(E,new Ns(E,f))}Mi.Ma="timingevent";function Fe(f,E){ft.call(this,Mi.Ma,f),this.size=E}nt(Fe,ft);function je(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},E)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function Mn(f,E,b,R,G,J){f.info(function(){if(f.g)if(J)for(var gt="",Wt=J.split("&"),qe=0;qe<Wt.length;qe++){var Jt=Wt[qe].split("=");if(1<Jt.length){var de=Jt[0];Jt=Jt[1];var xe=de.split("_");gt=2<=xe.length&&xe[1]=="type"?gt+(de+"="+Jt+"&"):gt+(de+"=redacted&")}}else gt=null;else gt=J;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+E+`
`+b+`
`+gt})}function Mt(f,E,b,R,G,J,gt){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+E+`
`+b+`
`+J+" "+gt})}function $i(f,E,b,R){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Tr(f,b)+(R?" "+R:"")})}function Qa(f,E){f.info(function(){return"TIMEOUT: "+E})}$n.prototype.info=function(){};function Tr(f,E){if(!f.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var R=b[f];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var gt=1;gt<G.length;gt++)G[gt]=""}}}}return Xn(b)}catch{return E}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function En(){}nt(En,Fa),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},ci=new En;function hn(f,E,b,R){this.j=f,this.i=E,this.l=b,this.R=R||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var Xa={},Vs={};function hi(f,E,b){f.L=1,f.v=jn(Ce(E)),f.m=b,f.P=!0,Ii(f,null)}function Ii(f,E){f.F=Date.now(),Jr(f),f.A=Ce(f.v);var b=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Ja(b.i,"t",R),f.C=0,b=f.j.J,f.h=new Ve,f.g=Go(f.j,b?E:null,!f.m),0<f.O&&(f.M=new zo(I(f.Y,f,f.g),f.O)),E=f.U,b=f.g,R=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(yr[0]=G.toString()),G=yr);for(var J=0;J<G.length;J++){var gt=Ha(b,G[J],R||E.handleEvent,!1,E.h||E);if(!gt)break;E.g[gt.key]=gt}E=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Er(),Mn(f.i,f.u,f.A,f.l,f.R,f.m)}hn.prototype.ca=function(f){f=f.target;const E=this.M;E&&mn(f)==3?E.j():this.Y(f)},hn.prototype.Y=function(f){try{if(f==this.g)t:{const xe=mn(this.g);var E=this.g.Ba();const ar=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||to(this.g)))){this.J||xe!=4||E==7||(E==8||0>=ar?Er(3):Er(2)),wr(this);var b=this.g.Z();this.X=b;e:if(Uo(this)){var R=to(this.g);f="";var G=R.length,J=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Di(this);var gt="";break e}this.h.i=new g.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,f+=this.h.i.decode(R[E],{stream:!(J&&E==G-1)});R.length=0,this.h.g+=f,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=b==200,Mt(this.i,this.u,this.A,this.l,this.R,xe,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,qe=this.g;if((Wt=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wt(Wt)){var Jt=Wt;break e}}Jt=null}if(b=Jt)$i(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ji(this,b);else{this.o=!1,this.s=3,Ae(12),sn(this),Di(this);break t}}if(this.P){b=!0;let be;for(;!this.J&&this.C<gt.length;)if(be=Wr(this,gt),be==Vs){xe==4&&(this.s=4,Ae(14),b=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(be==Xa){this.s=4,Ae(15),$i(this.i,this.l,gt,"[Invalid Chunk]"),b=!1;break}else $i(this.i,this.l,be,null),Ji(this,be);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||gt.length!=0||this.h.h||(this.s=1,Ae(16),b=!1),this.o=this.o&&b,!b)$i(this.i,this.l,gt,"[Invalid Chunked Response]"),sn(this),Di(this);else if(0<gt.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),xr(de),de.M=!0,Ae(11))}}else $i(this.i,this.l,gt,null),Ji(this,gt);xe==4&&sn(this),this.o&&!this.J&&(xe==4?no(this.j,this):(this.o=!1,Jr(this)))}else Jl(this.g),b==400&&0<gt.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),sn(this),Di(this)}}}catch{}finally{}};function Uo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Wr(f,E){var b=f.C,R=E.indexOf(`
`,b);return R==-1?Vs:(b=Number(E.substring(b,R)),isNaN(b)?Xa:(R+=1,R+b>E.length?Vs:(E=E.slice(R,R+b),f.C=R+b,E)))}hn.prototype.cancel=function(){this.J=!0,sn(this)};function Jr(f){f.S=Date.now()+f.I,Bo(f,f.I)}function Bo(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=je(I(f.ba,f),E)}function wr(f){f.B&&(g.clearTimeout(f.B),f.B=null)}hn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Qa(this.i,this.A),this.L!=2&&(Er(),Ae(17)),sn(this),this.s=2,Di(this)):Bo(this,this.S-f)};function Di(f){f.j.G==0||f.J||no(f.j,f)}function sn(f){wr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Xi(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Ji(f,E){try{var b=f.j;if(b.G!=0&&(b.g==f||Kt(b.h,f))){if(!f.K&&Kt(b.h,f)&&b.G==3){try{var R=b.Da.g.parse(E)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Zs(b),qs(b);else break t;Gs(b),Ae(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=je(I(b.Za,b),6e3));if(1>=ki(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else sr(b,11)}else if((f.K||b.g==f)&&Zs(b),!wt(E))for(G=b.Da.g.parse(E),E=0;E<G.length;E++){let Jt=G[E];if(b.T=Jt[0],Jt=Jt[1],b.G==2)if(Jt[0]=="c"){b.K=Jt[1],b.ia=Jt[2];const de=Jt[3];de!=null&&(b.la=de,b.j.info("VER="+b.la));const xe=Jt[4];xe!=null&&(b.Aa=xe,b.j.info("SVER="+b.Aa));const ar=Jt[5];ar!=null&&typeof ar=="number"&&0<ar&&(R=1.5*ar,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const be=f.g;if(be){const Ui=be.g?be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var J=R.h;J.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(fe(J,J.h),J.h=null))}if(R.D){const Bi=be.g?be.g.getResponseHeader("X-HTTP-Session-Id"):null;Bi&&(R.ya=Bi,Nt(R.I,R.D,Bi))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var gt=f;if(R.qa=Ks(R,R.J?R.ia:null,R.W),gt.K){$e(R.h,gt);var Wt=gt,qe=R.L;qe&&(Wt.I=qe),Wt.B&&(wr(Wt),Jr(Wt)),R.g=gt}else gi(R);0<b.i.length&&Cr(b)}else Jt[0]!="stop"&&Jt[0]!="close"||sr(b,7);else b.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?sr(b,7):js(b):Jt[0]!="noop"&&b.l&&b.l.ta(Jt),b.v=0)}}Er(4)}catch{}}var br=class{constructor(f,E){this.g=f,this.map=E}};function Pi(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ts(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ki(f){return f.h?1:f.g?f.g.size:0}function Kt(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function fe(f,E){f.g?f.g.add(E):f.h=E}function $e(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Pi.prototype.cancel=function(){if(this.i=Oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Oi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.D);return E}return tt(f.i)}function Sr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(v(f)){for(var E=[],b=f.length,R=0;R<b;R++)E.push(f[R]);return E}E=[],b=0;for(R in f)E[b++]=f[R];return E}function Lr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(v(f)||typeof f=="string"){var E=[];f=f.length;for(var b=0;b<f;b++)E.push(b);return E}E=[],b=0;for(const R in f)E[b++]=R;return E}}}function Bt(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(v(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var b=Lr(f),R=Sr(f),G=R.length,J=0;J<G;J++)E.call(void 0,R[J],b&&b[J],f)}var me=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(f,E){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var R=f[b].indexOf("="),G=null;if(0<=R){var J=f[b].substring(0,R);G=f[b].substring(R+1)}else J=f[b];E(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ie(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ie){this.h=f.h,es(this,f.j),this.o=f.o,this.g=f.g,fi(this,f.s),this.l=f.l;var E=f.i,b=new mi;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),Tn(this,b),this.m=f.m}else f&&(E=String(f).match(me))?(this.h=!1,es(this,E[1]||"",!0),this.o=fn(E[2]||""),this.g=fn(E[3]||"",!0),fi(this,E[4]),this.l=fn(E[5]||"",!0),Tn(this,E[6]||"",!0),this.m=fn(E[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ie.prototype.toString=function(){var f=[],E=this.j;E&&f.push(di(E,tr,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(di(E,tr,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(di(b,b.charAt(0)=="/"?Wa:ns,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",di(b,Ar)),f.join("")};function Ce(f){return new Ie(f)}function es(f,E,b){f.j=b?fn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function fi(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Tn(f,E,b){E instanceof mi?(f.i=E,qn(f.i,f.h)):(b||(E=di(E,Us)),f.i=new mi(E,f.h))}function Nt(f,E,b){f.i.set(E,b)}function jn(f){return Nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function fn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function di(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,zs),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zs(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var tr=/[#\/\?@]/g,ns=/[#\?:]/g,Wa=/[#\?]/g,Us=/[#\?@]/g,Ar=/#/g;function mi(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function wn(f){f.g||(f.g=new Map,f.h=0,f.i&&$a(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}s=mi.prototype,s.add=function(f,E){wn(this),this.i=null,f=Dt(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function Ni(f,E){wn(f),E=Dt(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function pi(f,E){return wn(f),E=Dt(f,E),f.g.has(E)}s.forEach=function(f,E){wn(this),this.g.forEach(function(b,R){b.forEach(function(G){f.call(E,G,R,this)},this)},this)},s.na=function(){wn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let R=0;R<E.length;R++){const G=f[R];for(let J=0;J<G.length;J++)b.push(E[R])}return b},s.V=function(f){wn(this);let E=[];if(typeof f=="string")pi(this,f)&&(E=E.concat(this.g.get(Dt(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)E=E.concat(f[b])}return E},s.set=function(f,E){return wn(this),this.i=null,f=Dt(this,f),pi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},s.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Ja(f,E,b){Ni(f,E),0<b.length&&(f.i=null,f.g.set(Dt(f,E),tt(b)),f.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var R=E[b];const J=encodeURIComponent(String(R)),gt=this.V(R);for(R=0;R<gt.length;R++){var G=J;gt[R]!==""&&(G+="="+encodeURIComponent(String(gt[R]))),f.push(G)}}return this.i=f.join("&")};function Dt(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function qn(f,E){E&&!f.j&&(wn(f),f.i=null,f.g.forEach(function(b,R){var G=R.toLowerCase();R!=G&&(Ni(this,R),Ja(this,G,b))},f)),f.j=E}function re(f,E){const b=new $n;if(g.Image){const R=new Image;R.onload=$(In,b,"TestLoadImage: loaded",!0,E,R),R.onerror=$(In,b,"TestLoadImage: error",!1,E,R),R.onabort=$(In,b,"TestLoadImage: abort",!1,E,R),R.ontimeout=$(In,b,"TestLoadImage: timeout",!1,E,R),g.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else E(!1)}function Wn(f,E){const b=new $n,R=new AbortController,G=setTimeout(()=>{R.abort(),In(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(G),J.ok?In(b,"TestPingServer: ok",!0,E):In(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),In(b,"TestPingServer: error",!1,E)})}function In(f,E,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function er(){this.g=new li}function Jn(f,E,b){const R=b||"";try{Bt(f,function(G,J){let gt=G;T(G)&&(gt=Xn(G)),E.push(R+J+"="+encodeURIComponent(gt))})}catch(G){throw E.push(R+"type="+encodeURIComponent("_badmap")),G}}function Dn(f){this.l=f.Ub||null,this.j=f.eb||!1}nt(Dn,Fa),Dn.prototype.g=function(){return new _i(this.l,this.j)},Dn.prototype.i=function(f){return function(){return f}}({});function _i(f,E){Le.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}nt(_i,Le),s=_i.prototype,s.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,dn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||g).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ye(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,dn(this)),this.g&&(this.readyState=3,dn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function nr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ye(this):dn(this),this.readyState==3&&nr(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,ye(this))},s.Qa=function(f){this.g&&(this.response=f,ye(this))},s.ga=function(){this.g&&ye(this)};function ye(f){f.readyState=4,f.l=null,f.j=null,f.v=null,dn(f)}s.setRequestHeader=function(f,E){this.u.append(f,E)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function dn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bs(f){let E="";return Zt(f,function(b,R){E+=R,E+=":",E+=b,E+=`\r
`}),E}function Ze(f,E,b){t:{for(R in b){var R=!1;break t}R=!0}R||(b=Bs(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Nt(f,E,b))}function ce(f){Le.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}nt(ce,Le);var is=/^https?$/i,ir=["POST","PUT"];s=ce.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,E,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Za(this.o):Za(ci),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(J){Ho(this,J);return}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),G=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ir,E,void 0))||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,gt]of b)this.g.setRequestHeader(J,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Ho(this,J)}};function Ho(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,rs(f),Vi(f)}function rs(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),ce.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},s.bb=function(){Gt(this)};function Gt(f){if(f.h&&typeof d<"u"&&(!f.v[1]||mn(f)!=4||f.Z()!=2)){if(f.u&&mn(f)==4)cn(f.Ea,0,f);else if(ue(f,"readystatechange"),mn(f)==4){f.h=!1;try{const gt=f.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var b;if(!(b=E)){var R;if(R=gt===0){var G=String(f.D).match(me)[1]||null;!G&&g.self&&g.self.location&&(G=g.self.location.protocol.slice(0,-1)),R=!is.test(G?G.toLowerCase():"")}b=R}if(b)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var J=2<mn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",rs(f)}}finally{Vi(f)}}}}function Vi(f,E){if(f.g){an(f);const b=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ue(f,"ready");try{b.onreadystatechange=R}catch{}}}function an(f){f.I&&(g.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function mn(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Ps(E)}};function to(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Jl(f){const E={};f=(f.g&&2<=mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(wt(f[R]))continue;var b=z(f[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=E[G]||[];E[G]=J,J.push(b)}H(E,function(R){return R.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function Hs(f){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,f),this.cb=rr("retryDelaySeedMs",1e4,f),this.Wa=rr("forwardChannelMaxRetries",2,f),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(f&&f.concurrentRequestLimit),this.Da=new er,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Hs.prototype,s.la=8,s.G=1,s.connect=function(f,E,b,R){Ae(0),this.W=f,this.H=E||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Ks(this,null,this.W),Cr(this)};function js(f){if(jo(f),f.G==3){var E=f.U++,b=Ce(f.I);if(Nt(b,"SID",f.K),Nt(b,"RID",E),Nt(b,"TYPE","terminate"),ss(f,b),E=new hn(f,f.j,E),E.L=2,E.v=jn(Ce(b)),b=!1,g.navigator&&g.navigator.sendBeacon)try{b=g.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&g.Image&&(new Image().src=E.v,b=!0),b||(E.g=Go(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Jr(E)}qo(f)}function qs(f){f.g&&(xr(f),f.g.cancel(),f.g=null)}function jo(f){qs(f),f.u&&(g.clearTimeout(f.u),f.u=null),Zs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&g.clearTimeout(f.s),f.s=null)}function Cr(f){if(!ts(f.h)&&!f.s){f.s=!0;var E=f.Ga;yt||P(),dt||(yt(),dt=!0),ie.add(E,f),f.B=0}}function tu(f,E){return ki(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=je(I(f.Ga,f,E),Ys(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new hn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=D(J),B(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)t:{for(var E=0,b=0;b<this.i.length;b++){e:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(E+=R,4096<E){E=b;break t}if(E===4096||b===this.i.length-1){E=b+1;break t}}E=1e3}else E=1e3;E=eo(this,G,E),b=Ce(this.I),Nt(b,"RID",f),Nt(b,"CVER",22),this.D&&Nt(b,"X-HTTP-Session-Id",this.D),ss(this,b),J&&(this.O?E="headers="+encodeURIComponent(String(Bs(J)))+"&"+E:this.m&&Ze(b,this.m,J)),fe(this.h,G),this.Ua&&Nt(b,"TYPE","init"),this.P?(Nt(b,"$req",E),Nt(b,"SID","null"),G.T=!0,hi(G,b,null)):hi(G,b,E),this.G=2}}else this.G==3&&(f?Pn(this,f):this.i.length==0||ts(this.h)||Pn(this))};function Pn(f,E){var b;E?b=E.l:b=f.U++;const R=Ce(f.I);Nt(R,"SID",f.K),Nt(R,"RID",b),Nt(R,"AID",f.T),ss(f,R),f.m&&f.o&&Ze(R,f.m,f.o),b=new hn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),E&&(f.i=E.D.concat(f.i)),E=eo(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,b),hi(b,R,E)}function ss(f,E){f.H&&Zt(f.H,function(b,R){Nt(E,R,b)}),f.l&&Bt({},function(b,R){Nt(E,R,b)})}function eo(f,E,b){b=Math.min(f.i.length,b);var R=f.l?I(f.l.Na,f.l,f):null;t:{var G=f.i;let J=-1;for(;;){const gt=["count="+b];J==-1?0<b?(J=G[0].g,gt.push("ofs="+J)):J=0:gt.push("ofs="+J);let Wt=!0;for(let qe=0;qe<b;qe++){let Jt=G[qe].g;const de=G[qe].map;if(Jt-=J,0>Jt)J=Math.max(0,G[qe].g-100),Wt=!1;else try{Jn(de,gt,"req"+Jt+"_")}catch{R&&R(de)}}if(Wt){R=gt.join("&");break t}}}return f=f.i.splice(0,b),E.D=f,R}function gi(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;yt||P(),dt||(yt(),dt=!0),ie.add(E,f),f.v=0}}function Gs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=je(I(f.Fa,f),Ys(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,Fs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=je(I(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),qs(this),Fs(this))};function xr(f){f.A!=null&&(g.clearTimeout(f.A),f.A=null)}function Fs(f){f.g=new hn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Ce(f.qa);Nt(E,"RID","rpc"),Nt(E,"SID",f.K),Nt(E,"AID",f.T),Nt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Nt(E,"TO",f.ja),Nt(E,"TYPE","xmlhttp"),ss(f,E),f.m&&f.o&&Ze(E,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=jn(Ce(E)),b.m=null,b.P=!0,Ii(b,f)}s.Za=function(){this.C!=null&&(this.C=null,qs(this),Gs(this),Ae(19))};function Zs(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function no(f,E){var b=null;if(f.g==E){Zs(f),xr(f),f.g=null;var R=2}else if(Kt(f.h,E))b=E.D,$e(f.h,E),R=1;else return;if(f.G!=0){if(E.o)if(R==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var G=f.B;R=vr(),ue(R,new Fe(R,b)),Cr(f)}else gi(f);else if(G=E.s,G==3||G==0&&0<E.X||!(R==1&&tu(f,E)||R==2&&Gs(f)))switch(b&&0<b.length&&(E=f.h,E.i=E.i.concat(b)),G){case 1:sr(f,5);break;case 4:sr(f,10);break;case 3:sr(f,6);break;default:sr(f,2)}}}function Ys(f,E){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*E}function sr(f,E){if(f.j.info("Error code "+E),E==2){var b=I(f.fb,f),R=f.Xa;const G=!R;R=new Ie(R||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||es(R,"https"),jn(R),G?re(R.toString(),b):Wn(R.toString(),b)}else Ae(2);f.G=0,f.l&&f.l.sa(E),qo(f),jo(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function qo(f){if(f.G=0,f.ka=[],f.l){const E=Oi(f.h);(E.length!=0||f.i.length!=0)&&(st(f.ka,E),st(f.ka,f.i),f.h.i.length=0,tt(f.i),f.i.length=0),f.l.ra()}}function Ks(f,E,b){var R=b instanceof Ie?Ce(b):new Ie(b);if(R.g!="")E&&(R.g=E+"."+R.g),fi(R,R.s);else{var G=g.location;R=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var J=new Ie(null);R&&es(J,R),E&&(J.g=E),G&&fi(J,G),b&&(J.l=b),R=J}return b=f.D,E=f.ya,b&&E&&Nt(R,b,E),Nt(R,"VER",f.la),ss(f,R),R}function Go(f,E,b){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ce(new Dn({eb:b})):new ce(f.pa),E.Ha(f.J),E}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function io(){}s=io.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function as(){}as.prototype.g=function(f,E){return new We(f,E)};function We(f,E){Le.call(this),this.g=new Hs(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!wt(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!wt(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new kn(this)}nt(We,Le),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){js(this.g)},We.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Xn(f),f=b);E.i.push(new br(E.Ya++,f)),E.G==3&&Cr(E)},We.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,We.aa.N.call(this)};function zi(f){Ri.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const b in E){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}nt(zi,Ri);function Fo(){Ya.call(this),this.status=1}nt(Fo,Ya);function kn(f){this.g=f}nt(kn,io),kn.prototype.ua=function(){ue(this.g,"a")},kn.prototype.ta=function(f){ue(this.g,new zi(f))},kn.prototype.sa=function(f){ue(this.g,new Fo)},kn.prototype.ra=function(){ue(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,qE=function(){return new as},jE=function(){return vr()},HE=Mi,Om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Vh=Wi,ui.COMPLETE="complete",BE=ui,ks.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Fu=ks,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,UE=ce}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Iv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new lp("@firebase/firestore");function wl(){return Po.logLevel}function St(s,...t){if(Po.logLevel<=te.DEBUG){const n=t.map(Tp);Po.debug(`Firestore (${Kl}): ${s}`,...n)}}function xs(s,...t){if(Po.logLevel<=te.ERROR){const n=t.map(Tp);Po.error(`Firestore (${Kl}): ${s}`,...n)}}function Nl(s,...t){if(Po.logLevel<=te.WARN){const n=t.map(Tp);Po.warn(`Firestore (${Kl}): ${s}`,...n)}}function Tp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(s,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,GE(s,o,n)}function GE(s,t,n){let o=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw xs(o),new Error(o)}function He(s,t,n,o){let a="Unexpected state";typeof n=="string"?a=n:o=n,s||GE(t,a,o)}function oe(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Ms{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class HC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jC{constructor(t){this.t=t,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){He(this.o===void 0,42304);let o=this.i;const a=v=>this.i!==o?(o=this.i,n(v)):Promise.resolve();let u=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xo,t.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const v=u;t.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},g=v=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xo)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(He(typeof o.accessToken=="string",31837,{l:o}),new FE(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return He(t===null||typeof t=="string",2055,{h:t}),new zn(t)}}class qC{constructor(t,n,o){this.P=t,this.T=n,this.I=o,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(t,n,o){this.P=t,this.T=n,this.I=o}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){He(this.o===void 0,3512);const o=u=>{u.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,St("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>o(u))};const a=u=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=ZC(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<n&&(o+=t.charAt(a[u]%62))}return o}}function ne(s,t){return s<t?-1:s>t?1:0}function Nm(s,t){const n=Math.min(s.length,t.length);for(let o=0;o<n;o++){const a=s.charAt(o),u=t.charAt(o);if(a!==u)return ym(a)===ym(u)?ne(a,u):ym(a)?1:-1}return ne(s.length,t.length)}const YC=55296,KC=57343;function ym(s){const t=s.charCodeAt(0);return t>=YC&&t<=KC}function Vl(s,t,n){return s.length===t.length&&s.every((o,a)=>n(o,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class Vr{constructor(t,n,o){n===void 0?n=0:n>t.length&&qt(637,{offset:n,range:t.length}),o===void 0?o=t.length-n:o>t.length-n&&qt(1746,{length:o,range:t.length-n}),this.segments=t,this.offset=n,this.len=o}get length(){return this.len}isEqual(t){return Vr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vr?t.forEach(o=>{n.push(o)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,o=this.limit();n<o;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const o=Math.min(t.length,n.length);for(let a=0;a<o;a++){const u=Vr.compareSegments(t.get(a),n.get(a));if(u!==0)return u}return ne(t.length,n.length)}static compareSegments(t,n){const o=Vr.isNumericId(t),a=Vr.isNumericId(n);return o&&!a?-1:!o&&a?1:o&&a?Vr.extractNumericId(t).compare(Vr.extractNumericId(n)):Nm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ka.fromString(t.substring(4,t.length-2))}}class Oe extends Vr{construct(t,n,o){return new Oe(t,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const o of t){if(o.indexOf("//")>=0)throw new Ct(_t.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(a=>a.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Vr{construct(t,n,o){return new Bn(t,n,o)}static isValidIdentifier(t){return QC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new Bn([Pv])}static fromServerFormat(t){const n=[];let o="",a=0;const u=()=>{if(o.length===0)throw new Ct(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let d=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new Ct(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=v,a+=2}else g==="`"?(d=!d,a++):g!=="."||d?(o+=g,a++):(u(),a++)}if(u(),d)throw new Ct(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.path=t}static fromPath(t){return new kt(Oe.fromString(t))}static fromName(t){return new kt(Oe.fromString(t).popFirst(5))}static empty(){return new kt(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new kt(new Oe(t.slice()))}}function XC(s,t,n,o){if(t===!0&&o===!0)throw new Ct(_t.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function kv(s){if(kt.isDocumentKey(s))throw new Ct(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function YE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function df(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":qt(12329,{type:typeof s})}function Vm(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Ct(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(s);throw new Ct(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(s,t){const n={typeString:s};return t&&(n.value=t),n}function _c(s,t){if(!YE(s))throw new Ct(_t.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in t)if(t[o]){const a=t[o].typeString,u="value"in t[o]?{value:t[o].value}:void 0;if(!(o in s)){n=`JSON missing required field: '${o}'`;break}const d=s[o];if(a&&typeof d!==a){n=`JSON field '${o}' must be a ${a}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${o}' field to equal '${u.value}'`;break}}if(n)throw new Ct(_t.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,Nv=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),o=Math.floor((t-1e3*n)*Nv);return new Ne(n,o)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ov)throw new Ct(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?ne(this.nanoseconds,t.nanoseconds):ne(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_c(t,Ne._jsonSchema))return new Ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:rn("string",Ne._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Ne(0,0))}static max(){return new jt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function $C(s,t){const n=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,a=jt.fromTimestamp(o===1e9?new Ne(n+1,0):new Ne(n,o));return new Oa(a,kt.empty(),t)}function WC(s){return new Oa(s.readTime,s.key,rc)}class Oa{constructor(t,n,o){this.readTime=t,this.documentKey=n,this.largestBatchId=o}static min(){return new Oa(jt.min(),kt.empty(),rc)}static max(){return new Oa(jt.max(),kt.empty(),rc)}}function JC(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=kt.comparator(s.documentKey,t.documentKey),n!==0?n:ne(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(s){if(s.code!==_t.FAILED_PRECONDITION||s.message!==tx)throw s;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ut((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(o,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ut?n:ut.resolve(n)}catch(n){return ut.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ut.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ut.reject(n)}static resolve(t){return new ut((n,o)=>{n(t)})}static reject(t){return new ut((n,o)=>{o(t)})}static waitFor(t){return new ut((n,o)=>{let a=0,u=0,d=!1;t.forEach(g=>{++a,g.next(()=>{++u,d&&u===a&&n()},v=>o(v))}),d=!0,u===a&&n()})}static or(t){let n=ut.resolve(!1);for(const o of t)n=n.next(a=>a?ut.resolve(a):o());return n}static forEach(t,n){const o=[];return t.forEach((a,u)=>{o.push(n.call(this,a,u))}),this.waitFor(o)}static mapArray(t,n){return new ut((o,a)=>{const u=t.length,d=new Array(u);let g=0;for(let v=0;v<u;v++){const T=v;n(t[T]).next(A=>{d[T]=A,++g,g===u&&o(d)},A=>a(A))}})}static doWhile(t,n){return new ut((o,a)=>{const u=()=>{t()===!0?n().next(()=>{u()},a):o()};u()})}}function nx(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ql(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=o=>this.ae(o),this.ue=o=>n.writeSequenceNumber(o))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=-1;function _f(s){return s==null}function $h(s){return s===0&&1/s==-1/0}function rx(s){return typeof s=="number"&&Number.isInteger(s)&&!$h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function sx(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Vv(t)),t=ax(s.get(n),t);return Vv(t)}function ax(s,t){let n=t;const o=s.length;for(let a=0;a<o;a++){const u=s.charAt(a);switch(u){case"\0":n+="";break;case KE:n+="";break;default:n+=u}}return n}function Vv(s){return s+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Xl(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function QE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){this.comparator=t,this.root=n||An.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,An.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(t,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(t){let n=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return n+o.left.size;a<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,o)=>(t(n,o),!1))}toString(){const t=[];return this.inorderTraversal((n,o)=>(t.push(`${n}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ah(this.root,t,this.comparator,!0)}}class Ah{constructor(t,n,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?o(t.key,n):1,n&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class An{constructor(t,n,o,a,u){this.key=t,this.value=n,this.color=o??An.RED,this.left=a??An.EMPTY,this.right=u??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,o,a,u){return new An(t??this.key,n??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,o){let a=this;const u=o(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,n,o),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let o,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return An.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,n,o,a,u){return this}insert(t,n,o){return new An(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,o)=>(t(n),!1))}forEachInRange(t,n){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(t){return new Uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(o=>{n=n.add(o)}),n}isEqual(t){if(!(t instanceof un)||this.size!==t.size)return!1;const n=this.data.getIterator(),o=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=o.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new un(this.comparator);return n.data=t,n}}class Uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this.fields=t,t.sort(Bn.comparator)}static empty(){return new Ra([])}unionWith(t){let n=new un(Bn.comparator);for(const o of this.fields)n=n.add(o);for(const o of t)n=n.add(o);return new Ra(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vl(this.fields,t.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XE("Invalid base64 string: "+u):u}}(t);return new Cn(n)}static fromUint8Array(t){const n=function(a){let u="";for(let d=0;d<a.length;++d)u+=String.fromCharCode(a[d]);return u}(t);return new Cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let a=0;a<n.length;a++)o[a]=n.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ne(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(s){if(He(!!s,39018),typeof s=="string"){let t=0;const n=ox.exec(s);if(He(!!n,46558,{timestamp:s}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Qe(s.seconds),nanos:Qe(s.nanos)}}function Qe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Va(s){return typeof s=="string"?Cn.fromBase64String(s):Cn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",WE="__type__",JE="__previous_value__",tT="__local_write_time__";function wp(s){return(s?.mapValue?.fields||{})[WE]?.stringValue===$E}function gf(s){const t=s.mapValue.fields[JE];return wp(t)?gf(t):t}function sc(s){const t=Na(s.mapValue.fields[tT].timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n,o,a,u,d,g,v,T,A){this.databaseId=t,this.appId=n,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=T,this.isUsingEmulator=A}}const Wh="(default)";class ac{constructor(t,n){this.projectId=t,this.database=n||Wh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(t){return t instanceof ac&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__type__",ux="__max__",Ch={mapValue:{}},nT="__vector__",Jh="value";function za(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wp(s)?4:hx(s)?9007199254740991:cx(s)?10:11:qt(28295,{value:s})}function Zr(s,t){if(s===t)return!0;const n=za(s);if(n!==za(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return sc(s).isEqual(sc(t));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const d=Na(a.timestampValue),g=Na(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,u){return Va(a.bytesValue).isEqual(Va(u.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,u){return Qe(a.geoPointValue.latitude)===Qe(u.geoPointValue.latitude)&&Qe(a.geoPointValue.longitude)===Qe(u.geoPointValue.longitude)}(s,t);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Qe(a.integerValue)===Qe(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const d=Qe(a.doubleValue),g=Qe(u.doubleValue);return d===g?$h(d)===$h(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return Vl(s.arrayValue.values||[],t.arrayValue.values||[],Zr);case 10:case 11:return function(a,u){const d=a.mapValue.fields||{},g=u.mapValue.fields||{};if(zv(d)!==zv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Zr(d[v],g[v])))return!1;return!0}(s,t);default:return qt(52216,{left:s})}}function oc(s,t){return(s.values||[]).find(n=>Zr(n,t))!==void 0}function zl(s,t){if(s===t)return 0;const n=za(s),o=za(t);if(n!==o)return ne(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(s.booleanValue,t.booleanValue);case 2:return function(u,d){const g=Qe(u.integerValue||u.doubleValue),v=Qe(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,t);case 3:return Bv(s.timestampValue,t.timestampValue);case 4:return Bv(sc(s),sc(t));case 5:return Nm(s.stringValue,t.stringValue);case 6:return function(u,d){const g=Va(u),v=Va(d);return g.compareTo(v)}(s.bytesValue,t.bytesValue);case 7:return function(u,d){const g=u.split("/"),v=d.split("/");for(let T=0;T<g.length&&T<v.length;T++){const A=ne(g[T],v[T]);if(A!==0)return A}return ne(g.length,v.length)}(s.referenceValue,t.referenceValue);case 8:return function(u,d){const g=ne(Qe(u.latitude),Qe(d.latitude));return g!==0?g:ne(Qe(u.longitude),Qe(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Hv(s.arrayValue,t.arrayValue);case 10:return function(u,d){const g=u.fields||{},v=d.fields||{},T=g[Jh]?.arrayValue,A=v[Jh]?.arrayValue,M=ne(T?.values?.length||0,A?.values?.length||0);return M!==0?M:Hv(T,A)}(s.mapValue,t.mapValue);case 11:return function(u,d){if(u===Ch.mapValue&&d===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(d===Ch.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),T=d.fields||{},A=Object.keys(T);v.sort(),A.sort();for(let M=0;M<v.length&&M<A.length;++M){const I=Nm(v[M],A[M]);if(I!==0)return I;const $=zl(g[v[M]],T[A[M]]);if($!==0)return $}return ne(v.length,A.length)}(s.mapValue,t.mapValue);default:throw qt(23264,{he:n})}}function Bv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return ne(s,t);const n=Na(s),o=Na(t),a=ne(n.seconds,o.seconds);return a!==0?a:ne(n.nanos,o.nanos)}function Hv(s,t){const n=s.values||[],o=t.values||[];for(let a=0;a<n.length&&a<o.length;++a){const u=zl(n[a],o[a]);if(u)return u}return ne(n.length,o.length)}function Ul(s){return zm(s)}function zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const o=Na(n);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Va(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return kt.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let o="[",a=!0;for(const u of n.values||[])a?a=!1:o+=",",o+=zm(u);return o+"]"}(s.arrayValue):"mapValue"in s?function(n){const o=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const d of o)u?u=!1:a+=",",a+=`${d}:${zm(n.fields[d])}`;return a+"}"}(s.mapValue):qt(61005,{value:s})}function zh(s){switch(za(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gf(s);return t?16+zh(t):16;case 5:return 2*s.stringValue.length;case 6:return Va(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,u)=>a+zh(u),0)}(s.arrayValue);case 10:case 11:return function(o){let a=0;return Xl(o.fields,(u,d)=>{a+=u.length+zh(d)}),a}(s.mapValue);default:throw qt(13486,{value:s})}}function jv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Um(s){return!!s&&"integerValue"in s}function bp(s){return!!s&&"arrayValue"in s}function qv(s){return!!s&&"nullValue"in s}function Gv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vm(s){return!!s&&"mapValue"in s}function cx(s){return(s?.mapValue?.fields||{})[eT]?.stringValue===nT}function $u(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Xl(s.mapValue.fields,(n,o)=>t.mapValue.fields[n]=$u(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$u(s.arrayValue.values[n]);return t}return{...s}}function hx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ux}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this.value=t}static empty(){return new zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let o=0;o<t.length-1;++o)if(n=(n.mapValue.fields||{})[t.get(o)],!vm(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=$u(n)}setAll(t){let n=Bn.emptyPath(),o={},a=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const v=this.getFieldsMap(n);this.applyChanges(v,o,a),o={},a=[],n=g.popLast()}d?o[g.lastSegment()]=$u(d):a.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,o,a)}delete(t){const n=this.field(t.popLast());vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Zr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=n.mapValue.fields[t.get(o)];vm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(o)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,o){Xl(n,(a,u)=>t[a]=u);for(const a of o)delete t[a]}clone(){return new zr($u(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,n,o,a,u,d,g){this.key=t,this.documentType=n,this.version=o,this.readTime=a,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Un(t,0,jt.min(),jt.min(),jt.min(),zr.empty(),0)}static newFoundDocument(t,n,o,a){return new Un(t,1,n,jt.min(),o,a,0)}static newNoDocument(t,n){return new Un(t,2,n,jt.min(),jt.min(),zr.empty(),0)}static newUnknownDocument(t,n){return new Un(t,3,n,jt.min(),jt.min(),zr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n){this.position=t,this.inclusive=n}}function Fv(s,t,n){let o=0;for(let a=0;a<s.position.length;a++){const u=t[a],d=s.position[a];if(u.field.isKeyField()?o=kt.comparator(kt.fromName(d.referenceValue),n.key):o=zl(d,n.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function Zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Zr(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function fx(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class nn extends iT{constructor(t,n,o){super(),this.field=t,this.op=n,this.value=o}static create(t,n,o){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,o):new mx(t,n,o):n==="array-contains"?new gx(t,o):n==="in"?new yx(t,o):n==="not-in"?new vx(t,o):n==="array-contains-any"?new Ex(t,o):new nn(t,n,o)}static createKeyFieldInFilter(t,n,o){return n==="in"?new px(t,o):new _x(t,o)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends iT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new _r(t,n)}matches(t){return rT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(s){return s.op==="and"}function sT(s){return dx(s)&&rT(s)}function dx(s){for(const t of s.filters)if(t instanceof _r)return!1;return!0}function Bm(s){if(s instanceof nn)return s.field.canonicalString()+s.op.toString()+Ul(s.value);if(sT(s))return s.filters.map(t=>Bm(t)).join(",");{const t=s.filters.map(n=>Bm(n)).join(",");return`${s.op}(${t})`}}function aT(s,t){return s instanceof nn?function(o,a){return a instanceof nn&&o.op===a.op&&o.field.isEqual(a.field)&&Zr(o.value,a.value)}(s,t):s instanceof _r?function(o,a){return a instanceof _r&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((u,d,g)=>u&&aT(d,a.filters[g]),!0):!1}(s,t):void qt(19439)}function oT(s){return s instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ul(n.value)}`}(s):s instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"}(s):"Filter"}class mx extends nn{constructor(t,n,o){super(t,n,o),this.key=kt.fromName(o.referenceValue)}matches(t){const n=kt.comparator(t.key,this.key);return this.matchesComparison(n)}}class px extends nn{constructor(t,n){super(t,"in",n),this.keys=lT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class _x extends nn{constructor(t,n){super(t,"not-in",n),this.keys=lT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lT(s,t){return(t.arrayValue?.values||[]).map(n=>kt.fromName(n.referenceValue))}class gx extends nn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bp(n)&&oc(n.arrayValue,this.value)}}class yx extends nn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class vx extends nn{constructor(t,n){super(t,"not-in",n)}matches(t){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class Ex extends nn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>oc(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,n=null,o=[],a=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Yv(s,t=null,n=[],o=[],a=null,u=null,d=null){return new Tx(s,t,n,o,a,u,d)}function Sp(s){const t=oe(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(o=>Bm(o)).join(","),n+="|ob:",n+=t.orderBy.map(o=>function(u){return u.field.canonicalString()+u.dir}(o)).join(","),_f(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(o=>Ul(o)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(o=>Ul(o)).join(",")),t.Te=n}return t.Te}function Lp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!fx(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!aT(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Zv(s.startAt,t.startAt)&&Zv(s.endAt,t.endAt)}function Hm(s){return kt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n=null,o=[],a=[],u=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wx(s,t,n,o,a,u,d,g){return new gc(s,t,n,o,a,u,d,g)}function uT(s){return new gc(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cT(s){return s.collectionGroup!==null}function Wu(s){const t=oe(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new un(Bn.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(T=>{T.isInequality()&&(g=g.add(T.field))})}),g})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ef(u,o))}),n.has(Bn.keyField().canonicalString())||t.Ie.push(new ef(Bn.keyField(),o))}return t.Ie}function Br(s){const t=oe(s);return t.Ee||(t.Ee=bx(t,Wu(s))),t.Ee}function bx(s,t){if(s.limitType==="F")return Yv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new ef(a.field,u)});const n=s.endAt?new tf(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new tf(s.startAt.position,s.startAt.inclusive):null;return Yv(s.path,s.collectionGroup,t,s.filters,s.limit,n,o)}}function jm(s,t){const n=s.filters.concat([t]);return new gc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function qm(s,t,n){return new gc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function yf(s,t){return Lp(Br(s),Br(t))&&s.limitType===t.limitType}function hT(s){return`${Sp(Br(s))}|lt:${s.limitType}`}function bl(s){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(a=>oT(a)).join(", ")}]`),_f(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(a=>Ul(a)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(a=>Ul(a)).join(",")),`Target(${o})`}(Br(s))}; limitType=${s.limitType})`}function vf(s,t){return t.isFoundDocument()&&function(o,a){const u=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):kt.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(s,t)&&function(o,a){for(const u of Wu(o))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(s,t)&&function(o,a){for(const u of o.filters)if(!u.matches(a))return!1;return!0}(s,t)&&function(o,a){return!(o.startAt&&!function(d,g,v){const T=Fv(d,g,v);return d.inclusive?T<=0:T<0}(o.startAt,Wu(o),a)||o.endAt&&!function(d,g,v){const T=Fv(d,g,v);return d.inclusive?T>=0:T>0}(o.endAt,Wu(o),a))}(s,t)}function Sx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fT(s){return(t,n)=>{let o=!1;for(const a of Wu(s)){const u=Lx(a,t,n);if(u!==0)return u;o=o||a.field.isKeyField()}return 0}}function Lx(s,t,n){const o=s.field.isKeyField()?kt.comparator(t.key,n.key):function(u,d,g){const v=d.data.field(u),T=g.data.field(u);return v!==null&&T!==null?zl(v,T):qt(42886)}(s.field,t,n);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return qt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),o=this.inner[n];if(o!==void 0){for(const[a,u]of o)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),o=this.inner[n];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[n]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Xl(this.inner,(n,o)=>{for(const[a,u]of o)t(a,u)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Xe(kt.comparator);function Ua(){return Ax}const dT=new Xe(kt.comparator);function Zu(...s){let t=dT;for(const n of s)t=t.insert(n.key,n);return t}function Cx(s){let t=dT;return s.forEach((n,o)=>t=t.insert(n,o.overlayedDocument)),t}function Ao(){return Ju()}function mT(){return Ju()}function Ju(){return new Oo(s=>s.toString(),(s,t)=>s.isEqual(t))}const xx=new un(kt.comparator);function le(...s){let t=xx;for(const n of s)t=t.add(n);return t}const Rx=new un(ne);function Mx(){return Rx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(t)?"-0":t}}function pT(s){return{integerValue:""+s}}function Ix(s,t){return rx(t)?pT(t):Ap(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function Dx(s,t,n){return s instanceof Gm?function(a,u){const d={fields:{[WE]:{stringValue:$E},[tT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&wp(u)&&(u=gf(u)),u&&(d.fields[JE]=u),{mapValue:d}}(n,t):s instanceof nf?_T(s,t):s instanceof rf?gT(s,t):function(a,u){const d=kx(a,u),g=Qv(d)+Qv(a.Ae);return Um(d)&&Um(a.Ae)?pT(g):Ap(a.serializer,g)}(s,t)}function Px(s,t,n){return s instanceof nf?_T(s,t):s instanceof rf?gT(s,t):n}function kx(s,t){return s instanceof Fm?function(o){return Um(o)||function(u){return!!u&&"doubleValue"in u}(o)}(t)?t:{integerValue:0}:null}class Gm extends Ef{}class nf extends Ef{constructor(t){super(),this.elements=t}}function _T(s,t){const n=yT(t);for(const o of s.elements)n.some(a=>Zr(a,o))||n.push(o);return{arrayValue:{values:n}}}class rf extends Ef{constructor(t){super(),this.elements=t}}function gT(s,t){let n=yT(t);for(const o of s.elements)n=n.filter(a=>!Zr(a,o));return{arrayValue:{values:n}}}class Fm extends Ef{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Qv(s){return Qe(s.integerValue||s.doubleValue)}function yT(s){return bp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Ox(s,t){return s.field.isEqual(t.field)&&function(o,a){return o instanceof nf&&a instanceof nf||o instanceof rf&&a instanceof rf?Vl(o.elements,a.elements,Zr):o instanceof Fm&&a instanceof Fm?Zr(o.Ae,a.Ae):o instanceof Gm&&a instanceof Gm}(s.transform,t.transform)}class Ro{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ro}static exists(t){return new Ro(void 0,t)}static updateTime(t){return new Ro(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Cp{}function vT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Vx(s.key,Ro.none()):new xp(s.key,s.data,Ro.none());{const n=s.data,o=zr.empty();let a=new un(Bn.comparator);for(let u of t.fields)if(!a.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?o.delete(u):o.set(u,d),a=a.add(u)}return new Tf(s.key,o,new Ra(a.toArray()),Ro.none())}}function Nx(s,t,n){s instanceof xp?function(a,u,d){const g=a.value.clone(),v=$v(a.fieldTransforms,u,d.transformResults);g.setAll(v),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,n):s instanceof Tf?function(a,u,d){if(!Uh(a.precondition,u))return void u.convertToUnknownDocument(d.version);const g=$v(a.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(ET(a)),v.setAll(g),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,t,n):function(a,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function tc(s,t,n,o){return s instanceof xp?function(u,d,g,v){if(!Uh(u.precondition,d))return g;const T=u.value.clone(),A=Wv(u.fieldTransforms,v,d);return T.setAll(A),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),null}(s,t,n,o):s instanceof Tf?function(u,d,g,v){if(!Uh(u.precondition,d))return g;const T=Wv(u.fieldTransforms,v,d),A=d.data;return A.setAll(ET(u)),A.setAll(T),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(M=>M.field))}(s,t,n,o):function(u,d,g){return Uh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,n)}function Xv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Vl(o,a,(u,d)=>Ox(u,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class xp extends Cp{constructor(t,n,o,a=[]){super(),this.key=t,this.value=n,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Tf extends Cp{constructor(t,n,o,a,u=[]){super(),this.key=t,this.data=n,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ET(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=s.data.field(n);t.set(n,o)}}),t}function $v(s,t,n){const o=new Map;He(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let a=0;a<n.length;a++){const u=s[a],d=u.transform,g=t.data.field(u.field);o.set(u.field,Px(d,g,n[a]))}return o}function Wv(s,t,n){const o=new Map;for(const a of s){const u=a.transform,d=n.data.field(a.field);o.set(a.field,Dx(u,d,t))}return o}class Vx extends Cp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t,n,o,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,n){const o=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&Nx(u,t,o[a])}}applyToLocalView(t,n){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(n=tc(o,t,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(n=tc(o,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const o=mT();return this.mutations.forEach(a=>{const u=t.get(a.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(a.key)?null:g;const v=vT(d,g);v!==null&&o.set(a.key,v),d.isValidDocument()||d.convertToNoDocument(jt.min())}),o}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),le())}isEqual(t){return this.batchId===t.batchId&&Vl(this.mutations,t.mutations,(n,o)=>Xv(n,o))&&Vl(this.baseMutations,t.baseMutations,(n,o)=>Xv(n,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,ae;function TT(s){if(s===void 0)return xs("GRPC error has no .code"),_t.UNKNOWN;switch(s){case en.OK:return _t.OK;case en.CANCELLED:return _t.CANCELLED;case en.UNKNOWN:return _t.UNKNOWN;case en.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case en.INTERNAL:return _t.INTERNAL;case en.UNAVAILABLE:return _t.UNAVAILABLE;case en.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case en.NOT_FOUND:return _t.NOT_FOUND;case en.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case en.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case en.ABORTED:return _t.ABORTED;case en.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case en.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case en.DATA_LOSS:return _t.DATA_LOSS;default:return qt(39323,{code:s})}}(ae=en||(en={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new ka([4294967295,4294967295],0);function Jv(s){const t=Hx().encode(s),n=new zE;return n.update(t),new Uint8Array(n.digest())}function t0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),o=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ka([n,o],0),new ka([a,u],0)]}class Rp{constructor(t,n,o){if(this.bitmap=t,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(o<0)throw new Yu(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${o}`);if(t.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ka.fromNumber(this.ge)}ye(t,n,o){let a=t.add(n.multiply(ka.fromNumber(o)));return a.compare(jx)===1&&(a=new ka([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Jv(t),[o,a]=t0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(o,a,u);if(!this.we(d))return!1}return!0}static create(t,n,o){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Rp(u,a,n);return o.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const n=Jv(t),[o,a]=t0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(o,a,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),o=t%8;this.bitmap[n]|=1<<o}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,o,a,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,o){const a=new Map;return a.set(t,yc.createSynthesizedTargetChangeForCurrentChange(t,n,o)),new wf(jt.min(),a,new Xe(ne),Ua(),le())}}class yc{constructor(t,n,o,a,u){this.resumeToken=t,this.current=n,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,o){return new yc(o,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,o,a){this.be=t,this.removedTargetIds=n,this.key=o,this.De=a}}class wT{constructor(t,n){this.targetId=t,this.Ce=n}}class bT{constructor(t,n,o=Cn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=o,this.cause=a}}class e0{constructor(){this.ve=0,this.Fe=n0(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=le(),n=le(),o=le();return this.Fe.forEach((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:o=o.add(a);break;default:qt(38017,{changeType:u})}}),new yc(this.Me,this.xe,t,n,o)}qe(){this.Oe=!1,this.Fe=n0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ua(),this.Je=xh(),this.He=xh(),this.Ye=new Xe(ne)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const o=this.nt(n);switch(t.state){case 0:this.rt(n)&&o.Le(t.resumeToken);break;case 1:o.Ke(),o.Ne||o.qe(),o.Le(t.resumeToken);break;case 2:o.Ke(),o.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(o.We(),o.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),o.Le(t.resumeToken));break;default:qt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((o,a)=>{this.rt(a)&&n(a)})}st(t){const n=t.targetId,o=t.Ce.count,a=this.ot(n);if(a){const u=a.target;if(Hm(u))if(o===0){const d=new kt(u.path);this.et(n,d,Un.newNoDocument(d,jt.min()))}else He(o===1,20013,{expectedCount:o});else{const d=this._t(n);if(d!==o){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(n);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,T)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=n;let d,g;try{d=Va(o).toUint8Array()}catch(v){if(v instanceof XE)return Nl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Rp(d,a,u)}catch(v){return Nl(v instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,n,o){return n.Ce.count===o-this.Pt(t,n.targetId)?0:2}Pt(t,n){const o=this.Ge.getRemoteKeysForTarget(n);let a=0;return o.forEach(u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),a++)}),a}Tt(t){const n=new Map;this.ze.forEach((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Hm(g.target)){const v=new kt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Un.newNoDocument(v,t))}u.Be&&(n.set(d,u.ke()),u.qe())}});let o=le();this.He.forEach((u,d)=>{let g=!0;d.forEachWhile(v=>{const T=this.ot(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(u))}),this.je.forEach((u,d)=>d.setReadTime(t));const a=new wf(t,n,this.Ye,this.je,o);return this.je=Ua(),this.Je=xh(),this.He=xh(),this.Ye=new Xe(ne),a}Xe(t,n){if(!this.rt(t))return;const o=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,o),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,o){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),o&&(this.je=this.je.insert(n,o))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new e0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new un(ne),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new un(ne),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e0),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xh(){return new Xe(kt.comparator)}function n0(){return new Xe(kt.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx={and:"AND",or:"OR"};class Yx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zm(s,t){return s.useProto3Json||_f(t)?t:{value:t}}function Ym(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Rl(s){return He(!!s,49232),jt.fromTimestamp(function(n){const o=Na(n);return new Ne(o.seconds,o.nanos)}(s))}function LT(s,t){return Km(s,t).canonicalString()}function Km(s,t){const n=function(a){return new Oe(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?n:n.child(t)}function AT(s){const t=Oe.fromString(s);return He(IT(t),10190,{key:t.toString()}),t}function Em(s,t){const n=AT(t);if(n.get(1)!==s.databaseId.projectId)throw new Ct(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ct(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new kt(xT(n))}function CT(s,t){return LT(s.databaseId,t)}function Kx(s){const t=AT(s);return t.length===4?Oe.emptyPath():xT(t)}function i0(s){return new Oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function xT(s){return He(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Qx(s,t){let n;if("targetChange"in t){t.targetChange;const o=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:qt(39313,{state:T})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=function(T,A){return T.useProto3Json?(He(A===void 0||typeof A=="string",58123),Cn.fromBase64String(A||"")):(He(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Cn.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(T){const A=T.code===void 0?_t.UNKNOWN:TT(T.code);return new Ct(A,T.message||"")}(d);n=new bT(o,a,u,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const a=Em(s,o.document.name),u=Rl(o.document.updateTime),d=o.document.createTime?Rl(o.document.createTime):jt.min(),g=new zr({mapValue:{fields:o.document.fields}}),v=Un.newFoundDocument(a,u,d,g),T=o.targetIds||[],A=o.removedTargetIds||[];n=new Bh(T,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const a=Em(s,o.document),u=o.readTime?Rl(o.readTime):jt.min(),d=Un.newNoDocument(a,u),g=o.removedTargetIds||[];n=new Bh([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const a=Em(s,o.document),u=o.removedTargetIds||[];n=new Bh([],u,a,null)}else{if(!("filter"in t))return qt(11601,{Rt:t});{t.filter;const o=t.filter;o.targetId;const{count:a=0,unchangedNames:u}=o,d=new Bx(a,u),g=o.targetId;n=new wT(g,d)}}return n}function Xx(s,t){return{documents:[CT(s,t.path)]}}function $x(s,t){const n={structuredQuery:{}},o=t.path;let a;t.collectionGroup!==null?(a=o,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=CT(s,a);const u=function(T){if(T.length!==0)return MT(_r.create(T,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const d=function(T){if(T.length!==0)return T.map(A=>function(I){return{field:Sl(I.field),direction:tR(I.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Zm(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(t.endAt)),{ft:n,parent:a}}function Wx(s){let t=Kx(s.parent);const n=s.structuredQuery,o=n.from?n.from.length:0;let a=null;if(o>0){He(o===1,65062);const A=n.from[0];A.allDescendants?a=A.collectionId:t=t.child(A.collectionId)}let u=[];n.where&&(u=function(M){const I=RT(M);return I instanceof _r&&sT(I)?I.getFilters():[I]}(n.where));let d=[];n.orderBy&&(d=function(M){return M.map(I=>function(nt){return new ef(Ll(nt.field),function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction))}(I))}(n.orderBy));let g=null;n.limit&&(g=function(M){let I;return I=typeof M=="object"?M.value:M,_f(I)?null:I}(n.limit));let v=null;n.startAt&&(v=function(M){const I=!!M.before,$=M.values||[];return new tf($,I)}(n.startAt));let T=null;return n.endAt&&(T=function(M){const I=!M.before,$=M.values||[];return new tf($,I)}(n.endAt)),wx(t,a,d,u,g,"F",v,T)}function Jx(s,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Ll(n.unaryFilter.field);return nn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=Ll(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ll(n.unaryFilter.field);return nn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ll(n.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}}(s):s.fieldFilter!==void 0?function(n){return nn.create(Ll(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(o=>RT(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return qt(1026)}}(n.compositeFilter.op))}(s):qt(30097,{filter:s})}function tR(s){return Gx[s]}function eR(s){return Fx[s]}function nR(s){return Zx[s]}function Sl(s){return{fieldPath:s.canonicalString()}}function Ll(s){return Bn.fromServerFormat(s.fieldPath)}function MT(s){return s instanceof nn?function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(qv(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(qv(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:eR(n.op),value:n.value}}}(s):s instanceof _r?function(n){const o=n.getFilters().map(a=>MT(a));return o.length===1?o[0]:{compositeFilter:{op:nR(n.op),filters:o}}}(s):qt(54877,{filter:s})}function IT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,o,a,u=jt.min(),d=jt.min(),g=Cn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Ma(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.yt=t}}function rR(s){const t=Wx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?qm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.Cn=new aR}addToCollectionParentIndex(t,n){return this.Cn.add(n),ut.resolve()}getCollectionParents(t,n){return ut.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ut.resolve()}deleteFieldIndex(t,n){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,n){return ut.resolve()}getDocumentsMatchingTarget(t,n){return ut.resolve(null)}getIndexType(t,n){return ut.resolve(0)}getFieldIndexes(t,n){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,n){return ut.resolve(Oa.min())}getMinOffsetFromCollectionGroup(t,n){return ut.resolve(Oa.min())}updateCollectionGroup(t,n,o){return ut.resolve()}updateIndexEntries(t,n){return ut.resolve()}}class aR{constructor(){this.index={}}add(t){const n=t.lastSegment(),o=t.popLast(),a=this.index[n]||new un(Oe.comparator),u=!a.has(o);return this.index[n]=a.add(o),u}has(t){const n=t.lastSegment(),o=t.popLast(),a=this.index[n];return a&&a.has(o)}getEntries(t){return(this.index[t]||new un(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class ri{static withCacheSize(t){return new ri(t,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(DT,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LruGarbageCollector",oR=1048576;function a0([s,t],[n,o]){const a=ne(s,n);return a===0?ne(t,o):a}class lR{constructor(t){this.Ir=t,this.buffer=new un(a0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();a0(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uR{constructor(t,n,o){this.garbageCollector=t,this.asyncQueue=n,this.localStore=o,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){St(s0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ql(n)?St(s0,"Ignoring IndexedDB error during garbage collection: ",n):await mf(n)}await this.Vr(3e5)})}}class cR{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(o=>Math.floor(n/100*o))}nthSequenceNumber(t,n){if(n===0)return ut.resolve(pf.ce);const o=new lR(n);return this.mr.forEachTarget(t,a=>o.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>o.Ar(a))).next(()=>o.maxValue)}removeTargets(t,n,o){return this.mr.removeTargets(t,n,o)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(r0)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let o,a,u,d,g,v,T;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,d=Date.now(),this.nthSequenceNumber(t,a))).next(M=>(o=M,g=Date.now(),this.removeTargets(t,o,n))).next(M=>(u=M,v=Date.now(),this.removeOrphanedDocuments(t,o))).next(M=>(T=Date.now(),wl()<=te.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${a} in `+(g-d)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${M} documents in `+(T-v)+`ms
Total Duration: ${T-A}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:M})))}}function hR(s,t){return new cR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.changes=new Oo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?ut.resolve(o):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n,o,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,n){let o=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(o=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(o!==null&&tc(o.mutation,a,Ra.empty(),Ne.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(o=>this.getLocalViewOfDocuments(t,o,le()).next(()=>o))}getLocalViewOfDocuments(t,n,o=le()){const a=Ao();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,o).next(u=>{let d=Zu();return u.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const o=Ao();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,le()))}populateOverlays(t,n,o){const a=[];return o.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(t,a).next(u=>{u.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,o,a){let u=Ua();const d=Ju(),g=function(){return Ju()}();return n.forEach((v,T)=>{const A=o.get(T.key);a.has(T.key)&&(A===void 0||A.mutation instanceof Tf)?u=u.insert(T.key,T):A!==void 0?(d.set(T.key,A.mutation.getFieldMask()),tc(A.mutation,T,A.mutation.getFieldMask(),Ne.now())):d.set(T.key,Ra.empty())}),this.recalculateAndSaveOverlays(t,u).next(v=>(v.forEach((T,A)=>d.set(T,A)),n.forEach((T,A)=>g.set(T,new dR(A,d.get(T)??null))),g))}recalculateAndSaveOverlays(t,n){const o=Ju();let a=new Xe((d,g)=>d-g),u=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(v=>{const T=n.get(v);if(T===null)return;let A=o.get(v)||Ra.empty();A=g.applyToLocalView(T,A),o.set(v,A);const M=(a.get(g.batchId)||le()).add(v);a=a.insert(g.batchId,M)})}).next(()=>{const d=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),T=v.key,A=v.value,M=mT();A.forEach(I=>{if(!u.has(I)){const $=vT(n.get(I),o.get(I));$!==null&&M.set(I,$),u=u.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(t,T,M))}return ut.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,n,o,a){return function(d){return kt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,o,a):this.getDocumentsMatchingCollectionQuery(t,n,o,a)}getNextDocuments(t,n,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,o,a).next(u=>{const d=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,o.largestBatchId,a-u.size):ut.resolve(Ao());let g=rc,v=u;return d.next(T=>ut.forEach(T,(A,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),u.get(A)?ut.resolve():this.remoteDocumentCache.getEntry(t,A).next(I=>{v=v.insert(A,I)}))).next(()=>this.populateOverlays(t,T,u)).next(()=>this.computeViews(t,v,T,le())).next(A=>({batchId:g,changes:Cx(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new kt(n)).next(o=>{let a=Zu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,o,a){const u=n.collectionGroup;let d=Zu();return this.indexManager.getCollectionParents(t,u).next(g=>ut.forEach(g,v=>{const T=function(M,I){return new gc(I,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(t,T,o,a).next(A=>{A.forEach((M,I)=>{d=d.insert(M,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,o,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,o.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,o,u,a))).next(d=>{u.forEach((v,T)=>{const A=T.getKey();d.get(A)===null&&(d=d.insert(A,Un.newInvalidDocument(A)))});let g=Zu();return d.forEach((v,T)=>{const A=u.get(v);A!==void 0&&tc(A.mutation,T,Ra.empty(),Ne.now()),vf(n,T)&&(g=g.insert(v,T))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ut.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Rl(a.createTime)}}(n)),ut.resolve()}getNamedQuery(t,n){return ut.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(a){return{name:a.name,query:rR(a.bundledQuery),readTime:Rl(a.readTime)}}(n)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.overlays=new Xe(kt.comparator),this.qr=new Map}getOverlay(t,n){return ut.resolve(this.overlays.get(n))}getOverlays(t,n){const o=Ao();return ut.forEach(n,a=>this.getOverlay(t,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(t,n,o){return o.forEach((a,u)=>{this.St(t,n,u)}),ut.resolve()}removeOverlaysForBatchId(t,n,o){const a=this.qr.get(o);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(o)),ut.resolve()}getOverlaysForCollection(t,n,o){const a=Ao(),u=n.length+1,d=new kt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,T=v.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===u&&v.largestBatchId>o&&a.set(v.getKey(),v)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,n,o,a){let u=new Xe((T,A)=>T-A);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>o){let A=u.get(T.largestBatchId);A===null&&(A=Ao(),u=u.insert(T.largestBatchId,A)),A.set(T.getKey(),T)}}const g=Ao(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,A)=>g.set(T,A)),!(g.size()>=a)););return ut.resolve(g)}St(t,n,o){const a=this.overlays.get(o.key);if(a!==null){const d=this.qr.get(a.largestBatchId).delete(o.key);this.qr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new Ux(n,o));let u=this.qr.get(n);u===void 0&&(u=le(),this.qr.set(n,u)),this.qr.set(n,u.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Qr=new un(vn.$r),this.Ur=new un(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const o=new vn(t,n);this.Qr=this.Qr.add(o),this.Ur=this.Ur.add(o)}Wr(t,n){t.forEach(o=>this.addReference(o,n))}removeReference(t,n){this.Gr(new vn(t,n))}zr(t,n){t.forEach(o=>this.removeReference(o,n))}jr(t){const n=new kt(new Oe([])),o=new vn(n,t),a=new vn(n,t+1),u=[];return this.Ur.forEachInRange([o,a],d=>{this.Gr(d),u.push(d.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new kt(new Oe([])),o=new vn(n,t),a=new vn(n,t+1);let u=le();return this.Ur.forEachInRange([o,a],d=>{u=u.add(d.key)}),u}containsKey(t){const n=new vn(t,0),o=this.Qr.firstAfterOrEqual(n);return o!==null&&t.isEqual(o.key)}}class vn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return kt.comparator(t.key,n.key)||ne(t.Yr,n.Yr)}static Kr(t,n){return ne(t.Yr,n.Yr)||kt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(vn.$r)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,o,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zx(u,n,o,a);this.mutationQueue.push(d);for(const g of a)this.Zr=this.Zr.add(new vn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return ut.resolve(d)}lookupMutationBatch(t,n){return ut.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const o=n+1,a=this.ei(o),u=a<0?0:a;return ut.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?ix:this.tr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const o=new vn(n,0),a=new vn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([o,a],d=>{const g=this.Xr(d.Yr);u.push(g)}),ut.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let o=new un(ne);return n.forEach(a=>{const u=new vn(a,0),d=new vn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],g=>{o=o.add(g.Yr)})}),ut.resolve(this.ti(o))}getAllMutationBatchesAffectingQuery(t,n){const o=n.path,a=o.length+1;let u=o;kt.isDocumentKey(u)||(u=u.child(""));const d=new vn(new kt(u),0);let g=new un(ne);return this.Zr.forEachWhile(v=>{const T=v.key.path;return!!o.isPrefixOf(T)&&(T.length===a&&(g=g.add(v.Yr)),!0)},d),ut.resolve(this.ti(g))}ti(t){const n=[];return t.forEach(o=>{const a=this.Xr(o);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Zr;return ut.forEach(n.mutations,a=>{const u=new vn(a.key,n.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=o})}ir(t){}containsKey(t,n){const o=new vn(n,0),a=this.Zr.firstAfterOrEqual(o);return ut.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.ri=t,this.docs=function(){return new Xe(kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const o=n.key,a=this.docs.get(o),u=a?a.size:0,d=this.ri(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const o=this.docs.get(n);return ut.resolve(o?o.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(t,n){let o=Ua();return n.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Un.newInvalidDocument(a))}),ut.resolve(o)}getDocumentsMatchingQuery(t,n,o,a){let u=Ua();const d=n.path,g=new kt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:T,value:{document:A}}=v.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||JC(WC(A),o)<=0||(a.has(A.key)||vf(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return ut.resolve(u)}getAllFromCollectionGroup(t,n,o,a){qt(9500)}ii(t,n){return ut.forEach(this.docs,o=>n(o))}newChangeBuffer(t){return new ER(this)}getSize(t){return ut.resolve(this.size)}}class ER extends fR{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(o)}),ut.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.persistence=t,this.si=new Oo(n=>Sp(n),Lp),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(t,n){return this.si.forEach((o,a)=>n(a)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.oi&&(this.oi=n),ut.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Bl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ut.resolve()}updateTargetData(t,n){return this.Pr(n),ut.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,n,o){let a=0;const u=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=n&&o.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),ut.waitFor(u).next(()=>a)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,n){const o=this.si.get(n)||null;return ut.resolve(o)}addMatchingKeys(t,n,o){return this._i.Wr(n,o),ut.resolve()}removeMatchingKeys(t,n,o){this._i.zr(n,o);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(d=>{u.push(a.markPotentiallyOrphaned(t,d))}),ut.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ut.resolve()}getMatchingKeysForTargetId(t,n){const o=this._i.Hr(n);return ut.resolve(o)}containsKey(t,n){return ut.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n){this.ui={},this.overlays={},this.ci=new pf(0),this.li=!1,this.li=!0,this.hi=new gR,this.referenceDelegate=t(this),this.Pi=new TR(this),this.indexManager=new sR,this.remoteDocumentCache=function(a){return new vR(a)}(o=>this.referenceDelegate.Ti(o)),this.serializer=new iR(n),this.Ii=new pR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _R,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let o=this.ui[t.toKey()];return o||(o=new yR(n,this.referenceDelegate),this.ui[t.toKey()]=o),o}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,o){St("MemoryPersistence","Starting transaction:",t);const a=new wR(this.ci.next());return this.referenceDelegate.Ei(),o(a).next(u=>this.referenceDelegate.di(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ai(t,n){return ut.or(Object.values(this.ui).map(o=>()=>o.containsKey(t,n)))}}class wR extends ex{constructor(t){super(),this.currentSequenceNumber=t}}class Ip{constructor(t){this.persistence=t,this.Ri=new Mp,this.Vi=null}static mi(t){return new Ip(t)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(t,n,o){return this.Ri.addReference(o,n),this.fi.delete(o.toString()),ut.resolve()}removeReference(t,n,o){return this.Ri.removeReference(o,n),this.fi.add(o.toString()),ut.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ut.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(u=>this.fi.add(u.toString()))}).next(()=>o.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,o=>{const a=kt.fromPath(o);return this.gi(t,a).next(u=>{u||n.removeEntry(a,jt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(o=>{o?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return ut.or([()=>ut.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class sf{constructor(t,n){this.persistence=t,this.pi=new Oo(o=>sx(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=hR(this,n)}static mi(t,n){return new sf(t,n)}Ei(){}di(t){return ut.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>n.next(a=>o+a))}wr(t){let n=0;return this.pr(t,o=>{n++}).next(()=>n)}pr(t,n){return ut.forEach(this.pi,(o,a)=>this.br(t,o,a).next(u=>u?ut.resolve():n(a)))}removeTargets(t,n,o){return this.persistence.getTargetCache().removeTargets(t,n,o)}removeOrphanedDocuments(t,n){let o=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(t,d=>this.br(t,d,n).next(g=>{g||(o++,u.removeEntry(d,jt.min()))})).next(()=>u.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ut.resolve()}removeTarget(t,n){const o=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,n,o){return this.pi.set(o,t.currentSequenceNumber),ut.resolve()}removeReference(t,n,o){return this.pi.set(o,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ut.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zh(t.data.value)),n}br(t,n,o){return ut.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return ut.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n,o,a){this.targetId=t,this.fromCache=n,this.Es=o,this.ds=a}static As(t,n){let o=le(),a=le();for(const u of n.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Dp(t,n.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return TS()?8:nx(Hn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,o,a){const u={result:null};return this.ys(t,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.ws(t,n,a,o).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new bR;return this.Ss(t,n,d).next(g=>{if(u.result=g,this.Vs)return this.bs(t,n,d,g.size)})}).next(()=>u.result)}bs(t,n,o,a){return o.documentReadCount<this.fs?(wl()<=te.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(wl()<=te.DEBUG&&St("QueryEngine","Query:",bl(n),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.gs*a?(wl()<=te.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Br(n))):ut.resolve())}ys(t,n){if(Kv(n))return ut.resolve(null);let o=Br(n);return this.indexManager.getIndexType(t,o).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=qm(n,null,"F"),o=Br(n)),this.indexManager.getDocumentsMatchingTarget(t,o).next(u=>{const d=le(...u);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,o).next(v=>{const T=this.Ds(n,g);return this.Cs(n,T,d,v.readTime)?this.ys(t,qm(n,null,"F")):this.vs(t,T,n,v)}))})))}ws(t,n,o,a){return Kv(n)||a.isEqual(jt.min())?ut.resolve(null):this.ps.getDocuments(t,o).next(u=>{const d=this.Ds(n,u);return this.Cs(n,d,o,a)?ut.resolve(null):(wl()<=te.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bl(n)),this.vs(t,d,n,$C(a,rc)).next(g=>g))})}Ds(t,n){let o=new un(fT(t));return n.forEach((a,u)=>{vf(t,u)&&(o=o.add(u))}),o}Cs(t,n,o,a){if(t.limit===null)return!1;if(o.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(t,n,o){return wl()<=te.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",bl(n)),this.ps.getDocumentsMatchingQuery(t,n,Oa.min(),o)}vs(t,n,o,a){return this.ps.getDocumentsMatchingQuery(t,o,a).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",LR=3e8;class AR{constructor(t,n,o,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new Xe(ne),this.xs=new Oo(u=>Sp(u),Lp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(o)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function CR(s,t,n,o){return new AR(s,t,n,o)}async function kT(s,t){const n=oe(s);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(o))).next(u=>{const d=[],g=[];let v=le();for(const T of a){d.push(T.batchId);for(const A of T.mutations)v=v.add(A.key)}for(const T of u){g.push(T.batchId);for(const A of T.mutations)v=v.add(A.key)}return n.localDocuments.getDocuments(o,v).next(T=>({Ls:T,removedBatchIds:d,addedBatchIds:g}))})})}function OT(s){const t=oe(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function xR(s,t){const n=oe(s),o=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const g=[];t.targetChanges.forEach((A,M)=>{const I=a.get(M);if(!I)return;g.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,M).next(()=>n.Pi.addMatchingKeys(u,A.addedDocuments,M)));let $=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(M)!==null?$=$.withResumeToken(Cn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):A.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(A.resumeToken,o)),a=a.insert(M,$),function(tt,st,ct){return tt.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=LR?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0}(I,$,A)&&g.push(n.Pi.updateTargetData(u,$))});let v=Ua(),T=le();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),g.push(RR(u,d,t.documentUpdates).next(A=>{v=A.ks,T=A.qs})),!o.isEqual(jt.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next(M=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,o));g.push(A)}return ut.waitFor(g).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,v,T)).next(()=>v)}).then(u=>(n.Ms=a,u))}function RR(s,t,n){let o=le(),a=le();return n.forEach(u=>o=o.add(u)),t.getEntries(s,o).next(u=>{let d=Ua();return n.forEach((g,v)=>{const T=u.get(g);v.isFoundDocument()!==T.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(jt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):St(Pp,"Ignoring outdated watch update for ",g,". Current version:",T.version," Watch version:",v.version)}),{ks:d,qs:a}})}function MR(s,t){const n=oe(s);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return n.Pi.getTargetData(o,t).next(u=>u?(a=u,ut.resolve(a)):n.Pi.allocateTargetId(o).next(d=>(a=new Ma(t,d,"TargetPurposeListen",o.currentSequenceNumber),n.Pi.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=n.Ms.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(o.targetId,o),n.xs.set(t,o.targetId)),o})}async function Qm(s,t,n){const o=oe(s),a=o.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",u,d=>o.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Ql(d))throw d;St(Pp,`Failed to update sequence numbers for target ${t}: ${d}`)}o.Ms=o.Ms.remove(t),o.xs.delete(a.target)}function o0(s,t,n){const o=oe(s);let a=jt.min(),u=le();return o.persistence.runTransaction("Execute query","readwrite",d=>function(v,T,A){const M=oe(v),I=M.xs.get(A);return I!==void 0?ut.resolve(M.Ms.get(I)):M.Pi.getTargetData(T,A)}(o,d,Br(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,o.Pi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{u=v})}).next(()=>o.Fs.getDocumentsMatchingQuery(d,t,n?a:jt.min(),n?u:le())).next(g=>(IR(o,Sx(t),g),{documents:g,Qs:u})))}function IR(s,t,n){let o=s.Os.get(t)||jt.min();n.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),s.Os.set(t,o)}class l0{constructor(){this.activeTargetIds=Mx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DR{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,o){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,o){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(t,n,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){St(u0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){St(u0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function Xm(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",kR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${o}/databases/${a}`,this.Wo=this.databaseId.database===Wh?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Go(t,n,o,a,u){const d=Xm(),g=this.zo(t,n.toUriEncodedString());St(Tm,`Sending RPC '${t}' ${d}:`,g,o);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,a,u);const{host:T}=new URL(g),A=Fl(T);return this.Jo(t,g,v,o,A).then(M=>(St(Tm,`Received RPC '${t}' ${d}: `,M),M),M=>{throw Nl(Tm,`RPC '${t}' ${d} failed with error: `,M,"url: ",g,"request:",o),M})}Ho(t,n,o,a,u,d){return this.Go(t,n,o,a,u)}jo(t,n,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}zo(t,n){const o=kR[t];return`${this.Uo}/v1/${n}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class VR extends OR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,o,a,u){const d=Xm();return new Promise((g,v)=>{const T=new UE;T.setWithCredentials(!0),T.listenOnce(BE.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Vh.NO_ERROR:const M=T.getResponseJson();St(Vn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(M)),g(M);break;case Vh.TIMEOUT:St(Vn,`RPC '${t}' ${d} timed out`),v(new Ct(_t.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const I=T.getStatus();if(St(Vn,`RPC '${t}' ${d} failed with status:`,I,"response text:",T.getResponseText()),I>0){let $=T.getResponseJson();Array.isArray($)&&($=$[0]);const nt=$?.error;if(nt&&nt.status&&nt.message){const tt=function(ct){const wt=ct.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(wt)>=0?wt:_t.UNKNOWN}(nt.status);v(new Ct(tt,nt.message))}else v(new Ct(_t.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new Ct(_t.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:t,streamId:d,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{St(Vn,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(a);St(Vn,`RPC '${t}' ${d} sending request:`,a),T.send(n,"POST",A,o,15)})}T_(t,n,o){const a=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=qE(),g=jE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,o),v.encodeInitMessageHeaders=!0;const A=u.join("");St(Vn,`Creating RPC '${t}' stream ${a}: ${A}`,v);const M=d.createWebChannel(A,v);this.I_(M);let I=!1,$=!1;const nt=new NR({Yo:st=>{$?St(Vn,`Not sending because RPC '${t}' stream ${a} is closed:`,st):(I||(St(Vn,`Opening RPC '${t}' stream ${a} transport.`),M.open(),I=!0),St(Vn,`RPC '${t}' stream ${a} sending:`,st),M.send(st))},Zo:()=>M.close()}),tt=(st,ct,wt)=>{st.listen(ct,mt=>{try{wt(mt)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return tt(M,Fu.EventType.OPEN,()=>{$||(St(Vn,`RPC '${t}' stream ${a} transport opened.`),nt.o_())}),tt(M,Fu.EventType.CLOSE,()=>{$||($=!0,St(Vn,`RPC '${t}' stream ${a} transport closed`),nt.a_(),this.E_(M))}),tt(M,Fu.EventType.ERROR,st=>{$||($=!0,Nl(Vn,`RPC '${t}' stream ${a} transport errored. Name:`,st.name,"Message:",st.message),nt.a_(new Ct(_t.UNAVAILABLE,"The operation could not be completed")))}),tt(M,Fu.EventType.MESSAGE,st=>{if(!$){const ct=st.data[0];He(!!ct,16349);const wt=ct,mt=wt?.error||wt[0]?.error;if(mt){St(Vn,`RPC '${t}' stream ${a} received error:`,mt);const Ht=mt.status;let Rt=function(D){const k=en[D];if(k!==void 0)return TT(k)}(Ht),Zt=mt.message;Rt===void 0&&(Rt=_t.INTERNAL,Zt="Unknown error status: "+Ht+" with message "+mt.message),$=!0,nt.a_(new Ct(Rt,Zt)),M.close()}else St(Vn,`RPC '${t}' stream ${a} received:`,ct),nt.u_(ct)}}),tt(g,HE.STAT_EVENT,st=>{st.stat===Om.PROXY?St(Vn,`RPC '${t}' stream ${a} detected buffering proxy`):st.stat===Om.NOPROXY&&St(Vn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{nt.__()},0),nt}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(s){return new Yx(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n,o=1e3,a=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=o,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-o);a>0&&St("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class zR{constructor(t,n,o,a,u,d,g,v){this.Mi=t,this.S_=o,this.b_=a,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===_t.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.D_===n&&this.G_(o,a)},o=>{t(()=>{const a=new Ct(_t.UNKNOWN,"Fetching auth token failed: "+o.message);return this.z_(a)})})}G_(t,n){const o=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{o(()=>this.listener.Xo())}),this.stream.t_(()=>{o(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{o(()=>this.z_(a))}),this.stream.onMessage(a=>{o(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return St(h0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(St(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UR extends zR{constructor(t,n,o,a,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,a,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Qx(this.serializer,t),o=function(u){if(!("targetChange"in u))return jt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?jt.min():d.readTime?Rl(d.readTime):jt.min()}(t);return this.listener.H_(n,o)}Y_(t){const n={};n.database=i0(this.serializer),n.addTarget=function(u,d){let g;const v=d.target;if(g=Hm(v)?{documents:Xx(u,v)}:{query:$x(u,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=ST(u,d.resumeToken);const T=Zm(u,d.expectedCount);T!==null&&(g.expectedCount=T)}else if(d.snapshotVersion.compareTo(jt.min())>0){g.readTime=Ym(u,d.snapshotVersion.toTimestamp());const T=Zm(u,d.expectedCount);T!==null&&(g.expectedCount=T)}return g}(this.serializer,t);const o=Jx(this.serializer,t);o&&(n.labels=o),this.q_(n)}Z_(t){const n={};n.database=i0(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{}class HR extends BR{constructor(t,n,o,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=o,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ct(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Go(t,Km(n,o),a,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(_t.UNKNOWN,u.toString())})}Ho(t,n,o,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,Km(n,o),a,d,g,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ct(_t.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):St("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="RemoteStore";class qR{constructor(t,n,o,a,u){this.localStore=t,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(d=>{o.enqueueAndForget(async()=>{Ec(this)&&(St(Hl,"Restarting streams for network reachability change."),await async function(v){const T=oe(v);T.Ea.add(4),await vc(T),T.Ra.set("Unknown"),T.Ea.delete(4),await Sf(T)}(this))})}),this.Ra=new jR(o,a)}}async function Sf(s){if(Ec(s))for(const t of s.da)await t(!0)}async function vc(s){for(const t of s.da)await t(!1)}function VT(s,t){const n=oe(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Vp(n)?Np(n):$l(n).O_()&&Op(n,t))}function kp(s,t){const n=oe(s),o=$l(n);n.Ia.delete(t),o.O_()&&zT(n,t),n.Ia.size===0&&(o.O_()?o.L_():Ec(n)&&n.Ra.set("Unknown"))}function Op(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$l(s).Y_(t)}function zT(s,t){s.Va.Ue(t),$l(s).Z_(t)}function Np(s){s.Va=new qx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),$l(s).start(),s.Ra.ua()}function Vp(s){return Ec(s)&&!$l(s).x_()&&s.Ia.size>0}function Ec(s){return oe(s).Ea.size===0}function UT(s){s.Va=void 0}async function GR(s){s.Ra.set("Online")}async function FR(s){s.Ia.forEach((t,n)=>{Op(s,t)})}async function ZR(s,t){UT(s),Vp(s)?(s.Ra.ha(t),Np(s)):s.Ra.set("Unknown")}async function YR(s,t,n){if(s.Ra.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await async function(a,u){const d=u.cause;for(const g of u.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,d),a.Ia.delete(g),a.Va.removeTarget(g))}(s,t)}catch(o){St(Hl,"Failed to remove targets %s: %s ",t.targetIds.join(","),o),await f0(s,o)}else if(t instanceof Bh?s.Va.Ze(t):t instanceof wT?s.Va.st(t):s.Va.tt(t),!n.isEqual(jt.min()))try{const o=await OT(s.localStore);n.compareTo(o)>=0&&await function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const A=u.Ia.get(T);A&&u.Ia.set(T,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,T)=>{const A=u.Ia.get(v);if(!A)return;u.Ia.set(v,A.withResumeToken(Cn.EMPTY_BYTE_STRING,A.snapshotVersion)),zT(u,v);const M=new Ma(A.target,v,T,A.sequenceNumber);Op(u,M)}),u.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(o){St(Hl,"Failed to raise snapshot:",o),await f0(s,o)}}async function f0(s,t,n){if(!Ql(t))throw t;s.Ea.add(1),await vc(s),s.Ra.set("Offline"),n||(n=()=>OT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{St(Hl,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Sf(s)})}async function d0(s,t){const n=oe(s);n.asyncQueue.verifyOperationInProgress(),St(Hl,"RemoteStore received new credentials");const o=Ec(n);n.Ea.add(3),await vc(n),o&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Sf(n)}async function KR(s,t){const n=oe(s);t?(n.Ea.delete(2),await Sf(n)):t||(n.Ea.add(2),await vc(n),n.Ra.set("Unknown"))}function $l(s){return s.ma||(s.ma=function(n,o,a){const u=oe(n);return u.sa(),new UR(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(s.datastore,s.asyncQueue,{Xo:GR.bind(null,s),t_:FR.bind(null,s),r_:ZR.bind(null,s),H_:YR.bind(null,s)}),s.da.push(async t=>{t?(s.ma.B_(),Vp(s)?Np(s):s.Ra.set("Unknown")):(await s.ma.stop(),UT(s))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n,o,a,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,o,a,u){const d=Date.now()+o,g=new zp(t,n,d,a,u);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BT(s,t){if(xs("AsyncQueue",`${t}: ${s}`),Ql(s))return new Ct(_t.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(t){return new Ml(t.comparator)}constructor(t){this.comparator=t?(n,o)=>t(n,o)||kt.comparator(n.key,o.key):(n,o)=>kt.comparator(n.key,o.key),this.keyedMap=Zu(),this.sortedSet=new Xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,o)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ml)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const o=new Ml;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ga=new Xe(kt.comparator)}track(t){const n=t.doc.key,o=this.ga.get(n);o?t.type!==0&&o.type===3?this.ga=this.ga.insert(n,t):t.type===3&&o.type!==1?this.ga=this.ga.insert(n,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.ga=this.ga.remove(n):t.type===1&&o.type===2?this.ga=this.ga.insert(n,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):qt(63341,{Rt:t,pa:o}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,o)=>{t.push(o)}),t}}class jl{constructor(t,n,o,a,u,d,g,v,T){this.query=t,this.docs=n,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(t,n,o,a,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new jl(t,n,Ml.emptySet(n),d,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,o=t.docChanges;if(n.length!==o.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==o[a].type||!n[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class XR{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,o){const a=oe(n),u=a.queries;a.queries=p0(),u.forEach((d,g)=>{for(const v of g.Sa)v.onError(o)})})(this,new Ct(_t.ABORTED,"Firestore shutting down"))}}function p0(){return new Oo(s=>hT(s),yf)}async function $R(s,t){const n=oe(s);let o=3;const a=t.query;let u=n.queries.get(a);u?!u.ba()&&t.Da()&&(o=2):(u=new QR,o=t.Da()?0:1);try{switch(o){case 0:u.wa=await n.onListen(a,!0);break;case 1:u.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const g=BT(d,`Initialization of query '${bl(t.query)}' failed`);return void t.onError(g)}n.queries.set(a,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Up(n)}async function WR(s,t){const n=oe(s),o=t.query;let a=3;const u=n.queries.get(o);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?a=t.Da()?0:1:!u.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function JR(s,t){const n=oe(s);let o=!1;for(const a of t){const u=a.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(a)&&(o=!0);d.wa=a}}o&&Up(n)}function tM(s,t,n){const o=oe(s),a=o.queries.get(t);if(a)for(const u of a.Sa)u.onError(n);o.queries.delete(t)}function Up(s){s.Ca.forEach(t=>{t.next()})}var $m,_0;(_0=$m||($m={})).Ma="default",_0.Cache="cache";class eM{constructor(t,n,o){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=o||{}}Fa(t){if(!this.options.includeMetadataChanges){const o=[];for(const a of t.docChanges)a.type!==3&&o.push(a);t=new jl(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const o=n!=="Offline";return(!this.options.qa||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=jl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class nM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=fT(t),this.tu=new Ml(this.eu)}get nu(){return this.Ya}ru(t,n){const o=n?n.iu:new m0,a=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=a,g=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,T=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((A,M)=>{const I=a.get(A),$=vf(this.query,M)?M:null,nt=!!I&&this.mutatedKeys.has(I.key),tt=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let st=!1;I&&$?I.data.isEqual($.data)?nt!==tt&&(o.track({type:3,doc:$}),st=!0):this.su(I,$)||(o.track({type:2,doc:$}),st=!0,(v&&this.eu($,v)>0||T&&this.eu($,T)<0)&&(g=!0)):!I&&$?(o.track({type:0,doc:$}),st=!0):I&&!$&&(o.track({type:1,doc:I}),st=!0,(v||T)&&(g=!0)),st&&($?(d=d.add($),u=tt?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),o.track({type:1,doc:A})}return{tu:d,iu:o,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,o,a){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((A,M)=>function($,nt){const tt=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:st})}};return tt($)-tt(nt)}(A.type,M.type)||this.eu(A.doc,M.doc)),this.ou(o),a=a??!1;const g=n&&!a?this._u():[],v=this.Xa.size===0&&this.current&&!a?1:0,T=v!==this.Za;return this.Za=v,d.length!==0||T?{snapshot:new jl(this.query,t.tu,u,d,t.mutatedKeys,v===0,T,!1,!!o&&o.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=le(),this.tu.forEach(o=>{this.uu(o.key)&&(this.Xa=this.Xa.add(o.key))});const n=[];return t.forEach(o=>{this.Xa.has(o)||n.push(new jT(o))}),this.Xa.forEach(o=>{t.has(o)||n.push(new HT(o))}),n}cu(t){this.Ya=t.Qs,this.Xa=le();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bp="SyncEngine";class iM{constructor(t,n,o){this.query=t,this.targetId=n,this.view=o}}class rM{constructor(t){this.key=t,this.hu=!1}}class sM{constructor(t,n,o,a,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oo(g=>hT(g),yf),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(kt.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aM(s,t,n=!0){const o=YT(s);let a;const u=o.Tu.get(t);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await qT(o,t,n,!0),a}async function oM(s,t){const n=YT(s);await qT(n,t,!0,!1)}async function qT(s,t,n,o){const a=await MR(s.localStore,Br(t)),u=a.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return o&&(g=await lM(s,t,u,d==="current",a.resumeToken)),s.isPrimaryClient&&n&&VT(s.remoteStore,a),g}async function lM(s,t,n,o,a){s.pu=(M,I,$)=>async function(tt,st,ct,wt){let mt=st.view.ru(ct);mt.Cs&&(mt=await o0(tt.localStore,st.query,!1).then(({documents:H})=>st.view.ru(H,mt)));const Ht=wt&&wt.targetChanges.get(st.targetId),Rt=wt&&wt.targetMismatches.get(st.targetId)!=null,Zt=st.view.applyChanges(mt,tt.isPrimaryClient,Ht,Rt);return y0(tt,st.targetId,Zt.au),Zt.snapshot}(s,M,I,$);const u=await o0(s.localStore,t,!0),d=new nM(t,u.Qs),g=d.ru(u.documents),v=yc.createSynthesizedTargetChangeForCurrentChange(n,o&&s.onlineState!=="Offline",a),T=d.applyChanges(g,s.isPrimaryClient,v);y0(s,n,T.au);const A=new iM(t,n,d);return s.Tu.set(t,A),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),T.snapshot}async function uM(s,t,n){const o=oe(s),a=o.Tu.get(t),u=o.Iu.get(a.targetId);if(u.length>1)return o.Iu.set(a.targetId,u.filter(d=>!yf(d,t))),void o.Tu.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await Qm(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),n&&kp(o.remoteStore,a.targetId),Wm(o,a.targetId)}).catch(mf)):(Wm(o,a.targetId),await Qm(o.localStore,a.targetId,!0))}async function cM(s,t){const n=oe(s),o=n.Tu.get(t),a=n.Iu.get(o.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),kp(n.remoteStore,o.targetId))}async function GT(s,t){const n=oe(s);try{const o=await xR(n.localStore,t);t.targetChanges.forEach((a,u)=>{const d=n.Au.get(u);d&&(He(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.hu=!0:a.modifiedDocuments.size>0?He(d.hu,14607):a.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))}),await ZT(n,o,t)}catch(o){await mf(o)}}function g0(s,t,n){const o=oe(s);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const a=[];o.Tu.forEach((u,d)=>{const g=d.view.va(t);g.snapshot&&a.push(g.snapshot)}),function(d,g){const v=oe(d);v.onlineState=g;let T=!1;v.queries.forEach((A,M)=>{for(const I of M.Sa)I.va(g)&&(T=!0)}),T&&Up(v)}(o.eventManager,t),a.length&&o.Pu.H_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function hM(s,t,n){const o=oe(s);o.sharedClientState.updateQueryState(t,"rejected",n);const a=o.Au.get(t),u=a&&a.key;if(u){let d=new Xe(kt.comparator);d=d.insert(u,Un.newNoDocument(u,jt.min()));const g=le().add(u),v=new wf(jt.min(),new Map,new Xe(ne),d,g);await GT(o,v),o.du=o.du.remove(u),o.Au.delete(t),Hp(o)}else await Qm(o.localStore,t,!1).then(()=>Wm(o,t,n)).catch(mf)}function Wm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Iu.get(t))s.Tu.delete(o),n&&s.Pu.yu(o,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach(o=>{s.Ru.containsKey(o)||FT(s,o)})}function FT(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(kp(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Hp(s))}function y0(s,t,n){for(const o of n)o instanceof HT?(s.Ru.addReference(o.key,t),fM(s,o)):o instanceof jT?(St(Bp,"Document no longer in limbo: "+o.key),s.Ru.removeReference(o.key,t),s.Ru.containsKey(o.key)||FT(s,o.key)):qt(19791,{wu:o})}function fM(s,t){const n=t.key,o=n.path.canonicalString();s.du.get(n)||s.Eu.has(o)||(St(Bp,"New document in limbo: "+n),s.Eu.add(o),Hp(s))}function Hp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new kt(Oe.fromString(t)),o=s.fu.next();s.Au.set(o,new rM(n)),s.du=s.du.insert(n,o),VT(s.remoteStore,new Ma(Br(uT(n.path)),o,"TargetPurposeLimboResolution",pf.ce))}}async function ZT(s,t,n){const o=oe(s),a=[],u=[],d=[];o.Tu.isEmpty()||(o.Tu.forEach((g,v)=>{d.push(o.pu(v,t,n).then(T=>{if((T||n)&&o.isPrimaryClient){const A=T?!T.fromCache:n?.targetChanges.get(v.targetId)?.current;o.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(T){a.push(T);const A=Dp.As(v.targetId,T);u.push(A)}}))}),await Promise.all(d),o.Pu.H_(a),await async function(v,T){const A=oe(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ut.forEach(T,I=>ut.forEach(I.Es,$=>A.persistence.referenceDelegate.addReference(M,I.targetId,$)).next(()=>ut.forEach(I.ds,$=>A.persistence.referenceDelegate.removeReference(M,I.targetId,$)))))}catch(M){if(!Ql(M))throw M;St(Pp,"Failed to update sequence numbers: "+M)}for(const M of T){const I=M.targetId;if(!M.fromCache){const $=A.Ms.get(I),nt=$.snapshotVersion,tt=$.withLastLimboFreeSnapshotVersion(nt);A.Ms=A.Ms.insert(I,tt)}}}(o.localStore,u))}async function dM(s,t){const n=oe(s);if(!n.currentUser.isEqual(t)){St(Bp,"User change. New user:",t.toKey());const o=await kT(n.localStore,t);n.currentUser=t,function(u,d){u.mu.forEach(g=>{g.forEach(v=>{v.reject(new Ct(_t.CANCELLED,d))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await ZT(n,o.Ls)}}function mM(s,t){const n=oe(s),o=n.Au.get(t);if(o&&o.hu)return le().add(o.key);{let a=le();const u=n.Iu.get(t);if(!u)return a;for(const d of u){const g=n.Tu.get(d);a=a.unionWith(g.view.nu)}return a}}function YT(s){const t=oe(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hM.bind(null,t),t.Pu.H_=JR.bind(null,t.eventManager),t.Pu.yu=tM.bind(null,t.eventManager),t}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return CR(this.persistence,new SR,t.initialUser,this.serializer)}Cu(t){return new PT(Ip.mi,this.serializer)}Du(t){return new DR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class pM extends af{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){He(this.persistence.referenceDelegate instanceof sf,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new uR(o,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new PT(o=>sf.mi(o,n),this.serializer)}}class Jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>g0(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,this.syncEngine),await KR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new XR}()}createDatastore(t){const n=bf(t.databaseInfo.databaseId),o=function(u){return new VR(u)}(t.databaseInfo);return function(u,d,g,v){return new HR(u,d,g,v)}(t.authCredentials,t.appCheckCredentials,o,n)}createRemoteStore(t){return function(o,a,u,d,g){return new qR(o,a,u,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>g0(this.syncEngine,n,0),function(){return c0.v()?new c0:new PR}())}createSyncEngine(t,n){return function(a,u,d,g,v,T,A){const M=new sM(a,u,d,g,v,T);return A&&(M.gu=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const o=oe(n);St(Hl,"RemoteStore shutting down."),o.Ea.add(5),await vc(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class gM{constructor(t,n,o,a,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=a,this.user=zn.UNAUTHENTICATED,this.clientId=ZE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,async d=>{St(Ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(o,d=>(St(Ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const o=BT(n,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function bm(s,t){s.asyncQueue.verifyOperationInProgress(),St(Ba,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let o=n.initialUser;s.setCredentialChangeListener(async a=>{o.isEqual(a)||(await kT(t.localStore,a),o=a)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function v0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await yM(s);St(Ba,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(o=>d0(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,a)=>d0(t.remoteStore,a)),s._onlineComponents=t}async function yM(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){St(Ba,"Using user provided OfflineComponentProvider");try{await bm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===_t.FAILED_PRECONDITION||a.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await bm(s,new af)}}else St(Ba,"Using default OfflineComponentProvider"),await bm(s,new pM(void 0));return s._offlineComponents}async function vM(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(St(Ba,"Using user provided OnlineComponentProvider"),await v0(s,s._uninitializedComponentsProvider._online)):(St(Ba,"Using default OnlineComponentProvider"),await v0(s,new Jm))),s._onlineComponents}async function EM(s){const t=await vM(s),n=t.eventManager;return n.onListen=aM.bind(null,t.syncEngine),n.onUnlisten=uM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cM.bind(null,t.syncEngine),n}function TM(s,t,n={}){const o=new xo;return s.asyncQueue.enqueueAndForget(async()=>function(u,d,g,v,T){const A=new _M({next:I=>{A.Nu(),d.enqueueAndForget(()=>WR(u,M)),I.fromCache&&v.source==="server"?T.reject(new Ct(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(I)},error:I=>T.reject(I)}),M=new eM(g,A,{includeMetadataChanges:!0,qa:!0});return $R(u,M)}(await EM(s),s.asyncQueue,t,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firestore.googleapis.com",T0=!0;class w0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=T0}else this.host=t.host,this.ssl=t.ssl??T0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oR)throw new Ct(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT(t.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ct(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ct(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ct(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jp{constructor(t,n,o,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new BC;switch(o.type){case"firstParty":return new GC(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ct(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=E0.get(n);o&&(St("ComponentProvider","Removing Datastore"),E0.delete(n),o.terminate())}(this),Promise.resolve()}}function wM(s,t,n,o={}){s=Vm(s,jp);const a=Fl(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;a&&(tE(`https://${g}`),eE("Firestore",!0)),u.host!==QT&&u.host!==g&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:a,emulatorOptions:o};if(!Mo(v,d)&&(s._setSettings(v),o.mockUserToken)){let T,A;if(typeof o.mockUserToken=="string")T=o.mockUserToken,A=zn.MOCK_USER;else{T=fS(o.mockUserToken,s._app?.options.projectId);const M=o.mockUserToken.sub||o.mockUserToken.user_id;if(!M)throw new Ct(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new zn(M)}s._authCredentials=new HC(new FE(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Wl(this.firestore,t,this._query)}}class Qn{constructor(t,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qn(this.firestore,t,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,o){if(_c(n,Qn._jsonSchema))return new Qn(t,o||null,new kt(Oe.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:rn("string",Qn._jsonSchemaVersion),referencePath:rn("string")};class Il extends Wl{constructor(t,n,o){super(t,n,uT(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qn(this.firestore,null,new kt(t))}withConverter(t){return new Il(this.firestore,t,this._path)}}function bM(s,t,...n){if(s=Gr(s),s instanceof jp){const o=Oe.fromString(t,...n);return kv(o),new Il(s,null,o)}{if(!(s instanceof Qn||s instanceof Il))throw new Ct(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Oe.fromString(t,...n));return kv(o),new Il(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class S0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NT(this,"async_queue_retry"),this._c=()=>{const o=wm();o&&St(b0,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=t;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ql(t))throw t;St(b0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(o=>{throw this.nc=o,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",L0(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=n,n}enqueueAfterDelay(t,n,o){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=zp.createAndSchedule(this,t,n,o,u=>this.hc(u));return this.tc.push(a),a}uc(){this.nc&&qt(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function L0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class XT extends jp{constructor(t,n,o,a){super(t,n,o,a),this.type="firestore",this._queue=new S0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S0(t),this._firestoreClient=void 0,await t}}}function SM(s,t){const n=typeof s=="object"?s:sE(),o=typeof s=="string"?s:Wh,a=cp(n,"firestore").getImmediate({identifier:o});if(!a._initialized){const u=cS("firestore");u&&wM(a,...u)}return a}function LM(s){if(s._terminated)throw new Ct(_t.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AM(s),s._firestoreClient}function AM(s){const t=s._freezeSettings(),n=function(a,u,d,g){return new lx(a,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,KT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new gM(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yi(Cn.fromBase64String(t))}catch(n){throw new Ct(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yi(Cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_c(t,Yi._jsonSchema))return Yi.fromBase64String(t.bytes)}}Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:rn("string",Yi._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ne(this._lat,t._lat)||ne(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(t){if(_c(t,Hr._jsonSchema))return new Hr(t.latitude,t.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:rn("string",Hr._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,a){if(o.length!==a.length)return!1;for(let u=0;u<o.length;++u)if(o[u]!==a[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_c(t,jr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new jr(t.vectorValues);throw new Ct(_t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:rn("string",jr._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;function JT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:s})}}class qp{constructor(t,n,o,a,u,d){this.settings=t,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new qp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),o=this.Vc({path:n,fc:!1});return o.gc(t),o}yc(t){const n=this.path?.child(t),o=this.Vc({path:n,fc:!1});return o.Rc(),o}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return tp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JT(this.Ac)&&CM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class xM{constructor(t,n,o){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=o||bf(t)}Cc(t,n,o,a=!1){return new qp({Ac:t,methodName:n,Dc:o,path:Bn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RM(s){const t=s._freezeSettings(),n=bf(s._databaseId);return new xM(s._databaseId,!!t.ignoreUndefinedProperties,n)}function MM(s,t,n,o=!1){return Gp(n,s.Cc(o?4:3,t))}function Gp(s,t){if(tw(s=Gr(s)))return DM("Unsupported field value:",t,s),IM(s,t);if(s instanceof WT)return function(o,a){if(!JT(a.Ac))throw a.Sc(`${o._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(o,a){const u=[];let d=0;for(const g of o){let v=Gp(g,a.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}}(s,t)}return function(o,a){if((o=Gr(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Ix(a.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const u=Ne.fromDate(o);return{timestampValue:Ym(a.serializer,u)}}if(o instanceof Ne){const u=new Ne(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ym(a.serializer,u)}}if(o instanceof Hr)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Yi)return{bytesValue:ST(a.serializer,o._byteString)};if(o instanceof Qn){const u=a.databaseId,d=o.firestore._databaseId;if(!d.isEqual(u))throw a.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:LT(o.firestore._databaseId||a.databaseId,o._key.path)}}if(o instanceof jr)return function(d,g){return{mapValue:{fields:{[eT]:{stringValue:nT},[Jh]:{arrayValue:{values:d.toArray().map(T=>{if(typeof T!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ap(g.serializer,T)})}}}}}}(o,a);throw a.Sc(`Unsupported field value: ${df(o)}`)}(s,t)}function IM(s,t){const n={};return QE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xl(s,(o,a)=>{const u=Gp(a,t.mc(o));u!=null&&(n[o]=u)}),{mapValue:{fields:n}}}function tw(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ne||s instanceof Hr||s instanceof Yi||s instanceof Qn||s instanceof WT||s instanceof jr)}function DM(s,t,n){if(!tw(n)||!YE(n)){const o=df(n);throw o==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+o)}}const PM=new RegExp("[~\\*/\\[\\]]");function kM(s,t,n){if(t.search(PM)>=0)throw tp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new $T(...t.split("."))._internalPath}catch{throw tp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function tp(s,t,n,o,a){const u=o&&!o.isEmpty(),d=a!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${o}`),d&&(v+=` in document ${a}`),v+=")"),new Ct(_t.INVALID_ARGUMENT,g+s+v)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,o,a,u){this._firestore=t,this._userDataWriter=n,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OM extends ew{data(){return super.data()}}function Fp(s,t){return typeof t=="string"?kM(s,t):t instanceof $T?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ct(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class VM extends Zp{}function zM(s,t,...n){let o=[];t instanceof Zp&&o.push(t),o=o.concat(n),function(u){const d=u.filter(v=>v instanceof Yp).length,g=u.filter(v=>v instanceof Lf).length;if(d>1||d>0&&g>0)throw new Ct(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)s=a._apply(s);return s}class Lf extends VM{constructor(t,n,o){super(),this._field=t,this._op=n,this._value=o,this.type="where"}static _create(t,n,o){return new Lf(t,n,o)}_apply(t){const n=this._parse(t);return nw(t._query,n),new Wl(t.firestore,t.converter,jm(t._query,n))}_parse(t){const n=RM(t.firestore);return function(u,d,g,v,T,A,M){let I;if(T.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Ct(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){C0(M,A);const nt=[];for(const tt of M)nt.push(A0(v,u,tt));I={arrayValue:{values:nt}}}else I=A0(v,u,M)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||C0(M,A),I=MM(g,d,M,A==="in"||A==="not-in");return nn.create(T,A,I)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function UM(s,t,n){const o=t,a=Fp("where",s);return Lf._create(a,o,n)}class Yp extends Zp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Yp(t,n)}_parse(t){const n=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,u){let d=a;const g=u.getFlattenedFilters();for(const v of g)nw(d,v),d=jm(d,v)}(t._query,n),new Wl(t.firestore,t.converter,jm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(s,t,n){if(typeof(n=Gr(n))=="string"){if(n==="")throw new Ct(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&n.indexOf("/")!==-1)throw new Ct(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=t.path.child(Oe.fromString(n));if(!kt.isDocumentKey(o))throw new Ct(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return jv(s,new kt(o))}if(n instanceof Qn)return jv(s,n._key);throw new Ct(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function C0(s,t){if(!Array.isArray(s)||s.length===0)throw new Ct(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nw(s,t){const n=function(a,u){for(const d of a)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ct(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class BM{convertValue(t,n="none"){switch(za(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Va(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const o={};return Xl(t,(a,u)=>{o[a]=this.convertValue(u,n)}),o}convertVectorValue(t){const n=t.fields?.[Jh].arrayValue?.values?.map(o=>Qe(o.doubleValue));return new jr(n)}convertGeoPoint(t){return new Hr(Qe(t.latitude),Qe(t.longitude))}convertArray(t,n){return(t.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(t,n){switch(n){case"previous":const o=gf(t);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(sc(t));default:return null}}convertTimestamp(t){const n=Na(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const o=Oe.fromString(t);He(IT(o),9688,{name:t});const a=new ac(o.get(1),o.get(3)),u=new kt(o.popFirst(5));return a.isEqual(n)||xs(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Mh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dl extends ew{constructor(t,n,o,a,u,d){super(t,n,o,a,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const o=this._document.data.field(Fp("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(_t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:rn("string",Dl._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Hh extends Dl{data(t={}){return super.data(t)}}class Pl{constructor(t,n,o,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Mh(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(o=>{t.call(n,new Hh(this._firestore,this._userDataWriter,o.key,o,new Mh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(g=>{const v=new Hh(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Mh(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const v=new Hh(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Mh(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let T=-1,A=-1;return g.type!==0&&(T=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:HM(g.type),doc:v,oldIndex:T,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(_t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ZE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],a=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),o.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HM(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:s})}}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:rn("string",Pl._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class jM extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function qM(s){s=Vm(s,Wl);const t=Vm(s.firestore,XT),n=LM(t),o=new jM(t);return NM(s._query),TM(n,s._query).then(a=>new Pl(t,o,s,a))}(function(t,n=!0){(function(a){Kl=a})(Zl),kl(new Io("firestore",(o,{instanceIdentifier:a,options:u})=>{const d=o.getProvider("app").getImmediate(),g=new XT(new jC(o.getProvider("auth-internal")),new FC(d,o.getProvider("app-check-internal")),function(T,A){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Ct(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(T.options.projectId,A)}(d,a),d);return u={useFetchStreams:n,...u},g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),Pa(Mv,Iv,t),Pa(Mv,Iv,"esm2020")})();const GM={apiKey:"AIzaSyByYExKceEIriZiJjUHsTCYMIB93vNnwRE",authDomain:"solarride-login.firebaseapp.com",projectId:"solarride-login",storageBucket:"solarride-login.firebasestorage.app",messagingSenderId:"596935985769",appId:"1:596935985769:web:29875016c4af230629b0f8"},iw=rE(GM),FM=zC(iw),ZM=SM(iw),YM=new Ts;function KM(){const s=ip();async function t(){try{const o=(await YA(FM,YM)).user.email,a=zM(bM(ZM,"allowedUsers"),UM("email","==",o));(await qM(a)).empty?alert("Access denied!"):(alert("Access granted!"),s("/dashboard"))}catch(n){console.error("Login error:",n)}}return rt.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center px-4",style:{backgroundImage:"url('login-bg.jpg')"},children:[rt.jsx("div",{className:"absolute inset-0 bg-black/40"}),rt.jsxs("div",{className:"relative w-full max-w-md bg-transparent rounded-xl border border-white/20 shadow-2xl p-6 sm:p-8 lg:p-10 space-y-6 backdrop-blur-md text-white",children:[rt.jsx("div",{className:"flex justify-center items-center h-32 w-48 max-w-xs mx-auto",children:rt.jsx("img",{src:"Solar-Ride-logo.png",alt:"Solaride Logo",className:"h-24 max-w-full object-contain"})}),rt.jsxs("div",{className:"text-center",children:[rt.jsx("h2",{className:"text-3xl font-semibold text-shadow-orange-800",children:"TO ENJOY THE RIDE"}),rt.jsx("p",{className:"mt-2 text-sm text-gray-200",children:"Continue with your institutional Google account"})]}),rt.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-3 bg-white/90 border border-gray-300 rounded-lg px-4 py-2 hover:bg-white/70 transition duration-200",children:[rt.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google logo",className:"w-5 h-5 "}),rt.jsx("span",{className:"text-gray-800 font-medium bg-white/20 rounded ",children:"Sign in with Google"})]}),rt.jsxs("p",{className:"text-xs text-gray-300 text-center",children:["By signing in, you agree to our"," ",rt.jsx("a",{href:"#",className:"text-blue-300 hover:underline",children:"Terms"})," and"," ",rt.jsx("a",{href:"#",className:"text-blue-300 hover:underline",children:"Privacy Policy"}),"."]})]})]})}function rw(s,t){const n=K.useRef(t);K.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}const QM=1;function XM(s){return Object.freeze({__version:QM,map:s})}function $M(s,t){return Object.freeze({...s,...t})}const Kp=K.createContext(null);function Qp(){const s=K.use(Kp);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function WM(s){function t(n,o){const{instance:a,context:u}=s(n).current;K.useImperativeHandle(o,()=>a);const{children:d}=n;return d==null?null:Sm.createElement(Kp,{value:u},d)}return K.forwardRef(t)}function JM(s){function t(n,o){const[a,u]=K.useState(!1),{instance:d}=s(n,u).current;K.useImperativeHandle(o,()=>d),K.useEffect(function(){a&&d.update()},[d,a,n.children]);const g=d._contentNode;return g?eS.createPortal(n.children,g):null}return K.forwardRef(t)}function tI(s){function t(n,o){const{instance:a}=s(n).current;return K.useImperativeHandle(o,()=>a),null}return K.forwardRef(t)}function sw(s,t){const n=K.useRef(void 0);K.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function Xp(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function eI(s,t){return function(o,a){const u=Qp(),d=s(Xp(o,u),u);return rw(u.map,o.attribution),sw(d.current,o.eventHandlers),t(d.current,u,o,a),d}}var Ku={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nI=Ku.exports,x0;function iI(){return x0||(x0=1,function(s,t){(function(n,o){o(t)})(nI,function(n){var o="1.9.4";function a(r){var c,m,y,w;for(m=1,y=arguments.length;m<y;m++){w=arguments[m];for(c in w)r[c]=w[c]}return r}var u=Object.create||function(){function r(){}return function(c){return r.prototype=c,new r}}();function d(r,c){var m=Array.prototype.slice;if(r.bind)return r.bind.apply(r,m.call(arguments,1));var y=m.call(arguments,2);return function(){return r.apply(c,y.length?y.concat(m.call(arguments)):arguments)}}var g=0;function v(r){return"_leaflet_id"in r||(r._leaflet_id=++g),r._leaflet_id}function T(r,c,m){var y,w,C,O;return O=function(){y=!1,w&&(C.apply(m,w),w=!1)},C=function(){y?w=arguments:(r.apply(m,arguments),setTimeout(O,c),y=!0)},C}function A(r,c,m){var y=c[1],w=c[0],C=y-w;return r===y&&m?r:((r-w)%C+C)%C+w}function M(){return!1}function I(r,c){if(c===!1)return r;var m=Math.pow(10,c===void 0?6:c);return Math.round(r*m)/m}function $(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function nt(r){return $(r).split(/\s+/)}function tt(r,c){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?u(r.options):{});for(var m in c)r.options[m]=c[m];return r.options}function st(r,c,m){var y=[];for(var w in r)y.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(r[w]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var ct=/\{ *([\w_ -]+) *\}/g;function wt(r,c){return r.replace(ct,function(m,y){var w=c[y];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(c)),w})}var mt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Ht(r,c){for(var m=0;m<r.length;m++)if(r[m]===c)return m;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Zt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var H=0;function D(r){var c=+new Date,m=Math.max(0,16-(c-H));return H=c+m,window.setTimeout(r,m)}var k=window.requestAnimationFrame||Zt("RequestAnimationFrame")||D,B=window.cancelAnimationFrame||Zt("CancelAnimationFrame")||Zt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function z(r,c,m){if(m&&k===D)r.call(c);else return k.call(window,d(r,c))}function j(r){r&&B.call(window,r)}var V={__proto__:null,extend:a,create:u,bind:d,get lastId(){return g},stamp:v,throttle:T,wrapNum:A,falseFn:M,formatNum:I,trim:$,splitWords:nt,setOptions:tt,getParamString:st,template:wt,isArray:mt,indexOf:Ht,emptyImageUrl:Rt,requestFn:k,cancelFn:B,requestAnimFrame:z,cancelAnimFrame:j};function we(){}we.extend=function(r){var c=function(){tt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,y=u(m);y.constructor=c,c.prototype=y;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return r.statics&&a(c,r.statics),r.includes&&(De(r.includes),a.apply(null,[y].concat(r.includes))),a(y,r),delete y.statics,delete y.includes,y.options&&(y.options=m.options?u(m.options):{},a(y.options,r.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,O=y._initHooks.length;C<O;C++)y._initHooks[C].call(this)}},c},we.include=function(r){var c=this.prototype.options;return a(this.prototype,r),r.options&&(this.prototype.options=c,this.mergeOptions(r.options)),this},we.mergeOptions=function(r){return a(this.prototype.options,r),this},we.addInitHook=function(r){var c=Array.prototype.slice.call(arguments,1),m=typeof r=="function"?r:function(){this[r].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function De(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=mt(r)?r:[r];for(var c=0;c<r.length;c++)r[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(r,c,m){if(typeof r=="object")for(var y in r)this._on(y,r[y],c);else{r=nt(r);for(var w=0,C=r.length;w<C;w++)this._on(r[w],c,m)}return this},off:function(r,c,m){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var y in r)this._off(y,r[y],c);else{r=nt(r);for(var w=arguments.length===1,C=0,O=r.length;C<O;C++)w?this._off(r[C]):this._off(r[C],c,m)}return this},_on:function(r,c,m,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(r,c,m)===!1){m===this&&(m=void 0);var w={fn:c,ctx:m};y&&(w.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(w)}},_off:function(r,c,m){var y,w,C;if(this._events&&(y=this._events[r],!!y)){if(arguments.length===1){if(this._firingCount)for(w=0,C=y.length;w<C;w++)y[w].fn=M;delete this._events[r];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var O=this._listens(r,c,m);if(O!==!1){var F=y[O];this._firingCount&&(F.fn=M,this._events[r]=y=y.slice()),y.splice(O,1)}}},fire:function(r,c,m){if(!this.listens(r,m))return this;var y=a({},c,{type:r,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[r];if(w){this._firingCount=this._firingCount+1||1;for(var C=0,O=w.length;C<O;C++){var F=w[C],W=F.fn;F.once&&this.off(r,W,F.ctx),W.call(F.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(r,c,m,y){typeof r!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(y=!!c,w=void 0,m=void 0);var C=this._events&&this._events[r];if(C&&C.length&&this._listens(r,w,m)!==!1)return!0;if(y){for(var O in this._eventParents)if(this._eventParents[O].listens(r,c,m,y))return!0}return!1},_listens:function(r,c,m){if(!this._events)return!1;var y=this._events[r]||[];if(!c)return!!y.length;m===this&&(m=void 0);for(var w=0,C=y.length;w<C;w++)if(y[w].fn===c&&y[w].ctx===m)return w;return!1},once:function(r,c,m){if(typeof r=="object")for(var y in r)this._on(y,r[y],c,!0);else{r=nt(r);for(var w=0,C=r.length;w<C;w++)this._on(r[w],c,m,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[v(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[v(r)],this},_propagateEvent:function(r){for(var c in this._eventParents)this._eventParents[c].fire(r.type,a({layer:r.target,propagatedFrom:r.target},r),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var yt=we.extend(et);function dt(r,c,m){this.x=m?Math.round(r):r,this.y=m?Math.round(c):c}var ie=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(r){return this.clone()._add(P(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(P(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new dt(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new dt(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(r){r=P(r);var c=r.x-this.x,m=r.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(r){return r=P(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=P(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function P(r,c,m){return r instanceof dt?r:mt(r)?new dt(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new dt(r.x,r.y):new dt(r,c,m)}function it(r,c){if(r)for(var m=c?[r,c]:r,y=0,w=m.length;y<w;y++)this.extend(m[y])}it.prototype={extend:function(r){var c,m;if(!r)return this;if(r instanceof dt||typeof r[0]=="number"||"x"in r)c=m=P(r);else if(r=pt(r),c=r.min,m=r.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(r){return P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return P(this.min.x,this.max.y)},getTopRight:function(){return P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var c,m;return typeof r[0]=="number"||r instanceof dt?r=P(r):r=pt(r),r instanceof it?(c=r.min,m=r.max):c=m=r,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(r){r=pt(r);var c=this.min,m=this.max,y=r.min,w=r.max,C=w.x>=c.x&&y.x<=m.x,O=w.y>=c.y&&y.y<=m.y;return C&&O},overlaps:function(r){r=pt(r);var c=this.min,m=this.max,y=r.min,w=r.max,C=w.x>c.x&&y.x<m.x,O=w.y>c.y&&y.y<m.y;return C&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var c=this.min,m=this.max,y=Math.abs(c.x-m.x)*r,w=Math.abs(c.y-m.y)*r;return pt(P(c.x-y,c.y-w),P(m.x+y,m.y+w))},equals:function(r){return r?(r=pt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function pt(r,c){return!r||r instanceof it?r:new it(r,c)}function ft(r,c){if(r)for(var m=c?[r,c]:r,y=0,w=m.length;y<w;y++)this.extend(m[y])}ft.prototype={extend:function(r){var c=this._southWest,m=this._northEast,y,w;if(r instanceof bt)y=r,w=r;else if(r instanceof ft){if(y=r._southWest,w=r._northEast,!y||!w)return this}else return r?this.extend(vt(r)||Et(r)):this;return!c&&!m?(this._southWest=new bt(y.lat,y.lng),this._northEast=new bt(w.lat,w.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(r){var c=this._southWest,m=this._northEast,y=Math.abs(c.lat-m.lat)*r,w=Math.abs(c.lng-m.lng)*r;return new ft(new bt(c.lat-y,c.lng-w),new bt(m.lat+y,m.lng+w))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof bt||"lat"in r?r=vt(r):r=Et(r);var c=this._southWest,m=this._northEast,y,w;return r instanceof ft?(y=r.getSouthWest(),w=r.getNorthEast()):y=w=r,y.lat>=c.lat&&w.lat<=m.lat&&y.lng>=c.lng&&w.lng<=m.lng},intersects:function(r){r=Et(r);var c=this._southWest,m=this._northEast,y=r.getSouthWest(),w=r.getNorthEast(),C=w.lat>=c.lat&&y.lat<=m.lat,O=w.lng>=c.lng&&y.lng<=m.lng;return C&&O},overlaps:function(r){r=Et(r);var c=this._southWest,m=this._northEast,y=r.getSouthWest(),w=r.getNorthEast(),C=w.lat>c.lat&&y.lat<m.lat,O=w.lng>c.lng&&y.lng<m.lng;return C&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,c){return r?(r=Et(r),this._southWest.equals(r.getSouthWest(),c)&&this._northEast.equals(r.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Et(r,c){return r instanceof ft?r:new ft(r,c)}function bt(r,c,m){if(isNaN(r)||isNaN(c))throw new Error("Invalid LatLng object: ("+r+", "+c+")");this.lat=+r,this.lng=+c,m!==void 0&&(this.alt=+m)}bt.prototype={equals:function(r,c){if(!r)return!1;r=vt(r);var m=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return m<=(c===void 0?1e-9:c)},toString:function(r){return"LatLng("+I(this.lat,r)+", "+I(this.lng,r)+")"},distanceTo:function(r){return ee.distance(this,vt(r))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(r){var c=180*r/40075017,m=c/Math.cos(Math.PI/180*this.lat);return Et([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function vt(r,c,m){return r instanceof bt?r:mt(r)&&typeof r[0]!="object"?r.length===3?new bt(r[0],r[1],r[2]):r.length===2?new bt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new bt(r.lat,"lng"in r?r.lng:r.lon,r.alt):c===void 0?null:new bt(r,c,m)}var ge={latLngToPoint:function(r,c){var m=this.projection.project(r),y=this.scale(c);return this.transformation._transform(m,y)},pointToLatLng:function(r,c){var m=this.scale(c),y=this.transformation.untransform(r,m);return this.projection.unproject(y)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(r),y=this.transformation.transform(c.min,m),w=this.transformation.transform(c.max,m);return new it(y,w)},infinite:!1,wrapLatLng:function(r){var c=this.wrapLng?A(r.lng,this.wrapLng,!0):r.lng,m=this.wrapLat?A(r.lat,this.wrapLat,!0):r.lat,y=r.alt;return new bt(m,c,y)},wrapLatLngBounds:function(r){var c=r.getCenter(),m=this.wrapLatLng(c),y=c.lat-m.lat,w=c.lng-m.lng;if(y===0&&w===0)return r;var C=r.getSouthWest(),O=r.getNorthEast(),F=new bt(C.lat-y,C.lng-w),W=new bt(O.lat-y,O.lng-w);return new ft(F,W)}},ee=a({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(r,c){var m=Math.PI/180,y=r.lat*m,w=c.lat*m,C=Math.sin((c.lat-r.lat)*m/2),O=Math.sin((c.lng-r.lng)*m/2),F=C*C+Math.cos(y)*Math.cos(w)*O*O,W=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*W}}),si=6378137,Ci={R:si,MAX_LATITUDE:85.0511287798,project:function(r){var c=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,r.lat),-m),w=Math.sin(y*c);return new dt(this.R*r.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(r){var c=180/Math.PI;return new bt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*c,r.x*c/this.R)},bounds:function(){var r=si*Math.PI;return new it([-r,-r],[r,r])}()};function ai(r,c,m,y){if(mt(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=c,this._c=m,this._d=y}ai.prototype={transform:function(r,c){return this._transform(r.clone(),c)},_transform:function(r,c){return c=c||1,r.x=c*(this._a*r.x+this._b),r.y=c*(this._c*r.y+this._d),r},untransform:function(r,c){return c=c||1,new dt((r.x/c-this._b)/this._a,(r.y/c-this._d)/this._c)}};function oi(r,c,m,y){return new ai(r,c,m,y)}var Ki=a({},ee,{code:"EPSG:3857",projection:Ci,transformation:function(){var r=.5/(Math.PI*Ci.R);return oi(r,.5,-r,.5)}()}),Kr=a({},Ki,{code:"EPSG:900913"});function Is(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ha(r,c){var m="",y,w,C,O,F,W;for(y=0,C=r.length;y<C;y++){for(F=r[y],w=0,O=F.length;w<O;w++)W=F[w],m+=(w?"L":"M")+W.x+" "+W.y;m+=c?Mt.svg?"z":"x":""}return m||"M0 0"}var xn=document.documentElement.style,Ds="ActiveXObject"in window,ja=Ds&&!document.addEventListener,Qr="msLaunchUri"in navigator&&!("documentMode"in document),Qi=Mn("webkit"),No=Mn("android"),Xr=Mn("android 2")||Mn("android 3"),qa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vo=No&&Mn("Google")&&qa<537&&!("AudioNode"in window),Le=!!window.opera,ue=!Qr&&Mn("chrome"),Rn=Mn("gecko")&&!Qi&&!Le&&!Ds,cn=!ue&&Mn("safari"),Ga=Mn("phantom"),zo="OTransition"in xn,$r=navigator.platform.indexOf("Win")===0,yr=Ds&&"transition"in xn,Xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xr,Xn="MozPerspective"in xn,Ps=!window.L_DISABLE_3D&&(yr||Xi||Xn)&&!zo&&!Ga,li=typeof orientation<"u"||Mn("mobile"),Fa=li&&Qi,Za=li&&Xi,ks=!window.PointerEvent&&window.MSPointerEvent,xi=!!(window.PointerEvent||ks),Ri="ontouchstart"in window||!!window.TouchEvent,Ya=!window.L_NO_TOUCH&&(Ri||xi),Mi=li&&Le,Ka=li&&Rn,vr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Os=function(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",M,c),window.removeEventListener("testPassiveEventSupport",M,c)}catch{}return r}(),Er=function(){return!!document.createElement("canvas").getContext}(),Ns=!!(document.createElementNS&&Is("svg").createSVGRect),Ae=!!Ns&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fe=!Ns&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var c=r.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),je=navigator.platform.indexOf("Mac")===0,$n=navigator.platform.indexOf("Linux")===0;function Mn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Mt={ie:Ds,ielt9:ja,edge:Qr,webkit:Qi,android:No,android23:Xr,androidStock:Vo,opera:Le,chrome:ue,gecko:Rn,safari:cn,phantom:Ga,opera12:zo,win:$r,ie3d:yr,webkit3d:Xi,gecko3d:Xn,any3d:Ps,mobile:li,mobileWebkit:Fa,mobileWebkit3d:Za,msPointer:ks,pointer:xi,touch:Ya,touchNative:Ri,mobileOpera:Mi,mobileGecko:Ka,retina:vr,passiveEvents:Os,canvas:Er,svg:Ns,vml:Fe,inlineSvg:Ae,mac:je,linux:$n},$i=Mt.msPointer?"MSPointerDown":"pointerdown",Qa=Mt.msPointer?"MSPointerMove":"pointermove",Tr=Mt.msPointer?"MSPointerUp":"pointerup",Wi=Mt.msPointer?"MSPointerCancel":"pointercancel",ui={touchstart:$i,touchmove:Qa,touchend:Tr,touchcancel:Wi},ci={touchstart:Jr,touchmove:Wr,touchend:Wr,touchcancel:Wr},En={},hn=!1;function Ve(r,c,m){return c==="touchstart"&&Uo(),ci[c]?(m=ci[c].bind(this,m),r.addEventListener(ui[c],m,!1),m):(console.warn("wrong event specified:",c),M)}function Xa(r,c,m){if(!ui[c]){console.warn("wrong event specified:",c);return}r.removeEventListener(ui[c],m,!1)}function Vs(r){En[r.pointerId]=r}function hi(r){En[r.pointerId]&&(En[r.pointerId]=r)}function Ii(r){delete En[r.pointerId]}function Uo(){hn||(document.addEventListener($i,Vs,!0),document.addEventListener(Qa,hi,!0),document.addEventListener(Tr,Ii,!0),document.addEventListener(Wi,Ii,!0),hn=!0)}function Wr(r,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in En)c.touches.push(En[m]);c.changedTouches=[c],r(c)}}function Jr(r,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&ye(c),Wr(r,c)}function Bo(r){var c={},m,y;for(y in r)m=r[y],c[y]=m&&m.bind?m.bind(r):m;return r=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var wr=200;function Di(r,c){r.addEventListener("dblclick",c);var m=0,y;function w(C){if(C.detail!==1){y=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var O=Bs(C);if(!(O.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!O.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var F=Date.now();F-m<=wr?(y++,y===2&&c(Bo(C))):y=1,m=F}}}return r.addEventListener("click",w),{dblclick:c,simDblclick:w}}function sn(r,c){r.removeEventListener("dblclick",c.dblclick),r.removeEventListener("click",c.simDblclick)}var Ji=fi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=fi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pi=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function ts(r){return typeof r=="string"?document.getElementById(r):r}function ki(r,c){var m=r.style[c]||r.currentStyle&&r.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(r,null);m=y?y[c]:null}return m==="auto"?null:m}function Kt(r,c,m){var y=document.createElement(r);return y.className=c||"",m&&m.appendChild(y),y}function fe(r){var c=r.parentNode;c&&c.removeChild(r)}function $e(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Oi(r){var c=r.parentNode;c&&c.lastChild!==r&&c.appendChild(r)}function Sr(r){var c=r.parentNode;c&&c.firstChild!==r&&c.insertBefore(r,c.firstChild)}function Lr(r,c){if(r.classList!==void 0)return r.classList.contains(c);var m=Ie(r);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Bt(r,c){if(r.classList!==void 0)for(var m=nt(c),y=0,w=m.length;y<w;y++)r.classList.add(m[y]);else if(!Lr(r,c)){var C=Ie(r);$a(r,(C?C+" ":"")+c)}}function me(r,c){r.classList!==void 0?r.classList.remove(c):$a(r,$((" "+Ie(r)+" ").replace(" "+c+" "," ")))}function $a(r,c){r.className.baseVal===void 0?r.className=c:r.className.baseVal=c}function Ie(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ce(r,c){"opacity"in r.style?r.style.opacity=c:"filter"in r.style&&es(r,c)}function es(r,c){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=r.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):r.style.filter+=" progid:"+y+"(opacity="+c+")"}function fi(r){for(var c=document.documentElement.style,m=0;m<r.length;m++)if(r[m]in c)return r[m];return!1}function Tn(r,c,m){var y=c||new dt(0,0);r.style[Ji]=(Mt.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function Nt(r,c){r._leaflet_pos=c,Mt.any3d?Tn(r,c):(r.style.left=c.x+"px",r.style.top=c.y+"px")}function jn(r){return r._leaflet_pos||new dt(0,0)}var fn,di,zs;if("onselectstart"in document)fn=function(){Dt(window,"selectstart",ye)},di=function(){re(window,"selectstart",ye)};else{var tr=fi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fn=function(){if(tr){var r=document.documentElement.style;zs=r[tr],r[tr]="none"}},di=function(){tr&&(document.documentElement.style[tr]=zs,zs=void 0)}}function ns(){Dt(window,"dragstart",ye)}function Wa(){re(window,"dragstart",ye)}var Us,Ar;function mi(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(wn(),Us=r,Ar=r.style.outlineStyle,r.style.outlineStyle="none",Dt(window,"keydown",wn))}function wn(){Us&&(Us.style.outlineStyle=Ar,Us=void 0,Ar=void 0,re(window,"keydown",wn))}function Ni(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function pi(r){var c=r.getBoundingClientRect();return{x:c.width/r.offsetWidth||1,y:c.height/r.offsetHeight||1,boundingClientRect:c}}var Ja={__proto__:null,TRANSFORM:Ji,TRANSITION:br,TRANSITION_END:Pi,get:ts,getStyle:ki,create:Kt,remove:fe,empty:$e,toFront:Oi,toBack:Sr,hasClass:Lr,addClass:Bt,removeClass:me,setClass:$a,getClass:Ie,setOpacity:Ce,testProp:fi,setTransform:Tn,setPosition:Nt,getPosition:jn,get disableTextSelection(){return fn},get enableTextSelection(){return di},disableImageDrag:ns,enableImageDrag:Wa,preventOutline:mi,restoreOutline:wn,getSizedParentNode:Ni,getScale:pi};function Dt(r,c,m,y){if(c&&typeof c=="object")for(var w in c)er(r,w,c[w],m);else{c=nt(c);for(var C=0,O=c.length;C<O;C++)er(r,c[C],m,y)}return this}var qn="_leaflet_events";function re(r,c,m,y){if(arguments.length===1)Wn(r),delete r[qn];else if(c&&typeof c=="object")for(var w in c)Jn(r,w,c[w],m);else if(c=nt(c),arguments.length===2)Wn(r,function(F){return Ht(c,F)!==-1});else for(var C=0,O=c.length;C<O;C++)Jn(r,c[C],m,y);return this}function Wn(r,c){for(var m in r[qn]){var y=m.split(/\d/)[0];(!c||c(y))&&Jn(r,y,null,null,m)}}var In={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function er(r,c,m,y){var w=c+v(m)+(y?"_"+v(y):"");if(r[qn]&&r[qn][w])return this;var C=function(F){return m.call(y||r,F||window.event)},O=C;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?C=Ve(r,c,C):Mt.touch&&c==="dblclick"?C=Di(r,C):"addEventListener"in r?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?r.addEventListener(In[c]||c,C,Mt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(C=function(F){F=F||window.event,ir(r,F)&&O(F)},r.addEventListener(In[c],C,!1)):r.addEventListener(c,O,!1):r.attachEvent("on"+c,C),r[qn]=r[qn]||{},r[qn][w]=C}function Jn(r,c,m,y,w){w=w||c+v(m)+(y?"_"+v(y):"");var C=r[qn]&&r[qn][w];if(!C)return this;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?Xa(r,c,C):Mt.touch&&c==="dblclick"?sn(r,C):"removeEventListener"in r?r.removeEventListener(In[c]||c,C,!1):r.detachEvent("on"+c,C),r[qn][w]=null}function Dn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function _i(r){return er(r,"wheel",Dn),this}function nr(r){return Dt(r,"mousedown touchstart dblclick contextmenu",Dn),r._leaflet_disable_click=!0,this}function ye(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function dn(r){return ye(r),Dn(r),this}function Bs(r){if(r.composedPath)return r.composedPath();for(var c=[],m=r.target;m;)c.push(m),m=m.parentNode;return c}function Ze(r,c){if(!c)return new dt(r.clientX,r.clientY);var m=pi(c),y=m.boundingClientRect;return new dt((r.clientX-y.left)/m.x-c.clientLeft,(r.clientY-y.top)/m.y-c.clientTop)}var ce=Mt.linux&&Mt.chrome?window.devicePixelRatio:Mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function is(r){return Mt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/ce:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ir(r,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==r;)m=m.parentNode}catch{return!1}return m!==r}var Ho={__proto__:null,on:Dt,off:re,stopPropagation:Dn,disableScrollPropagation:_i,disableClickPropagation:nr,preventDefault:ye,stop:dn,getPropagationPath:Bs,getMousePosition:Ze,getWheelDelta:is,isExternalTarget:ir,addListener:Dt,removeListener:re},rs=yt.extend({run:function(r,c,m,y){this.stop(),this._el=r,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=jn(r),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(r){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),r):(this._runFrame(1),this._complete())},_runFrame:function(r,c){var m=this._startPos.add(this._offset.multiplyBy(r));c&&m._round(),Nt(this._el,m),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Gt=yt.extend({options:{crs:Ki,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,c){c=tt(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(vt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&Mt.any3d&&!Mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,Pi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),r=this._limitCenter(vt(r),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=a({animate:m.animate},m.zoom),m.pan=a({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,c,m.zoom):this._tryAnimatedPan(r,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(r,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(r,c){return this._loaded?this.setView(this.getCenter(),r,{zoom:c}):(this._zoom=r,this)},zoomIn:function(r,c){return r=r||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,c)},zoomOut:function(r,c){return r=r||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,c)},setZoomAround:function(r,c,m){var y=this.getZoomScale(c),w=this.getSize().divideBy(2),C=r instanceof dt?r:this.latLngToContainerPoint(r),O=C.subtract(w).multiplyBy(1-1/y),F=this.containerPointToLatLng(w.add(O));return this.setView(F,c,{zoom:m})},_getBoundsCenterZoom:function(r,c){c=c||{},r=r.getBounds?r.getBounds():Et(r);var m=P(c.paddingTopLeft||c.padding||[0,0]),y=P(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(r,!1,m.add(y));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:r.getCenter(),zoom:w};var C=y.subtract(m).divideBy(2),O=this.project(r.getSouthWest(),w),F=this.project(r.getNorthEast(),w),W=this.unproject(O.add(F).divideBy(2).add(C),w);return{center:W,zoom:w}},fitBounds:function(r,c){if(r=Et(r),!r.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(r,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,c){return this.setView(r,this._zoom,{pan:c})},panBy:function(r,c){if(r=P(r).round(),c=c||{},!r.x&&!r.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Bt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,c,m){if(m=m||{},m.animate===!1||!Mt.any3d)return this.setView(r,c,m);this._stop();var y=this.project(this.getCenter()),w=this.project(r),C=this.getSize(),O=this._zoom;r=vt(r),c=c===void 0?O:c;var F=Math.max(C.x,C.y),W=F*this.getZoomScale(O,c),ht=w.distanceTo(y)||1,Tt=1.42,Lt=Tt*Tt;function xt(Pe){var qi=Pe?-1:1,ur=Pe?W:F,Dr=W*W-F*F+qi*Lt*Lt*ht*ht,cr=2*ur*Lt*ht,po=Dr/cr,tl=Math.sqrt(po*po+1)-po,_o=tl<1e-9?-18:Math.log(tl);return _o}function zt(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Re(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function ze(Pe){return zt(Pe)/Re(Pe)}var pn=xt(0);function ti(Pe){return F*(Re(pn)/Re(pn+Tt*Pe))}function Cc(Pe){return F*(Re(pn)*ze(pn+Tt*Pe)-zt(pn))/Lt}function xc(Pe){return 1-Math.pow(1-Pe,1.5)}var mo=Date.now(),ia=(xt(1)-pn)/Tt,Rc=m.duration?1e3*m.duration:1e3*ia*.8;function ra(){var Pe=(Date.now()-mo)/Rc,qi=xc(Pe)*ia;Pe<=1?(this._flyToFrame=z(ra,this),this._move(this.unproject(y.add(w.subtract(y).multiplyBy(Cc(qi)/ht)),O),this.getScaleZoom(F/ti(qi),O),{flyTo:!0})):this._move(r,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),ra.call(this),this},flyToBounds:function(r,c){var m=this._getBoundsCenterZoom(r,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(r){return r=Et(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var c=this.options.minZoom;return this.options.minZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var c=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,c){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,Et(r));return m.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(r,c){c=c||{};var m=P(c.paddingTopLeft||c.padding||[0,0]),y=P(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),C=this.project(r),O=this.getPixelBounds(),F=pt([O.min.add(m),O.max.subtract(y)]),W=F.getSize();if(!F.contains(C)){this._enforcingBounds=!0;var ht=C.subtract(F.getCenter()),Tt=F.extend(C).getSize().subtract(W);w.x+=ht.x<0?-Tt.x:Tt.x,w.y+=ht.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=a({animate:!1,pan:!0},r===!0?{animate:!0}:r);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=c.divideBy(2).round(),w=m.divideBy(2).round(),C=y.subtract(w);return!C.x&&!C.y?this:(r.animate&&r.pan?this.panBy(C):(r.pan&&this._rawPanBy(C),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=a({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,r):navigator.geolocation.getCurrentPosition(c,m,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var c=r.code,m=r.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var c=r.coords.latitude,m=r.coords.longitude,y=new bt(c,m),w=y.toBounds(r.coords.accuracy*2),C=this._locateOptions;if(C.setView){var O=this.getBoundsZoom(w);this.setView(y,C.maxZoom?Math.min(O,C.maxZoom):O)}var F={latlng:y,bounds:w,timestamp:r.timestamp};for(var W in r.coords)typeof r.coords[W]=="number"&&(F[W]=r.coords[W]);this.fire("locationfound",F)}},addHandler:function(r,c){if(!c)return this;var m=this[r]=new c(this);return this._handlers.push(m),this.options[r]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)fe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,c){var m="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),y=Kt("div",m,c||this._mapPane);return r&&(this._panes[r]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),c=this.unproject(r.getBottomLeft()),m=this.unproject(r.getTopRight());return new ft(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,c,m){r=Et(r),m=P(m||[0,0]);var y=this.getZoom()||0,w=this.getMinZoom(),C=this.getMaxZoom(),O=r.getNorthWest(),F=r.getSouthEast(),W=this.getSize().subtract(m),ht=pt(this.project(F,y),this.project(O,y)).getSize(),Tt=Mt.any3d?this.options.zoomSnap:1,Lt=W.x/ht.x,xt=W.y/ht.y,zt=c?Math.max(Lt,xt):Math.min(Lt,xt);return y=this.getScaleZoom(zt,y),Tt&&(y=Math.round(y/(Tt/100))*(Tt/100),y=c?Math.ceil(y/Tt)*Tt:Math.floor(y/Tt)*Tt),Math.max(w,Math.min(C,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,c){var m=this._getTopLeftPoint(r,c);return new it(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(r)/m.scale(c)},getScaleZoom:function(r,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var y=m.zoom(r*m.scale(c));return isNaN(y)?1/0:y},project:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(vt(r),c)},unproject:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(P(r),c)},layerPointToLatLng:function(r){var c=P(r).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(r){var c=this.project(vt(r))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(vt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Et(r))},distance:function(r,c){return this.options.crs.distance(vt(r),vt(c))},containerPointToLayerPoint:function(r){return P(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return P(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var c=this.containerPointToLayerPoint(P(r));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(vt(r)))},mouseEventToContainerPoint:function(r){return Ze(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var c=this._container=ts(r);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(c,"scroll",this._onScroll,this),this._containerId=v(c)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt.any3d,Bt(r,"leaflet-container"+(Mt.touch?" leaflet-touch":"")+(Mt.retina?" leaflet-retina":"")+(Mt.ielt9?" leaflet-oldie":"")+(Mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=ki(r,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Nt(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Bt(r.markerPane,"leaflet-zoom-hide"),Bt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,c,m){Nt(this._mapPane,new dt(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,m)._move(r,c)._moveEnd(w),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(r,c){return r&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(r,c,m,y){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),y?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Nt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[v(this._container)]=this;var c=r?re:Dt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Mt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,c){for(var m=[],y,w=c==="mouseout"||c==="mouseover",C=r.target||r.srcElement,O=!1;C;){if(y=this._targets[v(C)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){O=!0;break}if(y&&y.listens(c,!0)&&(w&&!ir(C,r)||(m.push(y),w))||C===this._container)break;C=C.parentNode}return!m.length&&!O&&!w&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var c=r.target||r.srcElement;if(!(!this._loaded||c._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(c))){var m=r.type;m==="mousedown"&&mi(c),this._fireDOMEvent(r,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,c,m){if(r.type==="click"){var y=a({},r);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var w=this._findEventTargets(r,c);if(m){for(var C=[],O=0;O<m.length;O++)m[O].listens(c,!0)&&C.push(m[O]);w=C.concat(w)}if(w.length){c==="contextmenu"&&ye(r);var F=w[0],W={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var ht=F.getLatLng&&(!F._radius||F._radius<=10);W.containerPoint=ht?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(r),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=ht?F.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(O=0;O<w.length;O++)if(w[O].fire(c,W,!0),W.originalEvent._stopped||w[O].options.bubblingMouseEvents===!1&&Ht(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,c=this._handlers.length;r<c;r++)this._handlers[r].disable()},whenReady:function(r,c){return this._loaded?r.call(c||this,{target:this}):this.on("load",r,c),this},_getMapPanePos:function(){return jn(this._mapPane)||new dt(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,c){var m=r&&c!==void 0?this._getNewPixelOrigin(r,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,c){var m=this.getSize()._divideBy(2);return this.project(r,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,c,m){var y=this._getNewPixelOrigin(m,c);return this.project(r,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(r,c,m){var y=this._getNewPixelOrigin(m,c);return pt([this.project(r.getSouthWest(),c)._subtract(y),this.project(r.getNorthWest(),c)._subtract(y),this.project(r.getSouthEast(),c)._subtract(y),this.project(r.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,c,m){if(!m)return r;var y=this.project(r,c),w=this.getSize().divideBy(2),C=new it(y.subtract(w),y.add(w)),O=this._getBoundsOffset(C,m,c);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?r:this.unproject(y.add(O),c)},_limitOffset:function(r,c){if(!c)return r;var m=this.getPixelBounds(),y=new it(m.min.add(r),m.max.add(r));return r.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(r,c,m){var y=pt(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),w=y.min.subtract(r.min),C=y.max.subtract(r.max),O=this._rebound(w.x,-C.x),F=this._rebound(w.y,-C.y);return new dt(O,F)},_rebound:function(r,c){return r+c>0?Math.round(r-c)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(c))},_limitZoom:function(r){var c=this.getMinZoom(),m=this.getMaxZoom(),y=Mt.any3d?this.options.zoomSnap:1;return y&&(r=Math.round(r/y)*y),Math.max(c,Math.min(m,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,c){var m=this._getCenterOffset(r)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var r=this._proxy=Kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(c){var m=Ji,y=this._proxy.style[m];Tn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),c=this.getZoom();Tn(this._proxy,this.project(r,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),w=this._getCenterOffset(r)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(w)?!1:(z(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(r,c,!0)},this),!0)},_animateZoom:function(r,c,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=c,Bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vi(r,c){return new Gt(r,c)}var an=we.extend({options:{position:"topright"},initialize:function(r){tt(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var c=this._map;return c&&c.removeControl(this),this.options.position=r,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var c=this._container=this.onAdd(r),m=this.getPosition(),y=r._controlCorners[m];return Bt(c,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),mn=function(r){return new an(r)};Gt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},c="leaflet-",m=this._controlContainer=Kt("div",c+"control-container",this._container);function y(w,C){var O=c+w+" "+c+C;r[w+C]=Kt("div",O,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)fe(this._controlCorners[r]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var to=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,c,m,y){return m<y?-1:y<m?1:0}},initialize:function(r,c,m){tt(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in r)this._addLayer(r[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return an.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,c){return this._addLayer(r,c),this._map?this._update():this},addOverlay:function(r,c){return this._addLayer(r,c,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var c=this._getLayer(v(r));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",c=this._container=Kt("div",r),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),nr(c),_i(c);var y=this._section=Kt("section",r+"-list");m&&(this._map.on("click",this.collapse,this),Dt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Kt("a",r+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),Dt(w,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){ye(C),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Kt("div",r+"-base",y),this._separator=Kt("div",r+"-separator",y),this._overlaysList=Kt("div",r+"-overlays",y),c.appendChild(y)},_getLayer:function(r){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&v(this._layers[c].layer)===r)return this._layers[c]},_addLayer:function(r,c,m){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(y,w){return this.options.sortFunction(y.layer,w.layer,y.name,w.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$e(this._baseLayersList),$e(this._overlaysList),this._layerControlInputs=[];var r,c,m,y,w=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),c=c||y.overlay,r=r||!y.overlay,w+=y.overlay?0:1;return this.options.hideSingleBase&&(r=r&&w>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=c&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var c=this._getLayer(v(r.target)),m=c.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(r,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(r){var c=document.createElement("label"),m=this._map.hasLayer(r.layer),y;r.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(y),y.layerId=v(r.layer),Dt(y,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+r.name;var C=document.createElement("span");c.appendChild(C),C.appendChild(y),C.appendChild(w);var O=r.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,c,m,y=[],w=[];this._handlingClick=!0;for(var C=r.length-1;C>=0;C--)c=r[C],m=this._getLayer(c.layerId).layer,c.checked?y.push(m):c.checked||w.push(m);for(C=0;C<w.length;C++)this._map.hasLayer(w[C])&&this._map.removeLayer(w[C]);for(C=0;C<y.length;C++)this._map.hasLayer(y[C])||this._map.addLayer(y[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,c,m,y=this._map.getZoom(),w=r.length-1;w>=0;w--)c=r[w],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Dt(r,"click",ye),this.expand();var c=this;setTimeout(function(){re(r,"click",ye),c._preventClick=!1})}}),Jl=function(r,c,m){return new to(r,c,m)},rr=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var c="leaflet-control-zoom",m=Kt("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,c,m,y,w){var C=Kt("a",m,y);return C.innerHTML=r,C.href="#",C.title=c,C.setAttribute("role","button"),C.setAttribute("aria-label",c),nr(C),Dt(C,"click",dn),Dt(C,"click",w,this),Dt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var r=this._map,c="leaflet-disabled";me(this._zoomInButton,c),me(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Bt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Bt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rr,this.addControl(this.zoomControl))});var Hs=function(r){return new rr(r)},js=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var c="leaflet-control-scale",m=Kt("div",c),y=this.options;return this._addScales(y,c+"-line",m),r.on(y.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),m},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,c,m){r.metric&&(this._mScale=Kt("div",c,m)),r.imperial&&(this._iScale=Kt("div",c,m))},_update:function(){var r=this._map,c=r.getSize().y/2,m=r.distance(r.containerPointToLatLng([0,c]),r.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var c=this._getRoundNum(r),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/r)},_updateImperial:function(r){var c=r*3.2808399,m,y,w;c>5280?(m=c/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(r,c,m){r.style.width=Math.round(this.options.maxWidth*m)+"px",r.innerHTML=c},_getRoundNum:function(r){var c=Math.pow(10,(Math.floor(r)+"").length-1),m=r/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),qs=function(r){return new js(r)},jo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Cr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Mt.inlineSvg?jo+" ":"")+"Leaflet</a>"},initialize:function(r){tt(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Kt("div","leaflet-control-attribution"),nr(this._container);for(var c in r._layers)r._layers[c].getAttribution&&this.addAttribution(r._layers[c].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var c in this._attributions)this._attributions[c]&&r.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),r.length&&m.push(r.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new Cr().addTo(this)});var tu=function(r){return new Cr(r)};an.Layers=to,an.Zoom=rr,an.Scale=js,an.Attribution=Cr,mn.layers=Jl,mn.zoom=Hs,mn.scale=qs,mn.attribution=tu;var Pn=we.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pn.addTo=function(r,c){return r.addHandler(c,this),this};var ss={Events:et},eo=Mt.touch?"touchstart mousedown":"mousedown",gi=yt.extend({options:{clickTolerance:3},initialize:function(r,c,m,y){tt(this,y),this._element=r,this._dragStartTarget=c||r,this._preventOutline=m},enable:function(){this._enabled||(Dt(this._dragStartTarget,eo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gi._dragging===this&&this.finishDrag(!0),re(this._dragStartTarget,eo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Lr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){gi._dragging===this&&this.finishDrag();return}if(!(gi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(gi._dragging=this,this._preventOutline&&mi(this._element),ns(),fn(),!this._moving)){this.fire("down");var c=r.touches?r.touches[0]:r,m=Ni(this._element);this._startPoint=new dt(c.clientX,c.clientY),this._startPos=jn(this._element),this._parentScale=pi(m);var y=r.type==="mousedown";Dt(document,y?"mousemove":"touchmove",this._onMove,this),Dt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var c=r.touches&&r.touches.length===1?r.touches[0]:r,m=new dt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,ye(r),this._moved||(this.fire("dragstart"),this._moved=!0,Bt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Nt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){me(document.body,"leaflet-dragging"),this._lastTarget&&(me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),re(document,"mousemove touchmove",this._onMove,this),re(document,"mouseup touchend touchcancel",this._onUp,this),Wa(),di();var c=this._moved&&this._moving;this._moving=!1,gi._dragging=!1,c&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Gs(r,c,m){var y,w=[1,4,2,8],C,O,F,W,ht,Tt,Lt,xt;for(C=0,Tt=r.length;C<Tt;C++)r[C]._code=zi(r[C],c);for(F=0;F<4;F++){for(Lt=w[F],y=[],C=0,Tt=r.length,O=Tt-1;C<Tt;O=C++)W=r[C],ht=r[O],W._code&Lt?ht._code&Lt||(xt=We(ht,W,Lt,c,m),xt._code=zi(xt,c),y.push(xt)):(ht._code&Lt&&(xt=We(ht,W,Lt,c,m),xt._code=zi(xt,c),y.push(xt)),y.push(W));r=y}return r}function xr(r,c){var m,y,w,C,O,F,W,ht,Tt;if(!r||r.length===0)throw new Error("latlngs not passed");f(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Lt=vt([0,0]),xt=Et(r),zt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());zt<1700&&(Lt=Fs(r));var Re=r.length,ze=[];for(m=0;m<Re;m++){var pn=vt(r[m]);ze.push(c.project(vt([pn.lat-Lt.lat,pn.lng-Lt.lng])))}for(F=W=ht=0,m=0,y=Re-1;m<Re;y=m++)w=ze[m],C=ze[y],O=w.y*C.x-C.y*w.x,W+=(w.x+C.x)*O,ht+=(w.y+C.y)*O,F+=O*3;F===0?Tt=ze[0]:Tt=[W/F,ht/F];var ti=c.unproject(P(Tt));return vt([ti.lat+Lt.lat,ti.lng+Lt.lng])}function Fs(r){for(var c=0,m=0,y=0,w=0;w<r.length;w++){var C=vt(r[w]);c+=C.lat,m+=C.lng,y++}return vt([c/y,m/y])}var Zs={__proto__:null,clipPolygon:Gs,polygonCenter:xr,centroid:Fs};function no(r,c){if(!c||!r.length)return r.slice();var m=c*c;return r=Go(r,m),r=qo(r,m),r}function Ys(r,c,m){return Math.sqrt(kn(r,c,m,!0))}function sr(r,c,m){return kn(r,c,m)}function qo(r,c){var m=r.length,y=typeof Uint8Array<"u"?Uint8Array:Array,w=new y(m);w[0]=w[m-1]=1,Ks(r,w,c,0,m-1);var C,O=[];for(C=0;C<m;C++)w[C]&&O.push(r[C]);return O}function Ks(r,c,m,y,w){var C=0,O,F,W;for(F=y+1;F<=w-1;F++)W=kn(r[F],r[y],r[w],!0),W>C&&(O=F,C=W);C>m&&(c[O]=1,Ks(r,c,m,y,O),Ks(r,c,m,O,w))}function Go(r,c){for(var m=[r[0]],y=1,w=0,C=r.length;y<C;y++)Fo(r[y],r[w])>c&&(m.push(r[y]),w=y);return w<C-1&&m.push(r[C-1]),m}var io;function as(r,c,m,y,w){var C=y?io:zi(r,m),O=zi(c,m),F,W,ht;for(io=O;;){if(!(C|O))return[r,c];if(C&O)return!1;F=C||O,W=We(r,c,F,m,w),ht=zi(W,m),F===C?(r=W,C=ht):(c=W,O=ht)}}function We(r,c,m,y,w){var C=c.x-r.x,O=c.y-r.y,F=y.min,W=y.max,ht,Tt;return m&8?(ht=r.x+C*(W.y-r.y)/O,Tt=W.y):m&4?(ht=r.x+C*(F.y-r.y)/O,Tt=F.y):m&2?(ht=W.x,Tt=r.y+O*(W.x-r.x)/C):m&1&&(ht=F.x,Tt=r.y+O*(F.x-r.x)/C),new dt(ht,Tt,w)}function zi(r,c){var m=0;return r.x<c.min.x?m|=1:r.x>c.max.x&&(m|=2),r.y<c.min.y?m|=4:r.y>c.max.y&&(m|=8),m}function Fo(r,c){var m=c.x-r.x,y=c.y-r.y;return m*m+y*y}function kn(r,c,m,y){var w=c.x,C=c.y,O=m.x-w,F=m.y-C,W=O*O+F*F,ht;return W>0&&(ht=((r.x-w)*O+(r.y-C)*F)/W,ht>1?(w=m.x,C=m.y):ht>0&&(w+=O*ht,C+=F*ht)),O=r.x-w,F=r.y-C,y?O*O+F*F:new dt(w,C)}function f(r){return!mt(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function E(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(r)}function b(r,c){var m,y,w,C,O,F,W,ht;if(!r||r.length===0)throw new Error("latlngs not passed");f(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Tt=vt([0,0]),Lt=Et(r),xt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());xt<1700&&(Tt=Fs(r));var zt=r.length,Re=[];for(m=0;m<zt;m++){var ze=vt(r[m]);Re.push(c.project(vt([ze.lat-Tt.lat,ze.lng-Tt.lng])))}for(m=0,y=0;m<zt-1;m++)y+=Re[m].distanceTo(Re[m+1])/2;if(y===0)ht=Re[0];else for(m=0,C=0;m<zt-1;m++)if(O=Re[m],F=Re[m+1],w=O.distanceTo(F),C+=w,C>y){W=(C-y)/w,ht=[F.x-W*(F.x-O.x),F.y-W*(F.y-O.y)];break}var pn=c.unproject(P(ht));return vt([pn.lat+Tt.lat,pn.lng+Tt.lng])}var R={__proto__:null,simplify:no,pointToSegmentDistance:Ys,closestPointOnSegment:sr,clipSegment:as,_getEdgeIntersection:We,_getBitCode:zi,_sqClosestPointOnSegment:kn,isFlat:f,_flat:E,polylineCenter:b},G={project:function(r){return new dt(r.lng,r.lat)},unproject:function(r){return new bt(r.y,r.x)},bounds:new it([-180,-90],[180,90])},J={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var c=Math.PI/180,m=this.R,y=r.lat*c,w=this.R_MINOR/m,C=Math.sqrt(1-w*w),O=C*Math.sin(y),F=Math.tan(Math.PI/4-y/2)/Math.pow((1-O)/(1+O),C/2);return y=-m*Math.log(Math.max(F,1e-10)),new dt(r.lng*c*m,y)},unproject:function(r){for(var c=180/Math.PI,m=this.R,y=this.R_MINOR/m,w=Math.sqrt(1-y*y),C=Math.exp(-r.y/m),O=Math.PI/2-2*Math.atan(C),F=0,W=.1,ht;F<15&&Math.abs(W)>1e-7;F++)ht=w*Math.sin(O),ht=Math.pow((1-ht)/(1+ht),w/2),W=Math.PI/2-2*Math.atan(C*ht)-O,O+=W;return new bt(O*c,r.x*c/m)}},gt={__proto__:null,LonLat:G,Mercator:J,SphericalMercator:Ci},Wt=a({},ee,{code:"EPSG:3395",projection:J,transformation:function(){var r=.5/(Math.PI*J.R);return oi(r,.5,-r,.5)}()}),qe=a({},ee,{code:"EPSG:4326",projection:G,transformation:oi(1/180,1,-1/180,.5)}),Jt=a({},ge,{projection:G,transformation:oi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,c){var m=c.lng-r.lng,y=c.lat-r.lat;return Math.sqrt(m*m+y*y)},infinite:!0});ge.Earth=ee,ge.EPSG3395=Wt,ge.EPSG3857=Ki,ge.EPSG900913=Kr,ge.EPSG4326=qe,ge.Simple=Jt;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[v(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[v(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var c=r.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var c=v(r);return this._layers[c]?this:(this._layers[c]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var c=v(r);return this._layers[c]?(this._loaded&&r.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return v(r)in this._layers},eachLayer:function(r,c){for(var m in this._layers)r.call(c,this._layers[m]);return this},_addLayers:function(r){r=r?mt(r)?r:[r]:[];for(var c=0,m=r.length;c<m;c++)this.addLayer(r[c])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[v(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var c=v(r);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,c=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var w=this._zoomBoundLayers[y].options;r=w.minZoom===void 0?r:Math.min(r,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=r===1/0?void 0:r,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xe=de.extend({initialize:function(r,c){tt(this,c),this._layers={};var m,y;if(r)for(m=0,y=r.length;m<y;m++)this.addLayer(r[m])},addLayer:function(r){var c=this.getLayerId(r);return this._layers[c]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var c=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(r){var c=typeof r=="number"?r:this.getLayerId(r);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var c=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[r]&&y[r].apply(y,c);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,c){for(var m in this._layers)r.call(c,this._layers[m]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return v(r)}}),ar=function(r,c){return new xe(r,c)},be=xe.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),xe.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),xe.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ft;for(var c in this._layers){var m=this._layers[c];r.extend(m.getBounds?m.getBounds():m.getLatLng())}return r}}),Ui=function(r,c){return new be(r,c)},Bi=we.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){tt(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,c){var m=this._getIconUrl(r);if(!m){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(r,c){var m=this.options,y=m[c+"Size"];typeof y=="number"&&(y=[y,y]);var w=P(y),C=P(c==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));r.className="leaflet-marker-"+c+" "+(m.className||""),C&&(r.style.marginLeft=-C.x+"px",r.style.marginTop=-C.y+"px"),w&&(r.style.width=w.x+"px",r.style.height=w.y+"px")},_createImg:function(r,c){return c=c||document.createElement("img"),c.src=r,c},_getIconUrl:function(r){return Mt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Zo(r){return new Bi(r)}var Qs=Bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Qs.imagePath!="string"&&(Qs.imagePath=this._detectIconPath()),(this.options.imagePath||Qs.imagePath)+Bi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var c=function(m,y,w){var C=y.exec(m);return C&&C[w]};return r=c(r,/^url\((['"])?(.+)\1\)$/,2),r&&c(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Kt("div","leaflet-default-icon-path",document.body),c=ki(r,"background-image")||ki(r,"backgroundImage");if(document.body.removeChild(r),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),eu=Pn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new gi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Bt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var c=this._marker,m=c._map,y=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,C=jn(c._icon),O=m.getPixelBounds(),F=m.getPixelOrigin(),W=pt(O.min._subtract(F).add(w),O.max._subtract(F).subtract(w));if(!W.contains(C)){var ht=P((Math.max(W.max.x,C.x)-W.max.x)/(O.max.x-W.max.x)-(Math.min(W.min.x,C.x)-W.min.x)/(O.min.x-W.min.x),(Math.max(W.max.y,C.y)-W.max.y)/(O.max.y-W.max.y)-(Math.min(W.min.y,C.y)-W.min.y)/(O.min.y-W.min.y)).multiplyBy(y);m.panBy(ht,{animate:!1}),this._draggable._newPos._add(ht),this._draggable._startPos._add(ht),Nt(c._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=z(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,r)))},_onDrag:function(r){var c=this._marker,m=c._shadow,y=jn(c._icon),w=c._map.layerPointToLatLng(y);m&&Nt(m,y),c._latlng=w,r.latlng=w,r.oldLatLng=this._oldLatLng,c.fire("move",r).fire("drag",r)},_onDragEnd:function(r){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Xs=de.extend({options:{icon:new Qs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,c){tt(this,c),this._latlng=vt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var c=this._latlng;return this._latlng=vt(r),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=r.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,r.title&&(m.title=r.title),m.tagName==="IMG"&&(m.alt=r.alt||"")),Bt(m,c),r.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(m,"focus",this._panOnFocus,this);var w=r.icon.createShadow(this._shadow),C=!1;w!==this._shadow&&(this._removeShadow(),C=!0),w&&(Bt(w,c),w.alt=""),this._shadow=w,r.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&C&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Nt(this._icon,r),this._shadow&&Nt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),eu)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new eu(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var c=this.options.icon.options,m=c.iconSize?P(c.iconSize):P(0,0),y=c.iconAnchor?P(c.iconAnchor):P(0,0);r.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nu(r,c){return new Xs(r,c)}var or=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return tt(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ro=or.extend({options:{fill:!0,radius:10},initialize:function(r,c){tt(this,c),this._latlng=vt(r),this._radius=this.options.radius},setLatLng:function(r){var c=this._latlng;return this._latlng=vt(r),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var c=r&&r.radius||this._radius;return or.prototype.setStyle.call(this,r),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,c=this._radiusY||r,m=this._clickTolerance(),y=[r+m,c+m];this._pxBounds=new it(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Tc(r,c){return new ro(r,c)}var iu=ro.extend({initialize:function(r,c,m){if(typeof c=="number"&&(c=a({},m,{radius:c})),tt(this,c),this._latlng=vt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ft(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:or.prototype.setStyle,_project:function(){var r=this._latlng.lng,c=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===ee.distance){var w=Math.PI/180,C=this._mRadius/ee.R/w,O=m.project([c+C,r]),F=m.project([c-C,r]),W=O.add(F).divideBy(2),ht=m.unproject(W).lat,Tt=Math.acos((Math.cos(C*w)-Math.sin(c*w)*Math.sin(ht*w))/(Math.cos(c*w)*Math.cos(ht*w)))/w;(isNaN(Tt)||Tt===0)&&(Tt=C/Math.cos(Math.PI/180*c)),this._point=W.subtract(m.getPixelOrigin()),this._radius=isNaN(Tt)?0:W.x-m.project([ht,r-Tt]).x,this._radiusY=W.y-O.y}else{var Lt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Lt).x}this._updateBounds()}});function Cf(r,c,m){return new iu(r,c,m)}var lr=or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,c){tt(this,c),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var c=1/0,m=null,y=kn,w,C,O=0,F=this._parts.length;O<F;O++)for(var W=this._parts[O],ht=1,Tt=W.length;ht<Tt;ht++){w=W[ht-1],C=W[ht];var Lt=y(r,w,C,!0);Lt<c&&(c=Lt,m=y(r,w,C))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,c){return c=c||this._defaultShape(),r=vt(r),c.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ft,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var c=[],m=f(r),y=0,w=r.length;y<w;y++)m?(c[y]=vt(r[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(r[y]);return c},_project:function(){var r=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),c=new dt(r,r);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(r,c,m){var y=r[0]instanceof bt,w=r.length,C,O;if(y){for(O=[],C=0;C<w;C++)O[C]=this._map.latLngToLayerPoint(r[C]),m.extend(O[C]);c.push(O)}else for(C=0;C<w;C++)this._projectLatlngs(r[C],c,m)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,y,w,C,O,F,W;for(m=0,w=0,C=this._rings.length;m<C;m++)for(W=this._rings[m],y=0,O=W.length;y<O-1;y++)F=as(W[y],W[y+1],r,y,!0),F&&(c[w]=c[w]||[],c[w].push(F[0]),(F[1]!==W[y+1]||y===O-2)&&(c[w].push(F[1]),w++))}},_simplifyPoints:function(){for(var r=this._parts,c=this.options.smoothFactor,m=0,y=r.length;m<y;m++)r[m]=no(r[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,c){var m,y,w,C,O,F,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(m=0,C=this._parts.length;m<C;m++)for(F=this._parts[m],y=0,O=F.length,w=O-1;y<O;w=y++)if(!(!c&&y===0)&&Ys(r,F[w],F[y])<=W)return!0;return!1}});function xf(r,c){return new lr(r,c)}lr._flat=E;var $s=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var c=lr.prototype._convertLatLngs.call(this,r),m=c.length;return m>=2&&c[0]instanceof bt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(r){lr.prototype._setLatLngs.call(this,r),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,c=this.options.weight,m=new dt(c,c);if(r=new it(r.min.subtract(m),r.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,w=this._rings.length,C;y<w;y++)C=Gs(this._rings[y],r,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var c=!1,m,y,w,C,O,F,W,ht;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(C=0,W=this._parts.length;C<W;C++)for(m=this._parts[C],O=0,ht=m.length,F=ht-1;O<ht;F=O++)y=m[O],w=m[F],y.y>r.y!=w.y>r.y&&r.x<(w.x-y.x)*(r.y-y.y)/(w.y-y.y)+y.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,r,!0)}});function Gn(r,c){return new $s(r,c)}var Fn=be.extend({initialize:function(r,c){tt(this,c),this._layers={},r&&this.addData(r)},addData:function(r){var c=mt(r)?r:r.features,m,y,w;if(c){for(m=0,y=c.length;m<y;m++)w=c[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var C=this.options;if(C.filter&&!C.filter(r))return this;var O=so(r,C);return O?(O.feature=Ws(r),O.defaultOptions=O.options,this.resetStyle(O),C.onEachFeature&&C.onEachFeature(r,O),this.addLayer(O)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=a({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(c){this._setLayerStyle(c,r)},this)},_setLayerStyle:function(r,c){r.setStyle&&(typeof c=="function"&&(c=c(r.feature)),r.setStyle(c))}});function so(r,c){var m=r.type==="Feature"?r.geometry:r,y=m?m.coordinates:null,w=[],C=c&&c.pointToLayer,O=c&&c.coordsToLatLng||Yo,F,W,ht,Tt;if(!y&&!m)return null;switch(m.type){case"Point":return F=O(y),ru(C,r,F,c);case"MultiPoint":for(ht=0,Tt=y.length;ht<Tt;ht++)F=O(y[ht]),w.push(ru(C,r,F,c));return new be(w);case"LineString":case"MultiLineString":return W=ao(y,m.type==="LineString"?0:1,O),new lr(W,c);case"Polygon":case"MultiPolygon":return W=ao(y,m.type==="Polygon"?1:2,O),new $s(W,c);case"GeometryCollection":for(ht=0,Tt=m.geometries.length;ht<Tt;ht++){var Lt=so({geometry:m.geometries[ht],type:"Feature",properties:r.properties},c);Lt&&w.push(Lt)}return new be(w);case"FeatureCollection":for(ht=0,Tt=m.features.length;ht<Tt;ht++){var xt=so(m.features[ht],c);xt&&w.push(xt)}return new be(w);default:throw new Error("Invalid GeoJSON object.")}}function ru(r,c,m,y){return r?r(c,m):new Xs(m,y&&y.markersInheritOptions&&y)}function Yo(r){return new bt(r[1],r[0],r[2])}function ao(r,c,m){for(var y=[],w=0,C=r.length,O;w<C;w++)O=c?ao(r[w],c-1,m):(m||Yo)(r[w]),y.push(O);return y}function oo(r,c){return r=vt(r),r.alt!==void 0?[I(r.lng,c),I(r.lat,c),I(r.alt,c)]:[I(r.lng,c),I(r.lat,c)]}function Ko(r,c,m,y){for(var w=[],C=0,O=r.length;C<O;C++)w.push(c?Ko(r[C],f(r[C])?0:c-1,m,y):oo(r[C],y));return!c&&m&&w.length>0&&w.push(w[0].slice()),w}function yi(r,c){return r.feature?a({},r.feature,{geometry:c}):Ws(c)}function Ws(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var os={toGeoJSON:function(r){return yi(this,{type:"Point",coordinates:oo(this.getLatLng(),r)})}};Xs.include(os),iu.include(os),ro.include(os),lr.include({toGeoJSON:function(r){var c=!f(this._latlngs),m=Ko(this._latlngs,c?1:0,!1,r);return yi(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),$s.include({toGeoJSON:function(r){var c=!f(this._latlngs),m=c&&!f(this._latlngs[0]),y=Ko(this._latlngs,m?2:c?1:0,!0,r);return c||(y=[y]),yi(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),xe.include({toMultiPoint:function(r){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(r).geometry.coordinates)}),yi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(r){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(r);var m=c==="GeometryCollection",y=[];return this.eachLayer(function(w){if(w.toGeoJSON){var C=w.toGeoJSON(r);if(m)y.push(C.geometry);else{var O=Ws(C);O.type==="FeatureCollection"?y.push.apply(y,O.features):y.push(O)}}}),m?yi(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Qo(r,c){return new Fn(r,c)}var wc=Qo,Hi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,c,m){this._url=r,this._bounds=Et(c),tt(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&Sr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Et(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",c=this._image=r?this._url:Kt("img");if(Bt(c,"leaflet-image-layer"),this._zoomAnimated&&Bt(c,"leaflet-zoom-animated"),this.options.className&&Bt(c,this.options.className),c.onselectstart=M,c.onmousemove=M,c.onload=d(this.fire,this,"load"),c.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(r){var c=this._map.getZoomScale(r.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Tn(this._image,m,c)},_reset:function(){var r=this._image,c=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Nt(r,c.min),r.style.width=m.x+"px",r.style.height=m.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Js=function(r,c,m){return new Hi(r,c,m)},Xo=Hi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",c=this._image=r?this._url:Kt("video");if(Bt(c,"leaflet-image-layer"),this._zoomAnimated&&Bt(c,"leaflet-zoom-animated"),this.options.className&&Bt(c,this.options.className),c.onselectstart=M,c.onmousemove=M,c.onloadeddata=d(this.fire,this,"load"),r){for(var m=c.getElementsByTagName("source"),y=[],w=0;w<m.length;w++)y.push(m[w].src);this._url=m.length>0?y:[c.src];return}mt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var O=Kt("source");O.src=this._url[C],c.appendChild(O)}}});function bc(r,c,m){return new Xo(r,c,m)}var Rr=Hi.extend({_initImage:function(){var r=this._image=this._url;Bt(r,"leaflet-image-layer"),this._zoomAnimated&&Bt(r,"leaflet-zoom-animated"),this.options.className&&Bt(r,this.options.className),r.onselectstart=M,r.onmousemove=M}});function Sc(r,c,m){return new Rr(r,c,m)}var vi=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,c){r&&(r instanceof bt||mt(r))?(this._latlng=vt(r),tt(this,c)):(tt(this,r),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(d(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=vt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&Sr(this._container),this},_prepareOpen:function(r){var c=this._source;if(!c._map)return!1;if(c instanceof be){c=null;var m=this._source._layers;for(var y in m)if(m[y]._map){c=m[y];break}if(!c)return!1;this._source=c}if(!r)if(c.getCenter)r=c.getCenter();else if(c.getLatLng)r=c.getLatLng();else if(c.getBounds)r=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")r.innerHTML=c;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),c=P(this.options.offset),m=this._getAnchor();this._zoomAnimated?Nt(this._container,r.add(m)):c=c.add(r).add(m);var y=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(r,c,m,y){var w=c;return w instanceof r||(w=new r(y).setContent(c)),m&&w.setLatLng(m),w}}),de.include({_initOverlay:function(r,c,m,y){var w=m;return w instanceof r?(tt(w,y),w._source=this):(w=c&&!y?c:new r(y,this),w.setContent(m)),w}});var lo=vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,vi.prototype.openOn.call(this,r)},onAdd:function(r){vi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof or||this._source.on("preclick",Dn))},onRemove:function(r){vi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof or||this._source.off("preclick",Dn))},getEvents:function(){var r=vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",c=this._container=Kt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Kt("div",r+"-content-wrapper",c);if(this._contentNode=Kt("div",r+"-content",m),nr(c),_i(this._contentNode),Dt(c,"contextmenu",Dn),this._tipContainer=Kt("div",r+"-tip-container",c),this._tip=Kt("div",r+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Kt("a",r+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(y,"click",function(w){ye(w),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,c=r.style;c.width="",c.whiteSpace="nowrap";var m=r.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var y=r.offsetHeight,w=this.options.maxHeight,C="leaflet-popup-scrolled";w&&y>w?(c.height=w+"px",Bt(r,C)):me(r,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),m=this._getAnchor();Nt(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,c=parseInt(ki(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,y=this._containerWidth,w=new dt(this._containerLeft,-m-this._containerBottom);w._add(jn(this._container));var C=r.layerPointToContainerPoint(w),O=P(this.options.autoPanPadding),F=P(this.options.autoPanPaddingTopLeft||O),W=P(this.options.autoPanPaddingBottomRight||O),ht=r.getSize(),Tt=0,Lt=0;C.x+y+W.x>ht.x&&(Tt=C.x+y-ht.x+W.x),C.x-Tt-F.x<0&&(Tt=C.x-F.x),C.y+m+W.y>ht.y&&(Lt=C.y+m-ht.y+W.y),C.y-Lt-F.y<0&&(Lt=C.y-F.y),(Tt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Tt,Lt]))}},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rf=function(r,c){return new lo(r,c)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(r,c,m){return this._initOverlay(lo,r,c,m).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),de.include({bindPopup:function(r,c){return this._popup=this._initOverlay(lo,this._popup,r,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof be||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){dn(r);var c=r.layer||r.target;if(this._popup._source===c&&!(c instanceof or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=c,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var $o=vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){vi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){vi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=vi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",c=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var c,m,y=this._map,w=this._container,C=y.latLngToContainerPoint(y.getCenter()),O=y.layerPointToContainerPoint(r),F=this.options.direction,W=w.offsetWidth,ht=w.offsetHeight,Tt=P(this.options.offset),Lt=this._getAnchor();F==="top"?(c=W/2,m=ht):F==="bottom"?(c=W/2,m=0):F==="center"?(c=W/2,m=ht/2):F==="right"?(c=0,m=ht/2):F==="left"?(c=W,m=ht/2):O.x<C.x?(F="right",c=0,m=ht/2):(F="left",c=W+(Tt.x+Lt.x)*2,m=ht/2),r=r.subtract(P(c,m,!0)).add(Tt).add(Lt),me(w,"leaflet-tooltip-right"),me(w,"leaflet-tooltip-left"),me(w,"leaflet-tooltip-top"),me(w,"leaflet-tooltip-bottom"),Bt(w,"leaflet-tooltip-"+F),Nt(w,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ce(this._container,r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(c)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mf=function(r,c){return new $o(r,c)};Gt.include({openTooltip:function(r,c,m){return this._initOverlay($o,r,c,m).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),de.include({bindTooltip:function(r,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($o,this._tooltip,r,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var c=r?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof be||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&(Dt(c,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Dt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var c=r.latlng,m,y;this._tooltip.options.sticky&&r.originalEvent&&(m=this._map.mouseEventToContainerPoint(r.originalEvent),y=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var su=Bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var c=r&&r.tagName==="DIV"?r:document.createElement("div"),m=this.options;if(m.html instanceof Element?($e(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=P(m.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Lc(r){return new su(r)}Bi.Default=Qs;var ls=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){tt(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),fe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof dt?r:new dt(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var c=this.getPane().children,m=-r(-1/0,1/0),y=0,w=c.length,C;y<w;y++)C=c[y].style.zIndex,c[y]!==this._container&&C&&(m=r(m,+C));isFinite(m)&&(this.options.zIndex=m+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Mt.ielt9){Ce(this._container,this.options.opacity);var r=+new Date,c=!1,m=!1;for(var y in this._tiles){var w=this._tiles[y];if(!(!w.current||!w.loaded)){var C=Math.min(1,(r-w.loaded)/200);Ce(w.el,C),C<1?c=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(j(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:M,_initContainer:function(){this._container||(this._container=Kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,c=this.options.maxZoom;if(r!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===r?(this._levels[m].el.style.zIndex=c-Math.abs(r-m),this._onUpdateLevel(m)):(fe(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[r],w=this._map;return y||(y=this._levels[r]={},y.el=Kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=w.project(w.unproject(w.getPixelOrigin()),r).round(),y.zoom=r,this._setZoomTransform(y,w.getCenter(),w.getZoom()),M(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:M,_onRemoveLevel:M,_onCreateLevel:M,_pruneTiles:function(){if(this._map){var r,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)c=this._tiles[r],c.retain=c.current;for(r in this._tiles)if(c=this._tiles[r],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var c in this._tiles)this._tiles[c].coords.z===r&&this._removeTile(c)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)fe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,c,m,y){var w=Math.floor(r/2),C=Math.floor(c/2),O=m-1,F=new dt(+w,+C);F.z=+O;var W=this._tileCoordsToKey(F),ht=this._tiles[W];return ht&&ht.active?(ht.retain=!0,!0):(ht&&ht.loaded&&(ht.retain=!0),O>y?this._retainParent(w,C,O,y):!1)},_retainChildren:function(r,c,m,y){for(var w=2*r;w<2*r+2;w++)for(var C=2*c;C<2*c+2;C++){var O=new dt(w,C);O.z=m+1;var F=this._tileCoordsToKey(O),W=this._tiles[F];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);m+1<y&&this._retainChildren(w,C,m+1,y)}},_resetView:function(r){var c=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var c=this.options;return c.minNativeZoom!==void 0&&r<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<r?c.maxNativeZoom:r},_setView:function(r,c,m,y){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var C=this.options.updateWhenZooming&&w!==this._tileZoom;(!y||C)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(r),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(r,c)},_setZoomTransforms:function(r,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],r,c)},_setZoomTransform:function(r,c,m){var y=this._map.getZoomScale(m,r.zoom),w=r.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,m)).round();Mt.any3d?Tn(r.el,w,y):Nt(r.el,w)},_resetGrid:function(){var r=this._map,c=r.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,c.wrapLng[0]],y).x/m.x),Math.ceil(r.project([0,c.wrapLng[1]],y).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([c.wrapLat[0],0],y).y/m.x),Math.ceil(r.project([c.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(m,this._tileZoom),w=c.project(r,this._tileZoom).floor(),C=c.getSize().divideBy(y*2);return new it(w.subtract(C),w.add(C))},_update:function(r){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(r===void 0&&(r=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(r),w=this._pxBoundsToTileRange(y),C=w.getCenter(),O=[],F=this.options.keepBuffer,W=new it(w.getBottomLeft().subtract([F,-F]),w.getTopRight().add([F,-F]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ht in this._tiles){var Tt=this._tiles[ht].coords;(Tt.z!==this._tileZoom||!W.contains(new dt(Tt.x,Tt.y)))&&(this._tiles[ht].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(r,m);return}for(var Lt=w.min.y;Lt<=w.max.y;Lt++)for(var xt=w.min.x;xt<=w.max.x;xt++){var zt=new dt(xt,Lt);if(zt.z=this._tileZoom,!!this._isValidTile(zt)){var Re=this._tiles[this._tileCoordsToKey(zt)];Re?Re.current=!0:O.push(zt)}}if(O.sort(function(pn,ti){return pn.distanceTo(C)-ti.distanceTo(C)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ze=document.createDocumentFragment();for(xt=0;xt<O.length;xt++)this._addTile(O[xt],ze);this._level.el.appendChild(ze)}}}},_isValidTile:function(r){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(r.x<m.min.x||r.x>m.max.x)||!c.wrapLat&&(r.y<m.min.y||r.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(r);return Et(this.options.bounds).overlaps(y)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var c=this._map,m=this.getTileSize(),y=r.scaleBy(m),w=y.add(m),C=c.unproject(y,r.z),O=c.unproject(w,r.z);return[C,O]},_tileCoordsToBounds:function(r){var c=this._tileCoordsToNwSe(r),m=new ft(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var c=r.split(":"),m=new dt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(r){var c=this._tiles[r];c&&(fe(c.el),delete this._tiles[r],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Bt(r,"leaflet-tile");var c=this.getTileSize();r.style.width=c.x+"px",r.style.height=c.y+"px",r.onselectstart=M,r.onmousemove=M,Mt.ielt9&&this.options.opacity<1&&Ce(r,this.options.opacity)},_addTile:function(r,c){var m=this._getTilePos(r),y=this._tileCoordsToKey(r),w=this.createTile(this._wrapCoords(r),d(this._tileReady,this,r));this._initTile(w),this.createTile.length<2&&z(d(this._tileReady,this,r,null,w)),Nt(w,m),this._tiles[y]={el:w,coords:r,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:r})},_tileReady:function(r,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:r});var y=this._tileCoordsToKey(r);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ce(m.el,0),j(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Bt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Mt.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var c=new dt(this._wrapX?A(r.x,this._wrapX):r.x,this._wrapY?A(r.y,this._wrapY):r.y);return c.z=r.z,c},_pxBoundsToTileRange:function(r){var c=this.getTileSize();return new it(r.min.unscaleBy(c).floor(),r.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Ei(r){return new ls(r)}var us=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,c){this._url=r,c=tt(this,c),c.detectRetina&&Mt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,c){return this._url===r&&c===void 0&&(c=!0),this._url=r,c||this.redraw(),this},createTile:function(r,c){var m=document.createElement("img");return Dt(m,"load",d(this._tileOnLoad,this,c,m)),Dt(m,"error",d(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(r),m},getTileUrl:function(r){var c={r:Mt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-r.y;this.options.tms&&(c.y=m),c["-y"]=m}return wt(this._url,a(c,this.options))},_tileOnLoad:function(r,c){Mt.ielt9?setTimeout(d(r,this,null,c),0):r(null,c)},_tileOnError:function(r,c,m){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),r(m,c)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(r=c-r),r+y},_getSubdomain:function(r){var c=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var r,c;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(c=this._tiles[r].el,c.onload=M,c.onerror=M,!c.complete)){c.src=Rt;var m=this._tiles[r].coords;fe(c),delete this._tiles[r],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(r){var c=this._tiles[r];if(c)return c.el.setAttribute("src",Rt),ls.prototype._removeTile.call(this,r)},_tileReady:function(r,c,m){if(!(!this._map||m&&m.getAttribute("src")===Rt))return ls.prototype._tileReady.call(this,r,c,m)}});function Zn(r,c){return new us(r,c)}var Yn=us.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,c){this._url=r;var m=a({},this.defaultWmsParams);for(var y in c)y in this.options||(m[y]=c[y]);c=tt(this,c);var w=c.detectRetina&&Mt.retina?2:1,C=this.getTileSize();m.width=C.x*w,m.height=C.y*w,this.wmsParams=m},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,us.prototype.onAdd.call(this,r)},getTileUrl:function(r){var c=this._tileCoordsToNwSe(r),m=this._crs,y=pt(m.project(c[0]),m.project(c[1])),w=y.min,C=y.max,O=(this._wmsVersion>=1.3&&this._crs===qe?[w.y,w.x,C.y,C.x]:[w.x,w.y,C.x,C.y]).join(","),F=us.prototype.getTileUrl.call(this,r);return F+st(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(r,c){return a(this.wmsParams,r),c||this.redraw(),this}});function ta(r,c){return new Yn(r,c)}us.WMS=Yn,Zn.wms=ta;var Ti=de.extend({options:{padding:.1},initialize:function(r){tt(this,r),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,c){var m=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),C=y.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(r,c));Mt.any3d?Tn(this._container,C,m):Nt(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-r)).round();this._bounds=new it(m,m.add(c.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),uo=Ti.extend({options:{tolerance:0},getEvents:function(){var r=Ti.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ti.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Dt(r,"mousemove",this._onMouseMove,this),Dt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,fe(this._container),re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var c in this._layers)r=this._layers[c],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ti.prototype._update.call(this);var r=this._bounds,c=this._container,m=r.getSize(),y=Mt.retina?2:1;Nt(c,r.min),c.width=y*m.x,c.height=y*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ti.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[v(r)]=r;var c=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var c=r._order,m=c.next,y=c.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete r._order,delete this._layers[v(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var c=r.options.dashArray.split(/[, ]+/),m=[],y,w;for(w=0;w<c.length;w++){if(y=Number(c[w]),isNaN(y))return;m.push(y)}r.options._dashArray=m}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var c=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(r._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(r._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var c=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)r=y.layer,(!c||r._pxBounds&&r._pxBounds.intersects(c))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,c){if(this._drawing){var m,y,w,C,O=r._parts,F=O.length,W=this._ctx;if(F){for(W.beginPath(),m=0;m<F;m++){for(y=0,w=O[m].length;y<w;y++)C=O[m][y],W[y?"lineTo":"moveTo"](C.x,C.y);c&&W.closePath()}this._fillStroke(W,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var c=r._point,m=this._ctx,y=Math.max(Math.round(r._radius),1),w=(Math.max(Math.round(r._radiusY),1)||y)/y;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(c.x,c.y/w,y,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,r)}},_fillStroke:function(r,c){var m=c.options;m.fill&&(r.globalAlpha=m.fillOpacity,r.fillStyle=m.fillColor||m.color,r.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(r.setLineDash&&r.setLineDash(c.options&&c.options._dashArray||[]),r.globalAlpha=m.opacity,r.lineWidth=m.weight,r.strokeStyle=m.color,r.lineCap=m.lineCap,r.lineJoin=m.lineJoin,r.stroke())},_onClick:function(r){for(var c=this._map.mouseEventToLayerPoint(r),m,y,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,c)}},_handleMouseOut:function(r){var c=this._hoveredLayer;c&&(me(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,c){if(!this._mouseHoverThrottled){for(var m,y,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(r),y&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([y],r,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,c,m){this._map._fireDOMEvent(c,m||c.type,r)},_bringToFront:function(r){var c=r._order;if(c){var m=c.next,y=c.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(r)}},_bringToBack:function(r){var c=r._order;if(c){var m=c.next,y=c.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(r)}}});function co(r){return Mt.canvas?new uo(r):null}var cs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ea={_initContainer:function(){this._container=Kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ti.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var c=r._container=cs("shape");Bt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",r._path=cs("path"),c.appendChild(r._path),this._updateStyle(r),this._layers[v(r)]=r},_addPath:function(r){var c=r._container;this._container.appendChild(c),r.options.interactive&&r.addInteractiveTarget(c)},_removePath:function(r){var c=r._container;fe(c),r.removeInteractiveTarget(c),delete this._layers[v(r)]},_updateStyle:function(r){var c=r._stroke,m=r._fill,y=r.options,w=r._container;w.stroked=!!y.stroke,w.filled=!!y.fill,y.stroke?(c||(c=r._stroke=cs("stroke")),w.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=mt(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(w.removeChild(c),r._stroke=null),y.fill?(m||(m=r._fill=cs("fill")),w.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(w.removeChild(m),r._fill=null)},_updateCircle:function(r){var c=r._point.round(),m=Math.round(r._radius),y=Math.round(r._radiusY||m);this._setPath(r,r._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(r,c){r._path.v=c},_bringToFront:function(r){Oi(r._container)},_bringToBack:function(r){Sr(r._container)}},ho=Mt.vml?cs:Is,Mr=Ti.extend({_initContainer:function(){this._container=ho("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ho("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ti.prototype._update.call(this);var r=this._bounds,c=r.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Nt(m,r.min),m.setAttribute("viewBox",[r.min.x,r.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(r){var c=r._path=ho("path");r.options.className&&Bt(c,r.options.className),r.options.interactive&&Bt(c,"leaflet-interactive"),this._updateStyle(r),this._layers[v(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){fe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[v(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var c=r._path,m=r.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(r,c){this._setPath(r,Ha(r._parts,c))},_updateCircle:function(r){var c=r._point,m=Math.max(Math.round(r._radius),1),y=Math.max(Math.round(r._radiusY),1)||m,w="a"+m+","+y+" 0 1,0 ",C=r._empty()?"M0 0":"M"+(c.x-m)+","+c.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(r,C)},_setPath:function(r,c){r._path.setAttribute("d",c)},_bringToFront:function(r){Oi(r._path)},_bringToBack:function(r){Sr(r._path)}});Mt.vml&&Mr.include(ea);function hs(r){return Mt.svg||Mt.vml?new Mr(r):null}Gt.include({getRenderer:function(r){var c=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var c=this._paneRenderers[r];return c===void 0&&(c=this._createRenderer({pane:r}),this._paneRenderers[r]=c),c},_createRenderer:function(r){return this.options.preferCanvas&&co(r)||hs(r)}});var Ac=$s.extend({initialize:function(r,c){$s.prototype.initialize.call(this,this._boundsToLatLngs(r),c)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Et(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Kn(r,c){return new Ac(r,c)}Mr.create=ho,Mr.pointsToPath=Ha,Fn.geometryToLayer=so,Fn.coordsToLatLng=Yo,Fn.coordsToLatLngs=ao,Fn.latLngToCoords=oo,Fn.latLngsToCoords=Ko,Fn.getFeature=yi,Fn.asFeature=Ws,Gt.mergeOptions({boxZoom:!0});var Wo=Pn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fn(),ns(),this._startPoint=this._map.mouseEventToContainerPoint(r),Dt(document,{contextmenu:dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Kt("div","leaflet-zoom-box",this._container),Bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var c=new it(this._point,this._startPoint),m=c.getSize();Nt(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(fe(this._box),me(this._container,"leaflet-crosshair")),di(),Wa(),re(document,{contextmenu:dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var c=new ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",Wo),Gt.mergeOptions({doubleClickZoom:!0});var ji=Pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var c=this._map,m=c.getZoom(),y=c.options.zoomDelta,w=r.originalEvent.shiftKey?m-y:m+y;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(r.containerPoint,w)}});Gt.addInitHook("addHandler","doubleClickZoom",ji),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var au=Pn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new gi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){me(this._map._container,"leaflet-grab"),me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Et(this._map.options.maxBounds);this._offsetLimit=pt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,c){return r-(r-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;r.x<c.min.x&&(r.x=this._viscousLimit(r.x,c.min.x)),r.y<c.min.y&&(r.y=this._viscousLimit(r.y,c.min.y)),r.x>c.max.x&&(r.x=this._viscousLimit(r.x,c.max.x)),r.y>c.max.y&&(r.y=this._viscousLimit(r.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,c=Math.round(r/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,w=(y-c+m)%r+c-m,C=(y+c+m)%r-c-m,O=Math.abs(w+m)<Math.abs(C+m)?w:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(r){var c=this._map,m=c.options,y=!m.inertia||r.noInertia||this._times.length<2;if(c.fire("dragend",r),y)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,O=m.easeLinearity,F=w.multiplyBy(O/C),W=F.distanceTo([0,0]),ht=Math.min(m.inertiaMaxSpeed,W),Tt=F.multiplyBy(ht/W),Lt=ht/(m.inertiaDeceleration*O),xt=Tt.multiplyBy(-Lt/2).round();!xt.x&&!xt.y?c.fire("moveend"):(xt=c._limitOffset(xt,c.options.maxBounds),z(function(){c.panBy(xt,{duration:Lt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",au),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fo=Pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Dt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,c=document.documentElement,m=r.scrollTop||c.scrollTop,y=r.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var c=this._panKeys={},m=this.keyCodes,y,w;for(y=0,w=m.left.length;y<w;y++)c[m.left[y]]=[-1*r,0];for(y=0,w=m.right.length;y<w;y++)c[m.right[y]]=[r,0];for(y=0,w=m.down.length;y<w;y++)c[m.down[y]]=[0,r];for(y=0,w=m.up.length;y<w;y++)c[m.up[y]]=[0,-1*r]},_setZoomDelta:function(r){var c=this._zoomKeys={},m=this.keyCodes,y,w;for(y=0,w=m.zoomIn.length;y<w;y++)c[m.zoomIn[y]]=r;for(y=0,w=m.zoomOut.length;y<w;y++)c[m.zoomOut[y]]=-r},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var c=r.keyCode,m=this._map,y;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[c],r.shiftKey&&(y=P(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(P(y),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(w)}else m.panBy(y)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;dn(r)}}});Gt.addInitHook("addHandler","keyboard",fo),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ir=Pn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var c=is(r),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),y),dn(r)},_performZoom:function(){var r=this._map,c=r.getZoom(),m=this._map.options.zoomSnap||0;r._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,C=m?Math.ceil(w/m)*m:w,O=r._limitZoom(c+(this._delta>0?C:-C))-c;this._delta=0,this._startTime=null,O&&(r.options.scrollWheelZoom==="center"?r.setZoom(c+O):r.setZoomAround(this._lastMousePos,c+O))}});Gt.addInitHook("addHandler","scrollWheelZoom",Ir);var ou=600;Gt.mergeOptions({tapHold:Mt.touchNative&&Mt.safari&&Mt.mobile,tapTolerance:15});var Jo=Pn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var c=r.touches[0];this._startPos=this._newPos=new dt(c.clientX,c.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",ye),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),ou),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){re(document,"touchend",ye),re(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)},_onMove:function(r){var c=r.touches[0];this._newPos=new dt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,c){var m=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Gt.addInitHook("addHandler","tapHold",Jo),Gt.mergeOptions({touchZoom:Mt.touch,bounceAtZoomLimits:!0});var fs=Pn.extend({addHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){me(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var c=this._map;if(!(!r.touches||r.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(r.touches[0]),y=c.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),ye(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(r.touches[0]),y=c.mouseEventToContainerPoint(r.touches[1]),w=m.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var C=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(w===1&&C.x===0&&C.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var O=d(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(O,this,!0),ye(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",fs),Gt.BoxZoom=Wo,Gt.DoubleClickZoom=ji,Gt.Drag=au,Gt.Keyboard=fo,Gt.ScrollWheelZoom=Ir,Gt.TapHold=Jo,Gt.TouchZoom=fs,n.Bounds=it,n.Browser=Mt,n.CRS=ge,n.Canvas=uo,n.Circle=iu,n.CircleMarker=ro,n.Class=we,n.Control=an,n.DivIcon=su,n.DivOverlay=vi,n.DomEvent=Ho,n.DomUtil=Ja,n.Draggable=gi,n.Evented=yt,n.FeatureGroup=be,n.GeoJSON=Fn,n.GridLayer=ls,n.Handler=Pn,n.Icon=Bi,n.ImageOverlay=Hi,n.LatLng=bt,n.LatLngBounds=ft,n.Layer=de,n.LayerGroup=xe,n.LineUtil=R,n.Map=Gt,n.Marker=Xs,n.Mixin=ss,n.Path=or,n.Point=dt,n.PolyUtil=Zs,n.Polygon=$s,n.Polyline=lr,n.Popup=lo,n.PosAnimation=rs,n.Projection=gt,n.Rectangle=Ac,n.Renderer=Ti,n.SVG=Mr,n.SVGOverlay=Rr,n.TileLayer=us,n.Tooltip=$o,n.Transformation=ai,n.Util=V,n.VideoOverlay=Xo,n.bind=d,n.bounds=pt,n.canvas=co,n.circle=Cf,n.circleMarker=Tc,n.control=mn,n.divIcon=Lc,n.extend=a,n.featureGroup=Ui,n.geoJSON=Qo,n.geoJson=wc,n.gridLayer=Ei,n.icon=Zo,n.imageOverlay=Js,n.latLng=vt,n.latLngBounds=Et,n.layerGroup=ar,n.map=Vi,n.marker=nu,n.point=P,n.polygon=Gn,n.polyline=xf,n.popup=Rf,n.rectangle=Kn,n.setOptions=tt,n.stamp=v,n.svg=hs,n.svgOverlay=Sc,n.tileLayer=Zn,n.tooltip=Mf,n.transformation=oi,n.version=o,n.videoOverlay=bc;var na=window.L;n.noConflict=function(){return window.L=na,this},window.L=n})}(Ku,Ku.exports)),Ku.exports}var Af=iI();function $p(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function Wp(s,t){return t==null?function(o,a){const u=K.useRef(void 0);return u.current||(u.current=s(o,a)),u}:function(o,a){const u=K.useRef(void 0);u.current||(u.current=s(o,a));const d=K.useRef(o),{instance:g}=u.current;return K.useEffect(function(){d.current!==o&&(t(g,o,d.current),d.current=o)},[g,o,t]),u}}function rI(s,t){K.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function aw(s){return function(n){const o=Qp(),a=s(Xp(n,o),o);return rw(o.map,n.attribution),sw(a.current,n.eventHandlers),rI(a.current,o),a}}function sI(s,t){const n=Wp(s,t),o=aw(n);return WM(o)}function aI(s,t){const n=Wp(s),o=eI(n,t);return JM(o)}function oI(s,t){const n=Wp(s,t),o=aw(n);return tI(o)}function lI(s,t,n){const{opacity:o,zIndex:a}=t;o!=null&&o!==n.opacity&&s.setOpacity(o),a!=null&&a!==n.zIndex&&s.setZIndex(a)}function uI(){return Qp().map}function cI({bounds:s,boundsOptions:t,center:n,children:o,className:a,id:u,placeholder:d,style:g,whenReady:v,zoom:T,...A},M){const[I]=K.useState({className:a,id:u,style:g}),[$,nt]=K.useState(null),tt=K.useRef(void 0);K.useImperativeHandle(M,()=>$?.map??null,[$]);const st=K.useCallback(wt=>{if(wt!==null&&!tt.current){const mt=new Af.Map(wt,A);tt.current=mt,n!=null&&T!=null?mt.setView(n,T):s!=null&&mt.fitBounds(s,t),v!=null&&mt.whenReady(v),nt(XM(mt))}},[]);K.useEffect(()=>()=>{$?.map.remove()},[$]);const ct=$?Sm.createElement(Kp,{value:$},o):d??null;return Sm.createElement("div",{...I,ref:st},ct)}const hI=K.forwardRef(cI),fI=sI(function({position:t,...n},o){const a=new Af.Marker(t,n);return $p(a,$M(o,{overlayContainer:a}))},function(t,n,o){n.position!==o.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),dI=aI(function(t,n){const o=new Af.Popup(t,n.overlayContainer);return $p(o,n)},function(t,n,{position:o},a){K.useEffect(function(){const{instance:d}=t;function g(T){T.popup===d&&(d.update(),a(!0))}function v(T){T.popup===d&&a(!1)}return n.map.on({popupopen:g,popupclose:v}),n.overlayContainer==null?(o!=null&&d.setLatLng(o),d.openOn(n.map)):n.overlayContainer.bindPopup(d),function(){n.map.off({popupopen:g,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(d)}},[t,n,a,o])}),mI=oI(function({url:t,...n},o){const a=new Af.TileLayer(t,Xp(n,o));return $p(a,o)},function(t,n,o){lI(t,n,o);const{url:a}=n;a!=null&&a!==o.url&&t.setUrl(a)});(function(s,t,n){function o(a,u){for(;(a=a.parentElement)&&!a.classList.contains(u););return a}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(a,u){this._map=a,this._container=a._container,this._overlayPane=a._panes.overlayPane,this._popupPane=a._panes.popupPane,u&&u.shapeOptions&&(u.shapeOptions=L.Util.extend({},this.options.shapeOptions,u.shapeOptions)),L.setOptions(this,u);var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire(L.Draw.Event.CREATED,{layer:a,layerType:this.type})},_cancelDrawing:function(a){a.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(a,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var a=this._markers.pop(),u=this._poly,d=u.getLatLngs(),g=d.splice(-1,1)[0];this._poly.setLatLngs(d),this._markerGroup.removeLayer(a),u.getLatLngs().length<2&&this._map.removeLayer(u),this._vertexChanged(g,!1)}},addVertex:function(a){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(a)),this._poly.addLatLng(a),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(a,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var a=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),u=this._poly.newLatLngIntersects(a[a.length-1]);if(!this.options.allowIntersection&&u||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(a){var u=this._map.mouseEventToLayerPoint(a.originalEvent),d=this._map.layerPointToLatLng(u);this._currentLatLng=d,this._updateTooltip(d),this._updateGuide(u),this._mouseMarker.setLatLng(d),L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,u){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(a,u),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(a){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(a),this._clickHandled=!0,this._disableNewMarkers();var u=a.originalEvent,d=u.clientX,g=u.clientY;this._startPoint.call(this,d,g)}},_startPoint:function(a,u){this._mouseDownOrigin=L.point(a,u)},_onMouseUp:function(a){var u=a.originalEvent,d=u.clientX,g=u.clientY;this._endPoint.call(this,d,g,a),this._clickHandled=null},_endPoint:function(a,u,d){if(this._mouseDownOrigin){var g=L.point(a,u).distanceTo(this._mouseDownOrigin),v=this._calculateFinishDistance(d.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(d.latlng),this._finishShape()):v<10&&L.Browser.touch?this._finishShape():Math.abs(g)<9*(s.devicePixelRatio||1)&&this.addVertex(d.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(a){var u,d,g=a.originalEvent;!g.touches||!g.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(u=g.touches[0].clientX,d=g.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,u,d),this._endPoint.call(this,u,d,a),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(a){var u;if(this._markers.length>0){var d;if(this.type===L.Draw.Polyline.TYPE)d=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;d=this._markers[0]}var g=this._map.latLngToContainerPoint(d.getLatLng()),v=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),T=this._map.latLngToContainerPoint(v.getLatLng());u=g.distanceTo(T)}else u=1/0;return u},_updateFinishHandler:function(){var a=this._markers.length;a>1&&this._markers[a-1].on("click",this._finishShape,this),a>2&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){var u=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(u),u},_updateGuide:function(a){var u=this._markers?this._markers.length:0;u>0&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[u-1].getLatLng()),a))},_updateTooltip:function(a){var u=this._getTooltipText();a&&this._tooltip.updatePosition(a),this._errorShown||this._tooltip.updateContent(u)},_drawGuide:function(a,u){var d,g,v,T=Math.floor(Math.sqrt(Math.pow(u.x-a.x,2)+Math.pow(u.y-a.y,2))),A=this.options.guidelineDistance,M=this.options.maxGuideLineLength,I=T>M?T-M:A;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));I<T;I+=this.options.guidelineDistance)d=I/T,g={x:Math.floor(a.x*(1-d)+d*u.x),y:Math.floor(a.y*(1-d)+d*u.y)},v=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),v.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(v,g)},_updateGuideColor:function(a){if(this._guidesContainer)for(var u=0,d=this._guidesContainer.childNodes.length;u<d;u++)this._guidesContainer.childNodes[u].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,u,d=this.options.showLength;return this._markers.length===0?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(u=d?this._getMeasurementString():"",a=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:u}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:u}),a},_updateRunningMeasure:function(a,u){var d,g,v=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(d=v-(u?2:1),g=L.GeometryUtil.isVersion07x()?a.distanceTo(this._markers[d].getLatLng())*(this.options.factor||1):this._map.distance(a,this._markers[d].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=g*(u?1:-1))},_getMeasurementString:function(){var a,u=this._currentLatLng,d=this._markers[this._markers.length-1].getLatLng();return a=L.GeometryUtil.isVersion07x()?d&&u&&u.distanceTo?this._measurementRunningTotal+u.distanceTo(d)*(this.options.factor||1):this._measurementRunningTotal||0:d&&u?this._measurementRunningTotal+this._map.distance(u,d)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(a,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(a,u){L.Draw.Polyline.prototype.initialize.call(this,a,u),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;a===1&&this._markers[0].on("click",this._finishShape,this),a>2&&(this._markers[a-1].on("dblclick",this._finishShape,this),a>3&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,u;return this._markers.length===0?a=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(a=L.drawLocal.draw.handlers.polygon.tooltip.cont,u=this._getMeasurementString()):(a=L.drawLocal.draw.handlers.polygon.tooltip.end,u=this._getMeasurementString()),{text:a,subtext:u}},_getMeasurementString:function(){var a=this._area,u="";return a||this.options.showLength?(this.options.showLength&&(u=L.Draw.Polyline.prototype._getMeasurementString.call(this)),a&&(u+="<br>"+L.GeometryUtil.readableArea(a,this.options.metric,this.options.precision)),u):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(a,u){var d;!this.options.allowIntersection&&this.options.showArea&&(d=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(d)),L.Draw.Polyline.prototype._vertexChanged.call(this,a,u)},_cleanUpShape:function(){var a=this._markers.length;a>0&&(this._markers[0].off("click",this._finishShape,this),a>2&&this._markers[a-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(a,u){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,a,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(a){this._isDrawing=!0,this._startLatLng=a.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){var u=a.latlng;this._tooltip.updatePosition(u),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(u))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(a,u){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,u)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(a){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!o(a.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_getTooltipText:function(){var a,u,d,g=L.Draw.SimpleShape.prototype._getTooltipText.call(this),v=this._shape,T=this.options.showArea;return v&&(a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=L.GeometryUtil.geodesicArea(a),d=T?L.GeometryUtil.readableArea(u,this.options.metric):""),{text:g.text,subtext:d}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(a,u){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){var u=a.latlng;this._tooltip.updatePosition(u),this._mouseMarker.setLatLng(u),this._marker?(u=this._mouseMarker.getLatLng(),this._marker.setLatLng(u)):(this._marker=this._createMarker(u),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(a){return new L.Marker(a,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(a){this._onMouseMove(a),this._onClick()},_fireCreatedEvent:function(){var a=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(a,u){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,u)},_fireCreatedEvent:function(){var a=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)},_createMarker:function(a){return new L.CircleMarker(a,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(a,u){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,u)},_drawShape:function(a){if(L.GeometryUtil.isVersion07x())var u=this._startLatLng.distanceTo(a);else var u=this._map.distance(this._startLatLng,a);this._shape?this._shape.setRadius(u):(this._shape=new L.Circle(this._startLatLng,u,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_onMouseMove:function(a){var u,d=a.latlng,g=this.options.showRadius,v=this.options.metric;if(this._tooltip.updatePosition(d),this._isDrawing){this._drawShape(d),u=this._shape.getRadius().toFixed(1);var T="";g&&(T=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(u,v,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:T})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(a,u){this._marker=a,L.setOptions(this,u)},addHooks:function(){var a=this._marker;a.dragging.enable(),a.on("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},removeHooks:function(){var a=this._marker;a.dragging.disable(),a.off("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},_onDragEnd:function(a){var u=a.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_toggleMarkerHighlight:function(){var a=this._marker._icon;a&&(a.style.display="none",L.DomUtil.hasClass(a,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,-4)):(L.DomUtil.addClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,4)),a.style.display="")},_offsetMarker:function(a,u){var d=parseInt(a.style.marginTop,10)-u,g=parseInt(a.style.marginLeft,10)-u;a.style.marginTop=d+"px",a.style.marginLeft=g+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(a){this.latlngs=[a._latlngs],a._holes&&(this.latlngs=this.latlngs.concat(a._holes)),this._poly=a,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(a){for(var u=0;u<this._verticesHandlers.length;u++)a(this._verticesHandlers[u])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(a){a.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(a){a.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(a){a.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var a=0;a<this.latlngs.length;a++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[a],this._poly.options.poly))},_updateLatLngs:function(a){this.latlngs=[a.layer._latlngs],a.layer._holes&&(this.latlngs=this.latlngs.concat(a.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(a,u,d){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=a,d&&d.drawError&&(d.drawError=L.Util.extend({},this.options.drawError,d.drawError)),this._latlngs=u,L.setOptions(this,d)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var a=this._poly,u=a._path;a instanceof L.Polygon||(a.options.fill=!1,a.options.editing&&(a.options.editing.fill=!1)),u&&a.options.editing&&a.options.editing.className&&(a.options.original.className&&a.options.original.className.split(" ").forEach(function(d){L.DomUtil.removeClass(u,d)}),a.options.editing.className.split(" ").forEach(function(d){L.DomUtil.addClass(u,d)})),a.setStyle(a.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var a=this._poly,u=a._path;u&&a.options.editing&&a.options.editing.className&&(a.options.editing.className.split(" ").forEach(function(d){L.DomUtil.removeClass(u,d)}),a.options.original.className&&a.options.original.className.split(" ").forEach(function(d){L.DomUtil.addClass(u,d)})),a.setStyle(a.options.original),a._map&&(a._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var a,u,d,g,v=this._defaultShape();for(a=0,d=v.length;a<d;a++)g=this._createMarker(v[a],a),g.on("click",this._onMarkerClick,this),g.on("contextmenu",this._onContextMenu,this),this._markers.push(g);var T,A;for(a=0,u=d-1;a<d;u=a++)(a!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(T=this._markers[u],A=this._markers[a],this._createMiddleMarker(T,A),this._updatePrevNext(T,A))},_createMarker:function(a,u){var d=new L.Marker.Touch(a,{draggable:!0,icon:this.options.icon});return d._origLatLng=a,d._index=u,d.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(d),d},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var a=this._defaultShape(),u=[].splice.apply(a,arguments);return this._poly._convertLatLngs(a,!0),this._poly.redraw(),u},_removeMarker:function(a){var u=a._index;this._markerGroup.removeLayer(a),this._markers.splice(u,1),this._spliceLatLngs(u,1),this._updateIndexes(u,-1),a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(a){var u=a.target,d=this._poly,g=L.LatLngUtil.cloneLatLng(u._origLatLng);if(L.extend(u._origLatLng,u._latlng),d.options.poly){var v=d._map._editTooltip;if(!d.options.poly.allowIntersection&&d.intersects()){L.extend(u._origLatLng,g),u.setLatLng(g);var T=d.options.color;d.setStyle({color:this.options.drawError.color}),v&&v.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){d.setStyle({color:T}),v&&v.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var A=this._poly.getLatLngs();this._poly._convertLatLngs(A,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(a){var u=L.Polygon&&this._poly instanceof L.Polygon?4:3,d=a.target;this._defaultShape().length<u||(this._removeMarker(d),this._updatePrevNext(d._prev,d._next),d._middleLeft&&this._markerGroup.removeLayer(d._middleLeft),d._middleRight&&this._markerGroup.removeLayer(d._middleRight),d._prev&&d._next?this._createMiddleMarker(d._prev,d._next):d._prev?d._next||(d._prev._middleRight=null):d._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(a){var u=a.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:u,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(a){var u=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),d=this._map.layerPointToLatLng(u),g=a.target;L.extend(g._origLatLng,d),g._middleLeft&&g._middleLeft.setLatLng(this._getMiddleLatLng(g._prev,g)),g._middleRight&&g._middleRight.setLatLng(this._getMiddleLatLng(g,g._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(a,u){this._markerGroup.eachLayer(function(d){d._index>a&&(d._index+=u)})},_createMiddleMarker:function(a,u){var d,g,v,T=this._getMiddleLatLng(a,u),A=this._createMarker(T);A.setOpacity(.6),a._middleRight=u._middleLeft=A,g=function(){A.off("touchmove",g,this);var M=u._index;A._index=M,A.off("click",d,this).on("click",this._onMarkerClick,this),T.lat=A.getLatLng().lat,T.lng=A.getLatLng().lng,this._spliceLatLngs(M,0,T),this._markers.splice(M,0,A),A.setOpacity(1),this._updateIndexes(M,1),u._index++,this._updatePrevNext(a,A),this._updatePrevNext(A,u),this._poly.fire("editstart")},v=function(){A.off("dragstart",g,this),A.off("dragend",v,this),A.off("touchmove",g,this),this._createMiddleMarker(a,A),this._createMiddleMarker(A,u)},d=function(){g.call(this),v.call(this),this._fireEdit()},A.on("click",d,this).on("dragstart",g,this).on("dragend",v,this).on("touchmove",g,this),this._markerGroup.addLayer(A)},_updatePrevNext:function(a,u){a&&(a._next=u),u&&(u._prev=a)},_getMiddleLatLng:function(a,u){var d=this._poly._map,g=d.project(a.getLatLng()),v=d.project(u.getLatLng());return d.unproject(g._add(v)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(a,u){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=a,L.Util.setOptions(this,u)},addHooks:function(){var a=this._shape;this._shape._map&&(this._map=this._shape._map,a.setStyle(a.options.editing),a._map&&(this._map=a._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var a=this._shape;if(a.setStyle(a.options.original),a._map){this._unbindMarker(this._moveMarker);for(var u=0,d=this._resizeMarkers.length;u<d;u++)this._unbindMarker(this._resizeMarkers[u]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,u){var d=new L.Marker.Touch(a,{draggable:!0,icon:u,zIndexOffset:10});return this._bindMarker(d),this._markerGroup.addLayer(d),d},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(a){a.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(a){var u=a.target,d=u.getLatLng();u===this._moveMarker?this._move(d):this._resize(d),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(a){a.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(a){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a),typeof this._getCorners=="function"){var u=this._getCorners(),d=a.target,g=d._cornerIndex;d.setOpacity(0),this._oppositeCorner=u[(g+2)%4],this._toggleCornerMarkers(0,g)}this._shape.fire("editstart")},_onTouchMove:function(a){var u=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),d=this._map.layerPointToLatLng(u);return a.target===this._moveMarker?this._move(d):this._resize(d),this._shape.redraw(),!1},_onTouchEnd:function(a){a.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getBounds(),u=a.getCenter();this._moveMarker=this._createMarker(u,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var u=0,d=a.length;u<d;u++)this._resizeMarkers.push(this._createMarker(a[u],this.options.resizeIcon)),this._resizeMarkers[u]._cornerIndex=u},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var u=this._getCorners(),d=a.target,g=d._cornerIndex;this._oppositeCorner=u[(g+2)%4],this._toggleCornerMarkers(0,g)},_onMarkerDragEnd:function(a){var u,d,g=a.target;g===this._moveMarker&&(u=this._shape.getBounds(),d=u.getCenter(),g.setLatLng(d)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var u,d=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),g=this._shape.getBounds(),v=g.getCenter(),T=[],A=0,M=d.length;A<M;A++)u=[d[A].lat-v.lat,d[A].lng-v.lng],T.push([a.lat+u[0],a.lng+u[1]]);this._shape.setLatLngs(T),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(a){var u;this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner)),u=this._shape.getBounds(),this._moveMarker.setLatLng(u.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var a=this._shape.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_toggleCornerMarkers:function(a){for(var u=0,d=this._resizeMarkers.length;u<d;u++)this._resizeMarkers[u].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),u=0,d=this._resizeMarkers.length;u<d;u++)this._resizeMarkers[u].setLatLng(a[u])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(a){if(this._resizeMarkers.length){var u=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(u)}this._shape.setLatLng(a),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var a=this._shape.getLatLng(),u=this._getResizeMarkerPoint(a);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(u,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var u=this._shape._radius*Math.cos(Math.PI/4),d=this._map.project(a);return this._map.unproject([d.x+u,d.y-u])},_resize:function(a){var u=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=u.distanceTo(a):radius=this._map.distance(u,a),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(a,u){var d={};if(a.touches!==void 0){if(!a.touches.length)return;d=a.touches[0]}else if(a.pointerType!=="touch"||(d=a,!this._filterClick(a)))return;var g=this._map.mouseEventToContainerPoint(d),v=this._map.mouseEventToLayerPoint(d),T=this._map.layerPointToLatLng(v);this._map.fire(u,{latlng:T,layerPoint:v,containerPoint:g,pageX:d.pageX,pageY:d.pageY,originalEvent:a})},_filterClick:function(a){var u=a.timeStamp||a.originalEvent.timeStamp,d=L.DomEvent._lastClick&&u-L.DomEvent._lastClick;return d&&d>100&&d<500||a.target._simulatedClick&&!a._simulated?(L.DomEvent.stop(a),!1):(L.DomEvent._lastClick=u,!0)},_onTouchStart:function(a){this._map._loaded&&this._touchEvent(a,"touchstart")},_onTouchEnd:function(a){this._map._loaded&&this._touchEvent(a,"touchend")},_onTouchCancel:function(a){if(this._map._loaded){var u="touchcancel";this._detectIE()&&(u="pointercancel"),this._touchEvent(a,u)}},_onTouchLeave:function(a){this._map._loaded&&this._touchEvent(a,"touchleave")},_onTouchMove:function(a){this._map._loaded&&this._touchEvent(a,"touchmove")},_detectIE:function(){var a=s.navigator.userAgent,u=a.indexOf("MSIE ");if(u>0)return parseInt(a.substring(u+5,a.indexOf(".",u)),10);if(a.indexOf("Trident/")>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var g=a.indexOf("Edge/");return g>0&&parseInt(a.substring(g+5,a.indexOf(".",g)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var a=this._icon,u=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?u.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):u.concat(["touchcancel"]),L.DomUtil.addClass(a,"leaflet-clickable"),L.DomEvent.on(a,"click",this._onMouseClick,this),L.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var d=0;d<u.length;d++)L.DomEvent.on(a,u[d],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var a=s.navigator.userAgent,u=a.indexOf("MSIE ");if(u>0)return parseInt(a.substring(u+5,a.indexOf(".",u)),10);if(a.indexOf("Trident/")>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var g=a.indexOf("Edge/");return g>0&&parseInt(a.substring(g+5,a.indexOf(".",g)),10)}}),L.LatLngUtil={cloneLatLngs:function(a){for(var u=[],d=0,g=a.length;d<g;d++)Array.isArray(a[d])?u.push(L.LatLngUtil.cloneLatLngs(a[d])):u.push(this.cloneLatLng(a[d]));return u},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}},function(){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(u){var d,g,v=u.length,T=0,A=Math.PI/180;if(v>2){for(var M=0;M<v;M++)d=u[M],g=u[(M+1)%v],T+=(g.lng-d.lng)*A*(2+Math.sin(d.lat*A)+Math.sin(g.lat*A));T=6378137*T*6378137/2}return Math.abs(T)},formattedNumber:function(u,d){var g=parseFloat(u).toFixed(d),v=L.drawLocal.format&&L.drawLocal.format.numeric,T=v&&v.delimiters,A=T&&T.thousands,M=T&&T.decimal;if(A||M){var I=g.split(".");g=A?I[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+A):I[0],M=M||".",I.length>1&&(g=g+M+I[1])}return g},readableArea:function(u,d,A){var v,T,A=L.Util.extend({},a,A);return d?(T=["ha","m"],type=typeof d,type==="string"?T=[d]:type!=="boolean"&&(T=d),v=u>=1e6&&T.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*u,A.km)+" km":u>=1e4&&T.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*u,A.ha)+" ha":L.GeometryUtil.formattedNumber(u,A.m)+" m"):(u/=.836127,v=u>=3097600?L.GeometryUtil.formattedNumber(u/3097600,A.mi)+" mi":u>=4840?L.GeometryUtil.formattedNumber(u/4840,A.ac)+" acres":L.GeometryUtil.formattedNumber(u,A.yd)+" yd"),v},readableDistance:function(u,d,g,v,M){var A,M=L.Util.extend({},a,M);switch(d?typeof d=="string"?d:"metric":g?"feet":v?"nauticalMile":"yards"){case"metric":A=u>1e3?L.GeometryUtil.formattedNumber(u/1e3,M.km)+" km":L.GeometryUtil.formattedNumber(u,M.m)+" m";break;case"feet":u*=3.28083,A=L.GeometryUtil.formattedNumber(u,M.ft)+" ft";break;case"nauticalMile":u*=.53996,A=L.GeometryUtil.formattedNumber(u/1e3,M.nm)+" nm";break;case"yards":default:u*=1.09361,A=u>1760?L.GeometryUtil.formattedNumber(u/1760,M.mi)+" miles":L.GeometryUtil.formattedNumber(u,M.yd)+" yd"}return A},isVersion07x:function(){var u=L.version.split(".");return parseInt(u[0],10)===0&&parseInt(u[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,u,d,g){return this._checkCounterclockwise(a,d,g)!==this._checkCounterclockwise(u,d,g)&&this._checkCounterclockwise(a,u,d)!==this._checkCounterclockwise(a,u,g)},_checkCounterclockwise:function(a,u,d){return(d.y-a.y)*(u.x-a.x)>(u.y-a.y)*(d.x-a.x)}}),L.Polyline.include({intersects:function(){var a,u,d,g=this._getProjectedPoints(),v=g?g.length:0;if(this._tooFewPointsForIntersection())return!1;for(a=v-1;a>=3;a--)if(u=g[a-1],d=g[a],this._lineSegmentsIntersectsRange(u,d,a-2))return!0;return!1},newLatLngIntersects:function(a,u){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(a),u)},newPointIntersects:function(a,u){var d=this._getProjectedPoints(),g=d?d.length:0,v=d?d[g-1]:null,T=g-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(v,a,T,u?1:0)},_tooFewPointsForIntersection:function(a){var u=this._getProjectedPoints(),d=u?u.length:0;return d+=a||0,!u||d<=3},_lineSegmentsIntersectsRange:function(a,u,d,g){var v,T,A=this._getProjectedPoints();g=g||0;for(var M=d;M>g;M--)if(v=A[M-1],T=A[M],L.LineUtil.segmentsIntersect(a,u,v,T))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var a=[],u=this._defaultShape(),d=0;d<u.length;d++)a.push(this._map.latLngToLayerPoint(u[d]));return a}}),L.Polygon.include({intersects:function(){var a,u,d,g,v=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(a=v.length,u=v[0],d=v[a-1],g=a-2,this._lineSegmentsIntersectsRange(d,u,g,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,a);var u;this._toolbars={},L.DrawToolbar&&this.options.draw&&(u=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=u,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(u=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=u,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(a){var u,d=L.DomUtil.create("div","leaflet-draw"),g=!1;for(var v in this._toolbars)this._toolbars.hasOwnProperty(v)&&(u=this._toolbars[v].addToolbar(a))&&(g||(L.DomUtil.hasClass(u,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(u.childNodes[0],"leaflet-draw-toolbar-top"),g=!0),d.appendChild(u));return d},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var u in this._toolbars)this._toolbars[u]instanceof L.DrawToolbar&&this._toolbars[u].setOptions(a)},_toolbarEnabled:function(a){var u=a.target;for(var d in this._toolbars)this._toolbars[d]!==u&&this._toolbars[d].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(a){L.setOptions(this,a),this._modes={},this._actionButtons=[],this._activeMode=null;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var u,d=L.DomUtil.create("div","leaflet-draw-section"),g=0,v=this._toolbarClass||"",T=this.getModeHandlers(a);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=a,u=0;u<T.length;u++)T[u].enabled&&this._initModeHandler(T[u].handler,this._toolbarContainer,g++,v,T[u].title);if(g)return this._lastButtonIndex=--g,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),d.appendChild(this._toolbarContainer),d.appendChild(this._actionsContainer),d},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var u=0,d=this._actionButtons.length;u<d;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(a,u,d,g,v){var T=a.type;this._modes[T]={},this._modes[T].handler=a,this._modes[T].button=this._createButton({type:T,title:v,className:g+"-"+T,container:u,callback:this._modes[T].handler.enable,context:this._modes[T].handler}),this._modes[T].buttonIndex=d,this._modes[T].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!s.MSStream},_createButton:function(a){var u=L.DomUtil.create("a",a.className||"",a.container),d=L.DomUtil.create("span","sr-only",a.container);u.href="#",u.appendChild(d),a.title&&(u.title=a.title,d.innerHTML=a.title),a.text&&(u.innerHTML=a.text,d.innerHTML=a.text);var g=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(u,"click",L.DomEvent.stopPropagation).on(u,"mousedown",L.DomEvent.stopPropagation).on(u,"dblclick",L.DomEvent.stopPropagation).on(u,"touchstart",L.DomEvent.stopPropagation).on(u,"click",L.DomEvent.preventDefault).on(u,g,a.callback,a.context),u},_disposeButton:function(a,u){var d=this._detectIOS()?"touchstart":"click";L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"touchstart",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,d,u)},_handlerActivated:function(a){this.disable(),this._activeMode=this._modes[a.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(a){var u,d,g,v,T=this._actionsContainer,A=this.getActions(a),M=A.length;for(d=0,g=this._actionButtons.length;d<g;d++)this._disposeButton(this._actionButtons[d].button,this._actionButtons[d].callback);for(this._actionButtons=[];T.firstChild;)T.removeChild(T.firstChild);for(var I=0;I<M;I++)"enabled"in A[I]&&!A[I].enabled||(u=L.DomUtil.create("li","",T),v=this._createButton({title:A[I].title,text:A[I].text,container:u,callback:A[I].callback,context:A[I].context}),this._actionButtons.push({button:v,callback:A[I].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,u=this._lastButtonIndex,d=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=d+"px",a===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),a===u&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(a){this._map=a,this._popupPane=a._panes.popupPane,this._visible=!1,this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",a.subtext.length!==0||this._singleLineLabel?a.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(a.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",a.text||a.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(a){var u=this._map.latLngToLayerPoint(a),d=this._container;return this._container&&(this._visible&&(d.style.visibility="inherit"),L.DomUtil.setPosition(d,u)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(a){for(var u in this.options)this.options.hasOwnProperty(u)&&a[u]&&(a[u]=L.extend({},this.options[u],a[u]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(a,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(a){return[{enabled:a.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:a.completeShape,context:a},{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:a.deleteLastVertex,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var u in this._modes)this._modes.hasOwnProperty(u)&&a.hasOwnProperty(u)&&this._modes[u].handler.setOptions(a[u])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(a){a.edit&&(a.edit.selectedPathOptions===void 0&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,a.edit.selectedPathOptions)),a.remove&&(a.remove=L.extend({},this.options.remove,a.remove)),a.poly&&(a.poly=L.extend({},this.options.poly,a.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,a),this._selectedFeatureCount=0},getModeHandlers:function(a){var u=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:u,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:u}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(a){var u=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return a.removeAllLayers&&u.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),u},addToolbar:function(a){var u=L.Toolbar.prototype.addToolbar.call(this,a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),u},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var a,u=this.options.featureGroup,d=u.getLayers().length!==0;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,d?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",d?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,d?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",d?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(a,u){if(L.Handler.prototype.initialize.call(this,a),L.setOptions(this,u),this._featureGroup=u.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),a._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(u){u.edited&&(a.addLayer(u),u.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:a})},_backupLayer:function(a){var u=L.Util.stamp(a);this._uneditedLayerProps[u]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[u]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),radius:a.getRadius()}:(a instanceof L.Marker||a instanceof L.CircleMarker)&&(this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(a){var u=L.Util.stamp(a);a.edited=!1,this._uneditedLayerProps.hasOwnProperty(u)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?a.setLatLngs(this._uneditedLayerProps[u].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[u].latlng),a.setRadius(this._uneditedLayerProps[u].radius)):(a instanceof L.Marker||a instanceof L.CircleMarker)&&a.setLatLng(this._uneditedLayerProps[u].latlng),a.fire("revert-edited",{layer:a}))},_enableLayerEdit:function(a){var u,d,g=a.layer||a.target||a;this._backupLayer(g),this.options.poly&&(d=L.Util.extend({},this.options.poly),g.options.poly=d),this.options.selectedPathOptions&&(u=L.Util.extend({},this.options.selectedPathOptions),u.maintainColor&&(u.color=g.options.color,u.fillColor=g.options.fillColor),g.options.original=L.extend({},g.options),g.options.editing=u),g instanceof L.Marker?(g.editing&&g.editing.enable(),g.dragging.enable(),g.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):g.editing.enable()},_disableLayerEdit:function(a){var u=a.layer||a.target||a;u.edited=!1,u.editing&&u.editing.disable(),delete u.options.editing,delete u.options.original,this._selectedPathOptions&&(u instanceof L.Marker?this._toggleMarkerHighlight(u):(u.setStyle(u.options.previousOptions),delete u.options.previousOptions)),u instanceof L.Marker?(u.dragging.disable(),u.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.disable()},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_onMarkerDragEnd:function(a){var u=a.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_onTouchMove:function(a){var u=a.originalEvent.changedTouches[0],d=this._map.mouseEventToLayerPoint(u),g=this._map.layerPointToLatLng(d);a.target.setLatLng(g)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(a,u){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,u),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a),a.fire("revert-deleted",{layer:a})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(a){this._removeLayer({layer:a})},this),this.save()},_enableLayerDelete:function(a){(a.layer||a.target||a).on("click",this._removeLayer,this)},_disableLayerDelete:function(a){var u=a.layer||a.target||a;u.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(u)},_removeLayer:function(a){var u=a.layer||a.target||a;this._deletableLayers.removeLayer(u),this._deletedLayers.addLayer(u),u.fire("deleted")},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function pI({location:s}){const t=uI();return K.useEffect(()=>{s&&t.flyTo([s.lat,s.lng],13)},[s,t]),null}function ow(){const[s,t]=K.useState(null),[n,o]=K.useState(null);return K.useEffect(()=>{if(!navigator.geolocation){console.log("geolocation not supported");return}navigator.geolocation.getCurrentPosition(a=>{t({lat:a.coords.latitude,lng:a.coords.longitude}),console.log(a.coords.latitude,a.coords.longitude)},a=>{console.log("error getting location:",a)})},[]),rt.jsxs(hI,{center:[12.9716,77.5946],zoom:13,scrollWheelZoom:!0,className:"h-screen w-full",children:[rt.jsx(mI,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),s&&rt.jsx(pI,{location:s}),s&&rt.jsx(fI,{position:[s.lat,s.lng],children:rt.jsx(dI,{children:"you are here"})})]})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase()),R0=s=>{const t=gI(s);return t.charAt(0).toUpperCase()+t.slice(1)},lw=(...s)=>s.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim(),yI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=K.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:d,...g},v)=>K.createElement("svg",{ref:v,...vI,width:t,height:t,stroke:s,strokeWidth:o?Number(n)*24/Number(t):n,className:lw("lucide",a),...!u&&!yI(g)&&{"aria-hidden":"true"},...g},[...d.map(([T,A])=>K.createElement(T,A)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=(s,t)=>{const n=K.forwardRef(({className:o,...a},u)=>K.createElement(EI,{ref:u,iconNode:t,className:lw(`lucide-${_I(R0(s))}`,`lucide-${s}`,o),...a}));return n.displayName=R0(s),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M10 10v4",key:"1mb2ec"}],["path",{d:"M14 10v4",key:"1nt88p"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 10v4",key:"1n77qd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],wI=gr("battery-full",TI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],SI=gr("bell",bI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AI=gr("circle-alert",LI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xI=gr("map-pin",CI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],MI=gr("move-right",RI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DI=gr("phone-call",II);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kI=gr("power-off",PI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],NI=gr("power",OI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"m13.5 6.5-3.148-3.148a1.205 1.205 0 0 0-1.704 0L6.352 5.648a1.205 1.205 0 0 0 0 1.704L9.5 10.5",key:"dzhfyz"}],["path",{d:"M16.5 7.5 19 5",key:"1ltcjm"}],["path",{d:"m17.5 10.5 3.148 3.148a1.205 1.205 0 0 1 0 1.704l-2.296 2.296a1.205 1.205 0 0 1-1.704 0L13.5 14.5",key:"nfoymv"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}],["path",{d:"M9.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l4.296-4.296a1.205 1.205 0 0 0 0-1.704l-2.296-2.296a1.205 1.205 0 0 0-1.704 0z",key:"nv9zqy"}]],zI=gr("satellite",VI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],BI=gr("shield-check",UI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],jI=gr("timer",HI),qI=()=>{const[s,t]=K.useState(!1),[n,o]=K.useState(!1),[a,u]=K.useState(null),[d,g]=K.useState(0),[v,T]=K.useState("Ready"),A=ip(),M=()=>{t(!0),o(!0),T("On-Ride"),u(Date.now())},I=()=>{t(!1),u(null),g(0),T("Ready"),A("/end-ride-summary")},$=()=>{const tt=document.createElement("a");tt.href="tel:${phoneNumber}",tt.click()};K.useEffect(()=>{let tt;return s&&a&&(tt=setInterval(()=>{g(Math.floor((Date.now()-a)/1e3))},1e3)),()=>clearInterval(tt)},[s,a]);const nt=tt=>{const st=Math.floor(tt/60),ct=tt%60;return`${st}m ${ct}s`};return rt.jsx("div",{className:"min-h-screen bg-amber-100/2 p-6 text-gray-800",children:rt.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s&&n&&rt.jsx("div",{className:"fixed flex inset-0 z-50 items-center justify-center bg-black/50",children:rt.jsxs("div",{className:"relative w-80 h-80 bg-green-200 border-4 border-green-600 text-green-900 p-6 rounded-2xl text-center shadow-xl transform transition duration-200 ease-out scale-100 opacity-100",children:[rt.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Ride Unlocked! "}),rt.jsx("p",{className:"text-lg",children:"Enjoy your ride. Stay safe and have fun!"}),rt.jsx("video",{src:"unlock.mp4",autoPlay:!0,loop:!0,muted:!0,className:"w-full h-40 object-cover rounded-t-2xl"}),rt.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 right-4 text-2xl text-green-900 font-bold hover:text-red-600 transition",children:""})]})}),rt.jsxs("div",{className:"w-full rounded-xl overflow-hidden shadow-lg bg-gradient-to-r from-green-100 via-yellow-50 to-white p-6 flex flex-col md:flex-row items-center gap-6",children:[rt.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center gap-4",children:[rt.jsx("img",{src:"kk.jpg",alt:"Solar Ride Poster",className:"w-40 h-40 md:w-56 md:h-56 rounded-xl object-cover",loading:"lazy"}),!s&&rt.jsx("button",{type:"button",onClick:M,"aria-label":"Unlock and start ride",className:"bg-green-600 text-white px-5 py-2 rounded-full shadow hover:bg-green-700 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400",children:"Unlock & Start Ride"})]}),rt.jsxs("div",{className:"flex-1 text-center md:text-left",children:[rt.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Welcome to Solar Ride Dashboard"}),rt.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Monitor your ride stats, battery status, and solar input  all in one place."}),rt.jsxs("div",{className:"flex gap-x-4 flex-col md:flex-row gap-4 p-6",children:[rt.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 w-40 h-30 flex flex-col p-4 space-y-2 justify-center items-center rounded-xl shadow-md transform transition duration-200 ease-out hover:scale-105 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2",children:[rt.jsx(jI,{className:"text-blue-500 mb-2"}),rt.jsx("p",{className:"font-semibold",children:"Ride Timer"}),rt.jsx("p",{children:nt(d)})]}),rt.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 w-40 h-30 flex flex-col p-4 space-y-2 rounded-xl justify-center items-center shadow-md transform transition duration-200 ease-out hover:scale-105 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 ",children:[rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",strokewidth:"3",stroke:"green",class:"size-6",children:rt.jsx("path",{strokeLinecap:"round",strokelinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),rt.jsx("p",{className:"font-semibold text-blac-600",children:" Status"}),rt.jsx("p",{children:v})]})]})]})]}),rt.jsxs("div",{className:"grid grid-cols-2 rounded-xl gap-2 p-4 bg-gradient-to-r from-green-100 via-yellow-50 to-white",children:[rt.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-4",children:[rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md min-h-28 flex flex-col justify-center items-center transform transition duration-200 ease-out hover:scale-105 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 ",children:[rt.jsx("div",{className:"p-3 rounded-full bg-indigo-100 mb-2",children:rt.jsx(MI,{className:"text-indigo-500 "})}),rt.jsx("p",{className:"font-semibold",children:"Distance"}),rt.jsx("p",{children:s?"1.2 km":"0.0 km"})]}),rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md min-h-28 flex flex-col justify-center items-center transform transition duration-200 ease-out hover:scale-105 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 ",children:[rt.jsx("div",{className:"p-3 rounded-full bg-indigo-100 mb-2",children:rt.jsx(zI,{className:"text-purple-500 mb-2"})}),rt.jsx("p",{className:"font-semibold",children:"Speed"}),rt.jsx("p",{children:s?"15 km/h":"0 km/h"})]}),rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md min-h-28 flex flex-col justify-center items-center transform transition duration-200 ease-out hover:scale-105 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2",children:[rt.jsx("div",{className:"p-3 rounded-full bg-indigo-100 mb-2",children:rt.jsx(NI,{className:"text-yellow-500 mb-2"})}),rt.jsx("p",{className:"font-semibold",children:"Solar Input"}),rt.jsx("p",{children:"18W"})]}),rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md min-h-28 flex flex-col justify-center items-center transform transition duration-200 ease-out hover:scale-105 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2",children:[rt.jsx("div",{className:"p-3 rounded-full bg-indigo-100 mb-2",children:rt.jsx(xI,{className:"text-red-400 mb-2"})}),rt.jsx("p",{className:"font-semibold",children:"Location"}),rt.jsx("p",{children:"Lat: 12.9, Lon: 77.5"})]})]}),rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md h-80 z-0",children:[rt.jsx("p",{className:"font-semibold mb-2",children:"GPS Map View"}),rt.jsx("div",{className:"w-full  h-60 rounded mb-3 mt-2 overflow-hidden",children:rt.jsx(ow,{})})]})]}),rt.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-white p-4 rounded-xl shadow-md",children:[rt.jsx(wI,{className:"text-green-600 "}),rt.jsx("p",{className:"font-semibold",children:"Battery"}),rt.jsx("p",{className:"text-lg font-bold text-green-600",children:"85%"}),rt.jsx("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,className:"w-full bg-gray-200 h-2 rounded-full mt-3",children:rt.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:"85%"}})})]}),rt.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-6",children:[rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[rt.jsx(AI,{className:"text-red-600 mb-2"}),rt.jsx("p",{className:"font-semibold",children:"Low Battery Alert"})]}),rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[rt.jsx(SI,{className:"text-orange-500 mb-2"}),rt.jsx("p",{className:"font-semibold",children:"Geo-Fence Alert"})]}),rt.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[rt.jsx(BI,{className:"text-blue-600 mb-2"}),rt.jsx("p",{className:"font-semibold",children:"Obstacle Detected"})]})]}),rt.jsx("div",{className:"mt-6 text-center",children:rt.jsxs("button",{onClick:$,className:"bg-red-600 text-white px-6 py-3 rounded-full shadow hover:bg-red-700 transition flex items-center justify-center gap-2 mx-auto",children:[rt.jsx(DI,{className:"w-5 h-5"}),"Emergency SOS"]})}),s&&rt.jsx("div",{className:"fixed bottom-4 right-4",children:rt.jsxs("button",{onClick:I,className:"bg-gray-800 text-white px-4 py-2 rounded-full shadow hover:bg-gray-700 flex items-center gap-2",children:[rt.jsx(kI,{className:"w-4 h-4"}),"End Ride"]})})]})})},GI=()=>rt.jsxs("div",{className:"w-full min-h-screen bg-white p-6 flex flex-col items-center text-center",children:[rt.jsx("div",{className:"text-green-600 font-bold text-2xl mb-4",children:" Ride Completed!"}),rt.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-gray-800",children:[rt.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[rt.jsx("h2",{className:"text-sm",children:"Time"}),rt.jsx("p",{className:"text-lg font-semibold",children:"18 min 45 s"})]}),rt.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[rt.jsx("h2",{className:"text-sm",children:"Distance"}),rt.jsx("p",{className:"text-lg font-semibold",children:"4.3 km"})]}),rt.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[rt.jsx("h2",{className:"text-sm",children:"Avg Speed"}),rt.jsx("p",{className:"text-lg font-semibold",children:"14 km/h"})]})]}),rt.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:[rt.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[rt.jsx("h2",{className:"text-sm",children:"CO Saved"}),rt.jsx("p",{className:"text-lg font-semibold",children:"0.9 kg"})]}),rt.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[rt.jsx("h2",{className:"text-sm",children:"Calories"}),rt.jsx("p",{className:"text-lg font-semibold",children:"230 kcal"})]})]}),rt.jsx("div",{className:"mt-6 w-full max-w-md",children:rt.jsx("div",{className:"bg-gray-300 h-64 w-full rounded-lg flex items-center justify-center text-gray-600",children:"Map Snapshot Placeholder"})}),rt.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"mt-8 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:" Start New Ride"})]});function FI(){return rt.jsx(F1,{basename:"/Solar-ride",children:rt.jsxs(w1,{children:[rt.jsx(Gu,{path:"/",element:rt.jsx(KM,{})}),rt.jsx(Gu,{path:"/end-ride-summary",element:rt.jsx(GI,{})}),rt.jsx(Gu,{path:"/dashboard",element:rt.jsx(qI,{})}),rt.jsx(Gu,{path:"/Map",element:rt.jsx(ow,{})})]})})}Db.createRoot(document.getElementById("root")).render(rt.jsx(K.StrictMode,{children:rt.jsx(FI,{})}));
